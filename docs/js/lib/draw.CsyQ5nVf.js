import{r as I,R as l,e as Va,g as K0}from"./react.DsKeDyCH.js";import{c as he,C as Z0,t as tc,S as Qu,a as Ke,T as ce,D as Ir,B as Ve,I as cn,b as Ju,F as te,R as fe,d as ee,e as ht,P as qu,s as Bi,E as sn,f as Js,g as Wr,h as ef,i as Q0,j as J0,M as q0}from"./antd.Clmc72Mo.js";let fo="idraw-studio";function nc(e){fo=e}function rc(){return fo}function tf(e){return(...t)=>[fo,e,...t].join("-")}function Y(...e){return[fo,...e].join("-")}const eg={locale:"en-US",Header:{},LayoutDetail:{layout:"Layout",groupLayout:"Group Layout",x:"X",y:"Y",w:"W",h:"H",background:"Background",solid:"Solid",dash:"Dash",inside:"Inside",outside:"Outside",centerLine:"Center",gradient:"Gradient",opacity:"Opacity",mixedBorderWidth:"Mixed",mixedBorderRadius:"Mixed",overflow:"Overflow",hidden:"Hidden",visible:"Visible"},ElementDetail:{basicAttributes:"Basic",borderAttribute:"Border",contentAttribute:"Content",shadowAttribute:"Shadow",x:"X",y:"Y",w:"W",h:"H",background:"Background",solid:"Solid",dash:"Dash",inside:"Inside",outside:"Outside",centerLine:"Center",gradient:"Gradient",opacity:"Opacity",mixedBorderWidth:"Mixed",mixedBorderRadius:"Mixed",overflow:"Overflow",hidden:"Hidden",visible:"Visible",deepResizeInGroup:"Deep resize in group"},Menu:{about:"About @idraw/studio",file:"File",importJSONFile:"Import JSON file",exportJSONFile:"Export JSON file",exportImage:"Export image",preferences:"Preferences",rect:"Rect",circle:"Circle",text:"Text",image:"Image",html:"HTML",svg:"SVG",group:"Group",devicePixelRatio:"Device pixel ratio"}},tg={locale:"zh-CN",Header:{},LayoutDetail:{layout:"布局",groupLayout:"组布局",x:"X",y:"Y",w:"宽",h:"高",background:"背景色",solid:"实线",dash:"虚线",inside:"内线",outside:"外线",centerLine:"中线",gradient:"渐变",opacity:"透明度",mixedBorderWidth:"混合边框",mixedBorderRadius:"混合圆角",overflow:"溢出",hidden:"隐藏",visible:"可视"},ElementDetail:{basicAttributes:"基础",borderAttribute:"边框",contentAttribute:"内容",shadowAttribute:"阴影",x:"X",y:"Y",w:"宽",h:"高",background:"背景色",solid:"实线",dash:"虚线",inside:"内线",outside:"外线",centerLine:"中线",gradient:"渐变",opacity:"透明度",mixedBorderWidth:"混合边框",mixedBorderRadius:"混合圆角",overflow:"溢出",hidden:"隐藏",visible:"可视",deepResizeInGroup:"组内尺寸关联调整"},Menu:{about:"关于 @idraw/studio",file:"文件",importJSONFile:"导入JSON文件",exportJSONFile:"导出JSON文件",exportImage:"导出图片",preferences:"预设",rect:"矩形",circle:"圆形",text:"文本",image:"图片",html:"HTML片段",svg:"SVG片段",group:"群组",devicePixelRatio:"设备像素比例"}},ac={"en-US":eg,"zh-CN":tg},ys="en-US",nf=e=>{const{localeCode:t}=I.useContext(Aa);return[I.useMemo(()=>{const a=(ac[t||ys]||ac[ys])[e];return Object.assign({},a)},[t,e])]},ng=e=>{const{themeMode:t}=e,n="theme",r=Y(n),a=Y(n,"dark"),i=he({[r]:!0,[a]:t==="dark"});return{themeMode:t,className:i}},rf=e=>(e!=null&&e.topPrefix&&typeof(e==null?void 0:e.topPrefix)=="string"&&nc(e.topPrefix),Object.assign({topPrefix:rc(),createPrefixName:tf,generateClassName:Y,getClassNameTopPrefix:rc,setClassNameTopPrefix:nc,localeCode:ys},e||{})),Aa=I.createContext(rf()),rg=e=>{const{children:t,topPrefix:n,localeCode:r,container:a,themeMode:i}=e,o=rf({topPrefix:n,localeCode:r}),[s,c]=I.useState(o),{className:d}=ng({themeMode:i});return I.useEffect(()=>{c(Object.assign(Object.assign({},s),{localeCode:r,container:a}))},[r,a]),l.createElement(Aa.Provider,{value:Object.assign({},s)},l.createElement(Z0,{theme:{algorithm:i==="dark"?tc.darkAlgorithm:tc.defaultAlgorithm}},l.createElement("div",{className:d},t)))};class ic extends l.PureComponent{render(){const{children:t,className:n,split:r,style:a,size:i,eleRef:o}=this.props,s=["Pane",r,n];let c={flex:1,position:"relative",outline:"none"};return i!==void 0&&(r==="vertical"?c.width=i:(c.height=i,c.display="flex"),c.flex="none"),c=Object.assign({},c,a||{}),l.createElement("div",{ref:o,className:s.join(" "),style:c},t)}}const ag="base-split-pane",ig=()=>{const{generateClassName:e}=I.useContext(Aa);return{modClassName:e(ag)}};function og(e){const{modClassName:t}=ig(),{className:n,onClick:r,onDoubleClick:a,onMouseDown:i,onTouchEnd:o,onTouchStart:s,resizerClassName:c=t,split:d,style:u}=e,f=[c,d,n];return I.useMemo(()=>l.createElement("span",{role:"presentation",className:f.join(" "),style:u,onMouseDown:h=>i(h),onTouchStart:h=>{h.preventDefault(),s(h)},onTouchEnd:h=>{h.preventDefault(),o(h)},onClick:h=>{r&&(h.preventDefault(),r(h))},onDoubleClick:h=>{a&&(h.preventDefault(),a(h))}}),[])}const sg="xxxxx";function oc(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch{}}function sc(e,t,n,r){if(typeof r=="number"){const a=typeof t=="number"?t:0,i=typeof n=="number"&&n>=0?n:1/0;return Math.max(a,Math.min(i,r))}return e!==void 0?e:t}function lg(e){return l.Children.toArray(e).filter(t=>t)}class Fi extends l.Component{constructor(t){super(t),this.onMouseDown=this.onMouseDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this);const{size:n,defaultSize:r,minSize:a,maxSize:i,primary:o}=t,s=n!==void 0?n:sc(r,a,i,null);this.state={active:!1,resized:!1,pane1Size:o==="first"?s:void 0,pane2Size:o==="second"?s:void 0,instanceProps:{size:n}}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(Fi.getSizeUpdate(this.props,this.state))}static getDerivedStateFromProps(t,n){return Fi.getSizeUpdate(t,n)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}onMouseDown(t){const n=Object.assign({},t,{touches:[{clientX:t.clientX,clientY:t.clientY}]});this.onTouchStart(n)}onTouchStart(t){const{allowResize:n,onDragStarted:r,split:a}=this.props;if(n){oc(document,window);const i=a==="vertical"?t.touches[0].clientX:t.touches[0].clientY;typeof r=="function"&&r(),this.setState({active:!0,position:i})}}onMouseMove(t){const n=Object.assign({},t,{touches:[{clientX:t.clientX,clientY:t.clientY}]});this.onTouchMove(n)}onTouchMove(t){const{allowResize:n,maxSize:r,minSize:a,onChange:i,split:o,step:s}=this.props,{active:c,position:d}=this.state;if(n&&c){oc(document,window);const u=this.props.primary==="first",f=u?this.pane1:this.pane2,h=u?this.pane2:this.pane1;if(f){const g=f,v=h;if(g.getBoundingClientRect){const p=g.getBoundingClientRect().width,m=g.getBoundingClientRect().height,b=o==="vertical"?t.touches[0].clientX:t.touches[0].clientY,x=o==="vertical"?p:m;let w=d-b;if(s){if(Math.abs(w)<s)return;w=~~(w/s)*s}let y=u?w:-w;const _=parseInt(window.getComputedStyle(g).order),E=parseInt(window.getComputedStyle(v).order);_>E&&(y=-y);let T=r;if(r!==void 0&&r<=0){const D=this.splitPane;o==="vertical"?T=D.getBoundingClientRect().width+r:T=D.getBoundingClientRect().height+r}let P=x-y;const j=d-w;P<a?P=a:r!==void 0&&P>T?P=T:this.setState({position:j,resized:!0}),i&&i(P),this.setState({draggedSize:P,[u?"pane1Size":"pane2Size"]:P})}}}}onMouseUp(){const{allowResize:t,onDragFinished:n}=this.props,{active:r,draggedSize:a}=this.state;t&&r&&(typeof n=="function"&&n(a),this.setState({active:!1}))}static getSizeUpdate(t,n){const r={},{instanceProps:a}=n;if(a.size===t.size&&t.size!==void 0)return{};const i=t.size!==void 0?t.size:sc(t.defaultSize,t.minSize,t.maxSize,n.draggedSize);t.size!==void 0&&(r.draggedSize=i);const o=t.primary==="first";return r[o?"pane1Size":"pane2Size"]=i,r[o?"pane2Size":"pane1Size"]=void 0,r.instanceProps={size:t.size},r}render(){const{allowResize:t,children:n,className:r,onResizerClick:a,onResizerDoubleClick:i,paneClassName:o,pane1ClassName:s,pane2ClassName:c,paneStyle:d,pane1Style:u,pane2Style:f,resizerClassName:h,resizerStyle:g,split:v,style:p}=this.props,{pane1Size:m,pane2Size:b}=this.state,x=t?"":"disabled",w=h&&`${h} ${sg}`,y=lg(n),_=Object.assign({display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},p);v==="vertical"?Object.assign(_,{flexDirection:"row",left:0,right:0}):Object.assign(_,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});const E=["SplitPane",r,v,x],T=Object.assign(Object.assign({},d),u),P=Object.assign(Object.assign({},d),f),j=["Pane1",o,s].join(" "),D=["Pane2",o,c].join(" ");return l.createElement("div",{className:E.join(" "),ref:V=>{this.splitPane=V},style:_},l.createElement(ic,{className:j,key:"pane1",eleRef:V=>{this.pane1=V},size:m,split:v,style:T},y[0]),l.createElement(og,{className:x,onClick:a,onDoubleClick:i,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",resizerClassName:w,split:v,style:g||{}}),l.createElement(ic,{className:D,key:"pane2",eleRef:V=>{this.pane2=V},size:b,split:v,style:P},y[1]))}}var cg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const dg="icon",ug=()=>({iconClassName:Y(dg)}),ie=e=>{const{className:t,style:n,children:r}=e,a=cg(e,["className","style","children"]),{iconClassName:i}=ug();return I.useMemo(()=>l.createElement("span",Object.assign({className:he([i,t]),style:n},a),r),[i,n,t])},fg=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M516.266667 938.666667h-38.4c-234.666667-21.333333-405.333333-230.4-384-465.066667 17.066667-204.8 179.2-366.933333 384-384 17.066667 0 34.133333 8.533333 42.666666 21.333333 8.533333 12.8 8.533333 34.133333-4.266666 46.933334-85.333333 115.2-59.733333 273.066667 55.466666 358.4 89.6 68.266667 213.333333 68.266667 302.933334 0 12.8-8.533333 29.866667-12.8 46.933333-4.266667 12.8 8.533333 21.333333 25.6 21.333333 42.666667-8.533333 115.2-64 217.6-153.6 290.133333-81.066667 59.733333-174.933333 93.866667-273.066666 93.866667zM396.8 187.733333c-123.733333 42.666667-213.333333 153.6-221.866667 290.133334-17.066667 187.733333 119.466667 354.133333 307.2 371.2 89.6 8.533333 179.2-17.066667 247.466667-76.8 46.933333-38.4 81.066667-89.6 102.4-145.066667-106.666667 38.4-226.133333 21.333333-320-46.933333-119.466667-93.866667-166.4-251.733333-115.2-392.533334z"}))),hg=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M512 768c-141.376 0-256-114.624-256-256s114.624-256 256-256 256 114.624 256 256-114.624 256-256 256z m0-85.333333a170.666667 170.666667 0 1 0 0-341.333334 170.666667 170.666667 0 0 0 0 341.333334zM469.333333 85.333333a42.666667 42.666667 0 1 1 85.333334 0v85.333334a42.666667 42.666667 0 1 1-85.333334 0V85.333333z m0 768a42.666667 42.666667 0 1 1 85.333334 0v85.333334a42.666667 42.666667 0 1 1-85.333334 0v-85.333334zM85.333333 554.666667a42.666667 42.666667 0 1 1 0-85.333334h85.333334a42.666667 42.666667 0 1 1 0 85.333334H85.333333z m768 0a42.666667 42.666667 0 1 1 0-85.333334h85.333334a42.666667 42.666667 0 1 1 0 85.333334h-85.333334zM161.834667 222.165333a42.666667 42.666667 0 0 1 60.330666-60.330666l64 64a42.666667 42.666667 0 0 1-60.330666 60.330666l-64-64z m576 576a42.666667 42.666667 0 0 1 60.330666-60.330666l64 64a42.666667 42.666667 0 0 1-60.330666 60.330666l-64-64z m-515.669334 64a42.666667 42.666667 0 0 1-60.330666-60.330666l64-64a42.666667 42.666667 0 0 1 60.330666 60.330666l-64 64z m576-576a42.666667 42.666667 0 0 1-60.330666-60.330666l64-64a42.666667 42.666667 0 0 1 60.330666 60.330666l-64 64z"}))),gg="base-theme-switch",pg=tf(gg),lc=e=>{if(!(typeof e>"u"))return e==="light"};function vg(e){return e===!0?"light":"dark"}const mg=e=>{const{className:t,style:n,onChange:r,theme:a,defaultTheme:i}=e;return l.createElement(Qu,{className:he([pg(),t]),style:n,checkedChildren:l.createElement(hg,{style:{height:"100%"}}),unCheckedChildren:l.createElement(fg,{style:{height:"100%"}}),checked:lc(i),defaultChecked:lc(a),onChange:o=>{const s=vg(o);r==null||r({theme:s})}})},cc=Ke.Option,bg="base-locale-selector",yg=e=>{const{className:t,style:n,defaultValue:r,value:a,onChange:i}=e;return I.useMemo(()=>l.createElement(Ke,{style:n,className:he(Y(bg),t),size:"small",defaultValue:r,value:a,onChange:i},l.createElement(cc,{value:"en-US"},"English"),l.createElement(cc,{value:"zh-CN"},"中文")),[t,n,r,a,i])};function qs(e){const{accept:t,success:n,error:r}=e;let a=document.createElement("input");a.type="file",t&&(a.accept=t),a.addEventListener("change",function(){var i;const o=(i=a.files)===null||i===void 0?void 0:i[0];n({file:o}),a=null}),a.addEventListener("error",function(i){typeof r=="function"&&r(i),a=null}),a.click()}function wg(e){return new Promise(function(t,n){let r=new FileReader;r.addEventListener("load",function(){t(r.result),r=null}),r.addEventListener("error",function(a){n(a),r=null}),r.addEventListener("abort",function(){n(new Error("abort")),r=null}),r.readAsDataURL(e)})}function xg(e){return new Promise(function(t,n){let r=new FileReader;r.addEventListener("load",function(){t(r.result),r=null}),r.addEventListener("error",function(a){n(a),r=null}),r.addEventListener("abort",function(){n(new Error("abort")),r=null}),r.readAsText(e)})}function Eg(e){const t=new TextEncoder().encode(e),n=new Blob([t],{type:"text/plain;charset=utf-8"});return window.URL.createObjectURL(n)}function Sg(e,t){const{fileName:n}=t,r=Eg(e);let a=document.createElement("a");a.href=r,a.download=n,a.click(),a=null}function Hi(e){return typeof e=="string"&&(/^\#([0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8})$/i.test(e)||/^[a-z]{1,}$/i.test(e))}function Cg(e){let t="transparent";if(typeof e=="string")t=e;else if((e==null?void 0:e.type)==="linear-gradient"){const n=[];typeof e.angle=="number"?n.push(`${e.angle}deg`):n.push("180deg"),Array.isArray(e.stops)&&e.stops.forEach(r=>{n.push(`${r.color} ${r.offset*100}%`)}),t=`linear-gradient(${n.join(", ")})`}else if((e==null?void 0:e.type)==="radial-gradient"){const n=[];Array.isArray(e.stops)&&e.stops.forEach(r=>{n.push(`${r.color} ${r.offset*100}%`)}),t=`radial-gradient(circle, ${n.join(", ")})`}return t}function Vi(e){let t="transparent";if(typeof e=="string")t=e;else if((e==null?void 0:e.type)==="radial-gradient"||(e==null?void 0:e.type)==="linear-gradient"){const n=[];Array.isArray(e.stops)&&e.stops.length>0&&(e.stops.forEach((r,a)=>{n.push(`${r.color} ${r.offset*100}%`),a===e.stops.length-1&&r.offset<1&&n.push(`${r.color} ${r.offset*100}%`)}),t=`linear-gradient(90deg, ${n.join(", ")})`)}return t}function dc(e,t){if(t===1)return e;let n=1;const r=/^\#[0-9a-f]{6,6}$/i,a=/^\#[0-9a-f]{8,8}$/i;let i=e;if(r.test(e)?n=parseInt(e.substring(5,7).replace(/^\#/,"0x")):a.test(e)&&(n=parseInt(e.substring(7,9).replace(/^\#/,"0x")),i=e.substring(0,7)),n=n*t,r.test(i)&&n>0&&n<1){const o=Math.max(0,Math.min(255,Math.ceil(n*256)));i=`${i.toUpperCase()}${o.toString(16).toUpperCase()}`}return i}function nt(){function e(){return((1+Math.random())*65536|0).toString(16).substring(1)}return`${e()}${e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}function Kt(e){let t=0;for(let n=0;n<e.length;n++)t+=e.charCodeAt(n)*e.charCodeAt(n)*n*n;return t.toString(16).substring(0,4)}function Pr(e){const t=e.length,n=Math.floor(t/2),r=e.substring(0,4).padEnd(4,"0"),a=e.substring(0,4).padEnd(4,"0"),i=Kt(t.toString(16).padEnd(4,r)),o=Kt(e.substring(n-4,n).padEnd(4,r)).padEnd(4,"f"),s=Kt(e.substring(n-8,n-4).padEnd(4,r)).padEnd(4,"f"),c=Kt(e.substring(n-12,n-8).padEnd(4,r)).padEnd(4,"f"),d=Kt(e.substring(n-16,n-12).padEnd(4,a)).padEnd(4,"f"),u=Kt(e.substring(n,n+4).padEnd(4,a)).padEnd(4,"f"),f=Kt(e.substring(n+4,n+8).padEnd(4,a)).padEnd(4,"f"),h=Kt(a.padEnd(4,r).padEnd(4,a));return`@assets/${i}${o}-${s}-${c}-${d}-${u}${f}${h}`}function Cn(e){return/^@assets\/[0-9a-z]{8,8}\-[0-9a-z]{4,4}\-[0-9a-z]{4,4}\-[0-9a-z]{4,4}\-[0-9a-z]{12,12}$/.test(`${e}`)}function Mn(e){function t(n){const r=Mg(n);if(["Null","Number","String","Boolean","Undefined"].indexOf(r)>=0)return n;if(r==="Array"){const a=[];return n.forEach(i=>{a.push(t(i))}),a}else if(r==="Object"){const a={};return Object.keys(n).forEach(s=>{a[s]=t(n[s])}),Object.getOwnPropertySymbols(n).forEach(s=>{a[s]=t(n[s])}),a}}return t(e)}function ko(e){const t=Mn(e),n=r=>{r.uuid=nt(),r.type==="group"&&r.detail.children&&r.detail.children.forEach(a=>{n(a)})};return n(t),t}function Mg(e){return Object.prototype.toString.call(e).replace(/[\]|\[]{1,1}/gi,"").split(" ")[1]}function Ag(e,t){const n=e.assets||{},r=Mn(e),a=(t==null?void 0:t.loadItemMap)||{},i=o=>{o.forEach(s=>{var c,d,u;if(s.type==="image"&&s.detail.src){const f=s.detail.src;if(Cn(f)&&!n[f]&&a[f]&&typeof((c=a[f])===null||c===void 0?void 0:c.source)=="string")n[f]={type:"image",value:a[f].source};else if(!n[f]){const h=Pr(f);n[h]||(n[h]={type:"image",value:f}),s.detail.src=h}}else if(s.type==="svg"){const f=s.detail.svg;if(Cn(f)&&!n[f]&&a[f]&&typeof((d=a[f])===null||d===void 0?void 0:d.source)=="string")n[f]={type:"svg",value:a[f].source};else if(!n[f]){const h=Pr(f);n[h]||(n[h]={type:"svg",value:f}),s.detail.svg=h}}else if(s.type==="html"){const f=s.detail.html;if(Cn(f)&&!n[f]&&a[f]&&typeof((u=a[f])===null||u===void 0?void 0:u.source)=="string")n[f]={type:"html",value:a[f].source};else if(!n[f]){const h=Pr(f);n[h]||(n[h]={type:"html",value:f}),s.detail.html=h}}else if(s.type==="group"&&Array.isArray(s.detail.children)){const f=s.detail.assets||{};Object.keys(f).forEach(h=>{n[h]||(n[h]=f[h])}),delete s.detail.assets,i(s.detail.children)}})};return i(r.elements),r.assets=n,r}function yt(e){return(Object.prototype.toString.call(e)||"").replace(/(\[object|\])/gi,"").trim()}const sa={type(e,t){const n=yt(e);return t===!0?n.toLocaleLowerCase():n},array(e){return yt(e)==="Array"},json(e){return yt(e)==="Object"},function(e){return yt(e)==="Function"},asyncFunction(e){return yt(e)==="AsyncFunction"},boolean(e){return yt(e)==="Boolean"},string(e){return yt(e)==="String"},number(e){return yt(e)==="Number"},undefined(e){return yt(e)==="Undefined"},null(e){return yt(e)==="Null"},promise(e){return yt(e)==="Promise"}};function Tg(e,t){const{width:n,height:r}=t;return new Promise((a,i)=>{const o=`
    <svg 
      xmlns="http://www.w3.org/2000/svg" 
      width="${n||""}" 
      height = "${r||""}">
      <foreignObject width="100%" height="100%">
        <div xmlns = "http://www.w3.org/1999/xhtml">
          ${e}
        </div>
      </foreignObject>
    </svg>
    `,s=new Blob([o],{type:"image/svg+xml;charset=utf-8"}),c=new FileReader;c.readAsDataURL(s),c.onload=function(d){var u;const f=(u=d==null?void 0:d.target)===null||u===void 0?void 0:u.result;a(f)},c.onerror=function(d){i(d)}})}function _g(e){return new Promise((t,n)=>{const r=e,a=new Blob([r],{type:"image/svg+xml;charset=utf-8"}),i=new FileReader;i.readAsDataURL(a),i.onload=function(o){var s;const c=(s=o==null?void 0:o.target)===null||s===void 0?void 0:s.result;t(c)},i.onerror=function(o){n(o)}})}var af=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})};const{Image:Og}=window;function ho(e){return new Promise((t,n)=>{const r=new Og;r.crossOrigin="anonymous",r.onload=function(){t(r)},r.onabort=n,r.onerror=n,r.src=e})}function Pg(e){return af(this,void 0,void 0,function*(){const t=yield _g(e);return yield ho(t)})}function Ig(e){return e.replace(/\&/gi,"&amp;")}function $g(e,t){return af(this,void 0,void 0,function*(){e=Ig(e);const n=yield Tg(e,t);return yield ho(n)})}function Pn(e){return typeof e=="number"&&(e>0||e<=0)}function zg(e){return Pn(e)}function Rg(e){return Pn(e)}function of(e){return typeof e=="number"&&e>=0}function Dg(e){return typeof e=="number"&&e>=0}function Ng(e){return typeof e=="number"&&e>=-360&&e<=360}function Lg(e){return of(e)}function jg(e){return Pn(e)&&e>=0}function kg(e){return Hi(e)}function sf(e){return typeof e=="string"&&/^(http:\/\/|https:\/\/|\.\/|\/)/.test(`${e}`)}function lf(e){return typeof e=="string"&&/^(data:image\/)/.test(`${e}`)}function Bg(e){return lf(e)||sf(e)}function Fg(e){return typeof e=="string"&&/^(<svg[\s]{1,}|<svg>)/i.test(`${e}`.trim())&&/<\/[\s]{0,}svg>$/i.test(`${e}`.trim())}function Hg(e){let t=!1;if(typeof e=="string"){let n=document.createElement("div");n.innerHTML=e,n.children.length>0&&(t=!0),n=null}return t}function Vg(e){return typeof e=="string"}function Wg(e){return Pn(e)&&e>0}function Gg(e){return Pn(e)&&e>0}function Ug(e){return Pn(e)&&e>0}function Yg(e){return["center","left","right"].includes(e)}function Xg(e){return typeof e=="string"&&e.length>0}function Kg(e){return["bold"].includes(e)}function Zg(e){return/^(-?\d+(?:\.\d+)?)$/.test(`${e}`)}const Te={x:zg,y:Rg,w:of,h:Dg,angle:Ng,number:Pn,numberStr:Zg,borderWidth:Lg,borderRadius:jg,color:kg,imageSrc:Bg,imageURL:sf,imageBase64:lf,svg:Fg,html:Hg,text:Vg,fontSize:Wg,lineHeight:Gg,textAlign:Yg,fontFamily:Xg,fontWeight:Kg,strokeWidth:Ug};var Wa=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},q=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ne,Rt;const Qg=12,Jg="400",qg="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'";class cf{constructor(t,n){ne.set(this,void 0),Rt.set(this,void 0),Wa(this,ne,t,"f"),Wa(this,Rt,Object.assign({devicePixelRatio:1,offscreenCanvas:null},n),"f"),this.$resetFont()}$undoPixelRatio(t){return t/q(this,Rt,"f").devicePixelRatio}$doPixelRatio(t){return q(this,Rt,"f").devicePixelRatio*t}$getContext(){return q(this,ne,"f")}$setContext(t){Wa(this,ne,t,"f")}$setFont(t){const n=[];t.fontWeight&&n.push(`${t.fontWeight}`),n.push(`${this.$doPixelRatio(t.fontSize||12)}px`),n.push(`${t.fontFamily||"sans-serif"}`),q(this,ne,"f").font=`${n.join(" ")}`}$resetFont(){this.$setFont({fontSize:Qg,fontFamily:qg,fontWeight:Jg})}$getOffscreenCanvas(){return q(this,Rt,"f").offscreenCanvas}$resize(t){const{width:n,height:r,devicePixelRatio:a,resetStyle:i}=t,{canvas:o}=q(this,ne,"f");o.width=n*a,o.height=r*a,Wa(this,Rt,Object.assign(Object.assign({},q(this,Rt,"f")),{devicePixelRatio:a}),"f"),i===!0&&(o.style.width=`${n}px`,o.style.height=`${r}px`)}$getSize(){const{devicePixelRatio:t}=q(this,Rt,"f"),{width:n,height:r}=q(this,ne,"f").canvas;return{width:n/t,height:r/t,devicePixelRatio:t}}get canvas(){return q(this,ne,"f").canvas}get fillStyle(){return q(this,ne,"f").fillStyle}set fillStyle(t){q(this,ne,"f").fillStyle=t}get strokeStyle(){return q(this,ne,"f").strokeStyle}set strokeStyle(t){q(this,ne,"f").strokeStyle=t}get lineWidth(){return this.$undoPixelRatio(q(this,ne,"f").lineWidth)}set lineWidth(t){q(this,ne,"f").lineWidth=this.$doPixelRatio(t)}get textAlign(){return q(this,ne,"f").textAlign}set textAlign(t){q(this,ne,"f").textAlign=t}get textBaseline(){return q(this,ne,"f").textBaseline}set textBaseline(t){q(this,ne,"f").textBaseline=t}get globalAlpha(){return q(this,ne,"f").globalAlpha}set globalAlpha(t){q(this,ne,"f").globalAlpha=t}get shadowColor(){return q(this,ne,"f").shadowColor}set shadowColor(t){q(this,ne,"f").shadowColor=t}get shadowOffsetX(){return this.$undoPixelRatio(q(this,ne,"f").shadowOffsetX)}set shadowOffsetX(t){q(this,ne,"f").shadowOffsetX=this.$doPixelRatio(t)}get shadowOffsetY(){return this.$undoPixelRatio(q(this,ne,"f").shadowOffsetY)}set shadowOffsetY(t){q(this,ne,"f").shadowOffsetY=this.$doPixelRatio(t)}get shadowBlur(){return this.$undoPixelRatio(q(this,ne,"f").shadowBlur)}set shadowBlur(t){q(this,ne,"f").shadowBlur=this.$doPixelRatio(t)}get lineCap(){return q(this,ne,"f").lineCap}set lineCap(t){q(this,ne,"f").lineCap=t}get globalCompositeOperation(){return q(this,ne,"f").globalCompositeOperation}set globalCompositeOperation(t){q(this,ne,"f").globalCompositeOperation=t}fill(...t){return q(this,ne,"f").fill(...t)}arc(t,n,r,a,i,o){return q(this,ne,"f").arc(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),a,i,o)}rect(t,n,r,a){return q(this,ne,"f").rect(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a))}fillRect(t,n,r,a){return q(this,ne,"f").fillRect(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a))}clearRect(t,n,r,a){return q(this,ne,"f").clearRect(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a))}beginPath(){return q(this,ne,"f").beginPath()}closePath(){return q(this,ne,"f").closePath()}lineTo(t,n){return q(this,ne,"f").lineTo(this.$doPixelRatio(t),this.$doPixelRatio(n))}moveTo(t,n){return q(this,ne,"f").moveTo(this.$doPixelRatio(t),this.$doPixelRatio(n))}arcTo(t,n,r,a,i){return q(this,ne,"f").arcTo(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a),this.$doPixelRatio(i))}getLineDash(){return q(this,ne,"f").getLineDash()}setLineDash(t){const n=t.map(r=>this.$doPixelRatio(r));return q(this,ne,"f").setLineDash(n)}stroke(t){return t?q(this,ne,"f").stroke(t):q(this,ne,"f").stroke()}translate(t,n){return q(this,ne,"f").translate(this.$doPixelRatio(t),this.$doPixelRatio(n))}rotate(t){return q(this,ne,"f").rotate(t)}drawImage(...t){const n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[t.length-4],c=t[t.length-3],d=t[t.length-2],u=t[t.length-1];return t.length===9?q(this,ne,"f").drawImage(n,this.$doPixelRatio(r),this.$doPixelRatio(a),this.$doPixelRatio(i),this.$doPixelRatio(o),this.$doPixelRatio(s),this.$doPixelRatio(c),this.$doPixelRatio(d),this.$doPixelRatio(u)):q(this,ne,"f").drawImage(n,this.$doPixelRatio(s),this.$doPixelRatio(c),this.$doPixelRatio(d),this.$doPixelRatio(u))}createPattern(t,n){return q(this,ne,"f").createPattern(t,n)}measureText(t){return q(this,ne,"f").measureText(t)}fillText(t,n,r,a){return a!==void 0?q(this,ne,"f").fillText(t,this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a)):q(this,ne,"f").fillText(t,this.$doPixelRatio(n),this.$doPixelRatio(r))}strokeText(t,n,r,a){return a!==void 0?q(this,ne,"f").strokeText(t,this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a)):q(this,ne,"f").strokeText(t,this.$doPixelRatio(n),this.$doPixelRatio(r))}save(){q(this,ne,"f").save()}restore(){q(this,ne,"f").restore()}scale(t,n){q(this,ne,"f").scale(t,n)}circle(t,n,r,a,i,o,s,c){q(this,ne,"f").ellipse(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a),i,o,s,c)}isPointInPath(t,n){return q(this,ne,"f").isPointInPath(this.$doPixelRatio(t),this.$doPixelRatio(n))}clip(...t){return q(this,ne,"f").clip(...t)}setTransform(t,n,r,a,i,o){return q(this,ne,"f").setTransform(t,n,r,a,i,o)}getTransform(){return q(this,ne,"f").getTransform()}createLinearGradient(t,n,r,a){return q(this,ne,"f").createLinearGradient(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a))}createRadialGradient(t,n,r,a,i,o){return q(this,ne,"f").createRadialGradient(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a),this.$doPixelRatio(i),this.$doPixelRatio(o))}createConicGradient(t,n,r){return q(this,ne,"f").createConicGradient(t,this.$doPixelRatio(n),this.$doPixelRatio(r))}}ne=new WeakMap,Rt=new WeakMap;function Bn(e){const{width:t,height:n,ctx:r,devicePixelRatio:a}=e;let i=r;if(!i){const s=document.createElement("canvas");s.width=t*a,s.height=n*a,i=s.getContext("2d")}return new cf(i,e)}function mi(e){const{width:t,height:n,devicePixelRatio:r}=e,a=new OffscreenCanvas(t*r,n*r),o=a.getContext("2d").canvas.getContext("2d");return new cf(o,{devicePixelRatio:r,offscreenCanvas:a})}function ep(e,t){const{width:n,height:r,devicePixelRatio:a,offscreen:i,createCustomContext2D:o}=t,s={width:n,height:r,devicePixelRatio:a},c=e.getContext("2d");if(o){const d=o(s),u=o(s),f=o(s),h=Bn(Object.assign({ctx:c},s));return{underlayContext:f,viewContext:d,overlayContext:u,boardContext:h,drawView:()=>{const{width:p,height:m}=d.$getSize();h.clearRect(0,0,p,m),h.drawImage(f.canvas,0,0,p,m),h.drawImage(d.canvas,0,0,p,m),h.drawImage(u.canvas,0,0,p,m),f.clearRect(0,0,p,m),d.clearRect(0,0,p,m),u.clearRect(0,0,p,m)}}}if(i===!0){const d=mi(s),u=mi(s),f=mi(s),h=Bn(Object.assign({ctx:c},s));return{underlayContext:f,viewContext:d,overlayContext:u,boardContext:h,drawView:()=>{const{width:p,height:m}=d.$getSize();h.clearRect(0,0,p,m),h.drawImage(f.canvas,0,0,p,m),h.drawImage(d.canvas,0,0,p,m),h.drawImage(u.canvas,0,0,p,m),f.clearRect(0,0,p,m),d.clearRect(0,0,p,m),u.clearRect(0,0,p,m)}}}else{const d=Bn(s),u=Bn(s),f=Bn(s),h=Bn(Object.assign({ctx:c},s));return{underlayContext:f,viewContext:d,overlayContext:u,boardContext:h,drawView:()=>{h.clearRect(0,0,n,r),h.drawImage(f.canvas,0,0,n,r),h.drawImage(d.canvas,0,0,n,r),h.drawImage(u.canvas,0,0,n,r),f.clearRect(0,0,n,r),d.clearRect(0,0,n,r),u.clearRect(0,0,n,r)}}}}var tp=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},wt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},qe;class An{constructor(){qe.set(this,void 0),tp(this,qe,new Map,"f")}on(t,n){if(wt(this,qe,"f").has(t)){const r=wt(this,qe,"f").get(t)||[];r==null||r.push(n),wt(this,qe,"f").set(t,r)}else wt(this,qe,"f").set(t,[n])}off(t,n){if(wt(this,qe,"f").has(t)){const r=wt(this,qe,"f").get(t);if(Array.isArray(r)){for(let a=0;a<(r==null?void 0:r.length);a++)if(r[a]===n){r.splice(a,1);break}}wt(this,qe,"f").set(t,r||[])}}trigger(t,n){const r=wt(this,qe,"f").get(t);return Array.isArray(r)?(r.forEach(a=>{a(n)}),!0):!1}has(t){if(wt(this,qe,"f").has(t)){const n=wt(this,qe,"f").get(t);if(Array.isArray(n)&&n.length>0)return!0}return!1}destroy(){this.clear()}clear(){wt(this,qe,"f").clear()}}qe=new WeakMap;function np(e,t){const n=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y);return n===0?n:Math.sqrt(n)}function ct(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}}var Ga=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},yn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},bi,Dt,Wi,ws;class Tn{constructor(t){bi.add(this),Dt.set(this,void 0),Wi.set(this,void 0),Ga(this,Wi,Mn(t.defaultStorage),"f"),Ga(this,Dt,yn(this,bi,"m",ws).call(this),"f")}set(t,n){yn(this,Dt,"f")[t]=n}get(t){return yn(this,Dt,"f")[t]}getSnapshot(t){return(t==null?void 0:t.deepClone)===!0?Mn(yn(this,Dt,"f")):Object.assign({},yn(this,Dt,"f"))}clear(){Ga(this,Dt,yn(this,bi,"m",ws).call(this),"f")}destroy(){Ga(this,Dt,null,"f")}}Dt=new WeakMap,Wi=new WeakMap,bi=new WeakSet,ws=function(){return Mn(yn(this,Wi,"f"))};function Ta(e){const{activeStore:t}=e;return{scale:t==null?void 0:t.scale,offsetTop:t==null?void 0:t.offsetTop,offsetBottom:t==null?void 0:t.offsetBottom,offsetLeft:t==null?void 0:t.offsetLeft,offsetRight:t==null?void 0:t.offsetRight}}function go(e){const{activeStore:t}=e;return{devicePixelRatio:t.devicePixelRatio,width:t==null?void 0:t.width,height:t==null?void 0:t.height,contextWidth:t==null?void 0:t.contextWidth,contextHeight:t==null?void 0:t.contextHeight}}function rp(e){return e/Math.PI*180}function Ht(e){return e/180*Math.PI}function _a(e,t,n,r){const a=Ht(t||0);n&&(a>0||a<0)&&(e.translate(n.x,n.y),e.rotate(a),e.translate(-n.x,-n.y)),r(e),n&&(a>0||a<0)&&(e.translate(n.x,n.y),e.rotate(-a),e.translate(-n.x,-n.y))}function It(e,t,n){const r=mt(t);_a(e,t.angle||0,r,()=>{n(e)})}function mt(e){return{x:e.x+e.w/2,y:e.y+e.h/2}}function df(e){const t=Math.min(e[0].x,e[1].x,e[2].x,e[3].x),n=Math.min(e[0].y,e[1].y,e[2].y,e[3].y),r=Math.max(e[0].x,e[1].x,e[2].x,e[3].x),a=Math.max(e[0].y,e[1].y,e[2].y,e[3].y),i={x:t,y:n,w:r-t,h:a-n};return mt(i)}function ap(e,t,n){const r=xs(e,t),a=xs(e,n);return a!==null&&r!==null?r>Math.PI*3/2&&a<Math.PI/2?a+(Math.PI*2-r):a>Math.PI*3/2&&r<Math.PI/2?r+(Math.PI*2-a):a-r:0}function xs(e,t){const n=t.x-e.x,r=t.y-e.y;if(n===0){if(r<0)return 0;if(r>0)return Math.PI}else if(r===0){if(n<0)return Math.PI*3/2;if(n>0)return Math.PI/2}return n>0&&r<0?Math.atan(Math.abs(n)/Math.abs(r)):n>0&&r>0?Math.PI-Math.atan(Math.abs(n)/Math.abs(r)):n<0&&r>0?Math.PI+Math.atan(Math.abs(n)/Math.abs(r)):n<0&&r<0?2*Math.PI-Math.atan(Math.abs(n)/Math.abs(r)):0}function Ie(e,t,n){let i=xs(e,t)+n;i>Math.PI*2?i=i-Math.PI*2:i<0-Math.PI*2&&(i=i+Math.PI*2),i<0&&(i=i+Math.PI*2);const o=np(e,t);let s=0,c=0;return i===0?(s=0,c=0-o):i>0&&i<Math.PI/2?(s=Math.sin(i)*o,c=0-Math.cos(i)*o):i===Math.PI/2?(s=o,c=0):i>Math.PI/2&&i<Math.PI?(s=Math.sin(Math.PI-i)*o,c=Math.cos(Math.PI-i)*o):i===Math.PI?(s=0,c=o):i>Math.PI&&i<3/2*Math.PI?(s=0-Math.sin(i-Math.PI)*o,c=Math.cos(i-Math.PI)*o):i===3/2*Math.PI?(s=0-o,c=0):i>3/2*Math.PI&&i<2*Math.PI?(s=0-Math.sin(2*Math.PI-i)*o,c=0-Math.cos(2*Math.PI-i)*o):i===2*Math.PI&&(s=0,c=0-o),s+=e.x,c+=e.y,{x:s,y:c}}function Gi(e,t){if((t==null?void 0:t.length)>0){let n=e.x,r=e.y;return t.forEach(a=>{const{x:i,y:o,w:s,h:c,angle:d=0}=a,u=mt({x:i,y:o,w:s,h:c,angle:d}),f=Ie(u,{x:n,y:r},Ht(d));n=f.x,r=f.y}),{x:n,y:r}}return e}function uf(e,t,n){const{x:r,y:a,w:i,h:o}=e;let s={x:r,y:a},c={x:r+i,y:a},d={x:r+i,y:a+o},u={x:r,y:a+o};if(n&&(n>0||n<0)){const f=Ht(Mt(n));s=Ie(t,s,f),c=Ie(t,c,f),d=Ie(t,d,f),u=Ie(t,u,f)}return[s,c,d,u]}function $r(e){const{angle:t=0}=e,n=mt(e);return uf(e,n,t)}function uc(e,t,n){return[Ie(e,{x:t[0].x,y:t[0].y},n),Ie(e,{x:t[1].x,y:t[1].y},n),Ie(e,{x:t[2].x,y:t[2].y},n),Ie(e,{x:t[3].x,y:t[3].y},n)]}function Mt(e){if(!(e>0||e<0)||e===0)return 0;let t=e%360;return t<0&&(t+=360),t}function ff(e){let t=!0;if(Array.isArray(e)){const n=[];e.forEach(r=>{var a;typeof r.uuid=="string"&&r.uuid?n.includes(r.uuid)?(t=!1,console.warn(`Duplicate uuids: ${r.uuid}`)):n.push(r.uuid):(t=!1,console.warn("Element missing uuid",r)),r.type==="group"&&(t=ff((a=r==null?void 0:r.detail)===null||a===void 0?void 0:a.children))})}return t}function Ui(e){var t;const n={x:0,y:0,w:0,h:0};let r=null;for(let i=0;i<e.length;i++){const o=e[i];if(!((t=o==null?void 0:o.operations)===null||t===void 0)&&t.invisible)continue;const s={x:o.x,y:o.y,w:o.w,h:o.h,angle:o.angle||0};if(s.angle&&(s.angle>0||s.angle<0)){const c=$r(s);if(c.length===4){const d=[c[0].x,c[1].x,c[2].x,c[3].x],u=[c[0].y,c[1].y,c[2].y,c[3].y];s.x=Math.min(...d),s.y=Math.min(...u),s.w=Math.abs(Math.max(...d)-Math.min(...d)),s.h=Math.abs(Math.max(...u)-Math.min(...u))}}if(r){const c=Math.min(s.x,n.x),d=Math.min(s.y,n.y),u=Math.max(s.x+s.w,n.x+n.w),f=Math.max(s.y+s.h,n.y+n.h);n.x=c,n.y=d,n.w=Math.abs(u-c),n.h=Math.abs(f-d)}else n.x=s.x,n.y=s.y,n.w=s.w,n.h=s.h;r=s}return{x:Math.floor(n.x),y:Math.floor(n.y),w:Math.ceil(n.w),h:Math.ceil(n.h)}}function hf(e,t){const n={x:0,y:0,w:0,h:0};e.forEach(a=>{const i={x:a.x,y:a.y,w:a.w,h:a.h,angle:a.angle};if(i.angle&&(i.angle>0||i.angle<0)){const u=$r(i);if(u.length===4){const f=[u[0].x,u[1].x,u[2].x,u[3].x],h=[u[0].y,u[1].y,u[2].y,u[3].y];i.x=Math.min(...f),i.y=Math.min(...h),i.w=Math.abs(Math.max(...f)-Math.min(...f)),i.h=Math.abs(Math.max(...h)-Math.min(...h))}}const o=Math.min(i.x,n.x),s=Math.min(i.y,n.y),c=Math.max(i.x+i.w,n.x+n.w),d=Math.max(i.y+i.h,n.y+n.h);n.x=o,n.y=s,n.w=Math.abs(c-o),n.h=Math.abs(d-s)}),t!=null&&t.extend&&(n.x=Math.min(n.x,0),n.y=Math.min(n.y,0));const r={contextWidth:n.w,contextHeight:n.h};return t!=null&&t.viewWidth&&(t!=null&&t.viewHeight)&&(t==null?void 0:t.viewWidth)>0&&(t==null?void 0:t.viewHeight)>0&&(t.viewWidth>n.x+n.w&&(r.contextWidth=t.viewWidth-n.x),t.viewHeight>n.y+n.h&&(r.contextHeight=t.viewHeight-n.y)),r}function ip(e,t,n){const r=hf(e,{viewWidth:t.width,viewHeight:t.height,extend:n==null?void 0:n.extend});return(n==null?void 0:n.extend)===!0&&(r.contextWidth=Math.max(r.contextWidth,t.contextWidth),r.contextHeight=Math.max(r.contextHeight,t.contextHeight)),{contextSize:r}}function gf(e,t){var n;let r=null;for(let a=0;a<t.length;a++){const i=t[a];if(i.uuid===e){r=i;break}else if(!r&&i.type==="group"){const o=gf(e,((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.children)||[]);if((o==null?void 0:o.uuid)===e){r=o;break}}}return r}function yi(e,t){const n=[];function r(a){var i;for(let o=0;o<a.length;o++){const s=a[o];e.includes(s.uuid)?n.push(s):s.type==="group"&&r(((i=s==null?void 0:s.detail)===null||i===void 0?void 0:i.children)||[])}}return r(t),n}function el(e,t){const n=[];function r(a,i){var o;let s=null;for(let c=0;c<i.length;c++){const d=i[c];if(d.uuid===a){s=d;break}else if(!s&&d.type==="group"){n.push(d);const u=r(a,((o=d==null?void 0:d.detail)===null||o===void 0?void 0:o.children)||[]);if((u==null?void 0:u.uuid)===a){s=u;break}n.pop()}}return s}return r(e,t),n}function pf(e,t){var n;const r=[];let a=e;if(t.length>1)for(let i=0;i<t.length-1;i++){const o=t[i],s=a[o];if((s==null?void 0:s.type)==="group"&&Array.isArray((n=s==null?void 0:s.detail)===null||n===void 0?void 0:n.children))r.push(s),a=s.detail.children;else return null}return r}function Oa(e){const{x:t,y:n,w:r,h:a,angle:i}=e;return{x:t,y:n,w:r,h:a,angle:i}}function vf(e,t){const n=[];return e.forEach(r=>{const a=Ze(r,t);a&&n.push(a)}),n}function Ze(e,t){let n=null,r=t;for(let a=0;a<e.length;a++){const i=e[a],o=r[i];if(a<e.length-1&&o.type==="group")r=o.detail.children;else if(a===e.length-1)n=o;else break}return n}function Ot(e,t){const n=[];let r=!1;const a=i=>{var o;for(let s=0;s<i.length&&r!==!0;s++){n.push(s);const c=i[s];if(c.uuid===e){r=!0;break}else c.type==="group"&&a(((o=c==null?void 0:c.detail)===null||o===void 0?void 0:o.children)||[]);if(r)break;n.pop()}};return a(t),n}function mf(e){const{x:t,y:n,h:r,w:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t+a,y:n+r},{x:t,y:n+r}]}function ke(e){const{x:t,y:n,w:r,h:a,angle:i=0}=e;return i===0?mf(e):uf(e,mt({x:t,y:n,w:r,h:a,angle:i}),i)}function tl(e){const t=[];let n=0,r=0;const a=[],i=[...e];for(let o=0;o<i.length;o++){const{x:s,y:c,w:d,h:u,angle:f=0}=i[o];n+=s,r+=c;let h;if(o===0){const g={x:n,y:r,w:d,h:u,angle:f};h=ke({x:s,y:c,w:d,h:u,angle:f}),a.push({center:mt(g),angle:f,radian:Ht(f)})}else{h=mf({x:n,y:r,w:d,h:u,angle:f});for(let p=0;p<a.length;p++){const{center:m,radian:b}=a[p];h=uc(m,h,b)}const v=df(h);if(f>0||f<0){const p=Ht(f);h=uc(v,h,p)}a.push({center:v,angle:f,radian:Ht(f)})}t.push(h)}return t}function op(e,t){const{groupQueue:n}=t;if(!(n.length>0))return[ke(e)];const r=[...n,e];return tl(r)}function Ea(e,t){return op(e,t).pop()||null}function sp(e,t){const{scale:n,offsetX:r,offsetY:a}=e,{viewSizeInfo:i}=t,{width:o,height:s,contextWidth:c,contextHeight:d}=i,u=c*n,f=d*n,h=0-r*n,g=0-a*n,v=o-(u+h/n),p=s-(f+g/n);return{scale:n,offsetLeft:h,offsetTop:g,offsetRight:v,offsetBottom:p}}function lp(e){const{scale:t,point:n,viewScaleInfo:r}=e,{offsetLeft:a,offsetTop:i}=r,o=t/r.scale,s=n.x,c=n.y,d=s-s*o+(a*o-a),u=c-c*o+(i*o-i);return{moveX:d,moveY:u}}function cp(e){const{moveX:t=0,moveY:n=0,viewScaleInfo:r,viewSizeInfo:a}=e,{scale:i}=r,{width:o,height:s,contextWidth:c,contextHeight:d}=a;let u=r.offsetLeft,f=r.offsetRight,h=r.offsetTop,g=r.offsetBottom;u+=t,h+=n;const v=c*i,p=d*i;return f=o-(v+u),g=s-(p+h),{scale:i,offsetTop:h,offsetLeft:u,offsetRight:f,offsetBottom:g}}function rt(e,t){const{viewScaleInfo:n}=t,{x:r,y:a,w:i,h:o,angle:s}=e,{scale:c,offsetTop:d,offsetLeft:u}=n;return{x:r*c+u,y:a*c+d,w:i*c,h:o*c,angle:s}}function be(e,t){const{viewScaleInfo:n}=t,{x:r,y:a}=e,{scale:i,offsetTop:o,offsetLeft:s}=n;return{x:r*i+s,y:a*i+o}}function Xe(e,t){return[be(e[0],t),be(e[1],t),be(e[2],t),be(e[3],t)]}function Es(e,t){const{context2d:n,element:r,viewScaleInfo:a}=t,{angle:i=0}=r,{x:o,y:s,w:c,h:d}=rt(r,{viewScaleInfo:a}),u=$r({x:o,y:s,w:c,h:d,angle:i});if(u.length>=2){n.beginPath(),n.moveTo(u[0].x,u[0].y);for(let f=1;f<u.length;f++)n.lineTo(u[f].x,u[f].y);n.closePath()}return!!n.isPointInPath(e.x,e.y)}function dp(e,t,n){const r=[t[0].x,t[1].x,t[2].x,t[3].x],a=[t[0].y,t[1].y,t[2].y,t[3].y],i=Math.min(...r),o=Math.max(...r),s=Math.min(...a),c=Math.max(...a);return e.x>i&&e.x<o&&e.y>s&&e.y<c}function up(e,t){var n,r,a;const{context2d:i,data:o,viewScaleInfo:s,viewSizeInfo:c,groupQueue:d}=t,u={index:-1,element:null,groupQueueIndex:-1};if(d&&Array.isArray(d)&&(d==null?void 0:d.length)>0)for(let f=d.length-1;f>=0;f--){let h=0,g=0,v=0;for(let m=0;m<=f;m++)h+=d[m].x,g+=d[m].y,v+=d[m].angle||0;const p=d[f];if(p&&p.type==="group"&&Array.isArray((n=p.detail)===null||n===void 0?void 0:n.children))for(let m=0;m<p.detail.children.length;m++){const b=p.detail.children[m];if(((r=b==null?void 0:b.operations)===null||r===void 0?void 0:r.invisible)!==!0)if(b){const x={x:h+b.x,y:g+b.y,w:b.w,h:b.h,angle:v+(b.angle||0)};if(Es(e,{context2d:i,element:x,viewScaleInfo:s,viewSizeInfo:c})){u.element=b,(f<d.length-1||b.type!=="group")&&(u.groupQueueIndex=f);break}}else break}if(u.element)break}if(u.element)return u;for(let f=o.elements.length-1;f>=0;f--){const h=o.elements[f];if(((a=h==null?void 0:h.operations)===null||a===void 0?void 0:a.invisible)!==!0&&Es(e,{context2d:i,element:h,viewScaleInfo:s,viewSizeInfo:c})){u.index=f,u.element=h;break}}return u}function bf(e,t){const{groupQueue:n}=t,r=Ea(e,{groupQueue:n}),a=ct(r[0],r[1]),i=ct(r[1],r[2]),o=ct(r[2],r[3]),s=ct(r[3],r[0]),c=r[0],d=r[1],u=r[2],f=r[3],h=Math.max(c.x,d.x,u.x,f.x),g=Math.max(c.y,d.y,u.y,f.y),v=Math.min(c.x,d.x,u.x,f.x),p=Math.min(c.y,d.y,u.y,f.y);return{center:{x:(h+v)/2,y:(g+p)/2},topLeft:c,topRight:d,bottomLeft:f,bottomRight:u,top:a,right:i,left:s,bottom:o}}function yf(e){const t=Math.max(e.topLeft.x,e.topRight.x,e.bottomRight.x,e.bottomLeft.x),n=Math.max(e.topLeft.y,e.topRight.y,e.bottomRight.y,e.bottomLeft.y),r=Math.min(e.topLeft.x,e.topRight.x,e.bottomRight.x,e.bottomLeft.x),a=Math.min(e.topLeft.y,e.topRight.y,e.bottomRight.y,e.bottomLeft.y),i={x:e.center.x,y:e.center.y},o={x:r,y:a},s={x:t,y:a},c={x:t,y:n},d={x:r,y:n},u=ct(o,s),f=ct(d,c),h=ct(o,d),g=ct(s,c);return{center:i,topLeft:o,topRight:s,bottomLeft:d,bottomRight:c,top:u,right:g,left:h,bottom:f}}function fp(e,t){const n={},r=[],a=i=>{const o={isVisibleInView:!0,isGroup:i.type==="group",position:[...r]};let s=null;const c=pf(e,r);s=bf(i,{groupQueue:c||[]}),n[i.uuid]=Object.assign(Object.assign({},o),{originRectInfo:s,rangeRectInfo:Te.angle(i.angle)?yf(s):s}),i.type==="group"&&i.detail.children.forEach((d,u)=>{r.push(u),a(d),r.pop()})};return e.forEach((i,o)=>{r.push(o),a(i),r.pop()}),wf(n,t)}function hp(e,t){const n=Math.min(e.topLeft.x,e.topRight.x,e.bottomLeft.x,e.bottomRight.x),r=Math.max(e.topLeft.x,e.topRight.x,e.bottomLeft.x,e.bottomRight.x),a=Math.min(e.topLeft.y,e.topRight.y,e.bottomLeft.y,e.bottomRight.y),i=Math.max(e.topLeft.y,e.topRight.y,e.bottomLeft.y,e.bottomRight.y),o=Math.min(t.topLeft.x,t.topRight.x,t.bottomLeft.x,t.bottomRight.x),s=Math.max(t.topLeft.x,t.topRight.x,t.bottomLeft.x,t.bottomRight.x),c=Math.min(t.topLeft.y,t.topRight.y,t.bottomLeft.y,t.bottomRight.y),d=Math.max(t.topLeft.y,t.topRight.y,t.bottomLeft.y,t.bottomRight.y);return n<=s&&r>=o&&a<=d&&i>=c||s<=i&&s>=i&&s<=i&&s>=i}function wf(e,t){const n=gp(t);let r=0,a=0;return Object.keys(e).forEach(i=>{const o=e[i];o.isVisibleInView=hp(o.rangeRectInfo,n),o.isVisibleInView?r++:a++}),{viewVisibleInfoMap:e,visibleCount:r,invisibleCount:a}}function gp(e){const{viewScaleInfo:t,viewSizeInfo:n}=e,{scale:r,offsetTop:a,offsetLeft:i}=t,{width:o,height:s}=n,c=0-i/r,d=0-a/r,u=o/r,f=s/r,h=mt({x:c,y:d,w:u,h:f}),g={x:c,y:d},v={x:c+u,y:d},p={x:c,y:d+f},m={x:c+u,y:d+f},b={x:c,y:h.y},x={x:h.x,y:d},w={x:c+u,y:h.y},y={x:h.x,y:d+f};return{center:h,topLeft:g,topRight:v,bottomLeft:p,bottomRight:m,left:b,top:x,right:w,bottom:y}}function He(e,t){const{x:n,y:r}=e,{size:a,angle:i}=t;return{x:n-a/2,y:r-a/2,w:a,h:a,angle:i}}function Ua(e,t){const{groupQueue:n,controllerSize:r,viewScaleInfo:a}=t,i=(r&&r>0?r:8)/a.scale,{x:o,y:s,w:c,h:d,angle:u=0}=e,f=[{uuid:nt(),x:o,y:s,w:c,h:d,angle:u,type:"group",detail:{children:[]}},...n];let h=0;f.forEach(({angle:se=0})=>{h+=se});const g=Ea(e,{groupQueue:n}),v=Ea({x:o-i*2,y:s-i*2,h:d+i*4,w:c+i*4,angle:u},{groupQueue:[...n]}),p=ct(g[0],g[1]),m=ct(g[1],g[2]),b=ct(g[2],g[3]),x=ct(g[3],g[0]),w=g[0],y=g[1],_=g[2],E=g[3],T=He(p,{size:i,angle:h}),P=He(m,{size:i,angle:h}),j=He(b,{size:i,angle:h}),D=He(x,{size:i,angle:h}),V=He(w,{size:i,angle:h}),z=He(y,{size:i,angle:h}),C=He(E,{size:i,angle:h}),L=He(_,{size:i,angle:h}),G=ke(V),$=ke(z),S=ke(C),F=ke(L),O=[G[1],$[0],$[3],G[2]],B=[$[3],$[2],F[1],F[0]],W=[S[1],F[0],F[3],S[2]],A=[G[3],G[2],S[1],S[0]],H=ke(T),X=ke(P),M=ke(j),N=ke(D),R=ct(v[0],v[1]),U=He(R,{size:i,angle:h}),k=ke(U);return{elementWrapper:g,left:{type:"left",vertexes:A,center:x},right:{type:"right",vertexes:B,center:m},top:{type:"top",vertexes:O,center:p},bottom:{type:"bottom",vertexes:W,center:b},topLeft:{type:"top-left",vertexes:G,center:w},topRight:{type:"top-right",vertexes:$,center:y},bottomLeft:{type:"bottom-left",vertexes:S,center:E},bottomRight:{type:"bottom-right",vertexes:F,center:_},leftMiddle:{type:"left-middle",vertexes:N,center:x},rightMiddle:{type:"right-middle",vertexes:X,center:m},topMiddle:{type:"top-middle",vertexes:H,center:p},bottomMiddle:{type:"bottom-middle",vertexes:M,center:b},rotate:{type:"rotate",vertexes:k,center:R}}}function fc(e,t){const{controllerSize:n,viewScaleInfo:r}=t,a=n&&n>0?n:8,{x:i,y:o,w:s,h:c}=rt(e,{viewScaleInfo:r}),d=mt({x:i,y:o,w:s,h:c}),u={x:d.x,y:o},f={x:i+s,y:d.y},h={x:d.x,y:o+c},g={x:i,y:d.y},v={x:i,y:o},p={x:i+s,y:o},m={x:i+s,y:o+c},b={x:i,y:o+c},x=He(u,{size:a,angle:0}),w=He(f,{size:a,angle:0}),y=He(h,{size:a,angle:0}),_=He(g,{size:a,angle:0}),E=He(v,{size:a,angle:0}),T=He(p,{size:a,angle:0}),P=He(b,{size:a,angle:0}),j=He(m,{size:a,angle:0}),D=ke(E),V=ke(T),z=ke(P),C=ke(j),L=[D[1],V[0],V[3],D[2]],G=[V[3],V[2],C[1],C[0]],$=[z[1],C[0],C[3],z[2]],S=[D[3],D[2],z[1],z[0]],F=ke(x),O=ke(w),B=ke(y),W=ke(_);return{left:{type:"left",vertexes:S,center:g},right:{type:"right",vertexes:G,center:f},top:{type:"top",vertexes:L,center:u},bottom:{type:"bottom",vertexes:$,center:h},topLeft:{type:"top-left",vertexes:D,center:v},topRight:{type:"top-right",vertexes:V,center:p},bottomLeft:{type:"bottom-left",vertexes:z,center:b},bottomRight:{type:"bottom-right",vertexes:C,center:m},leftMiddle:{type:"left-middle",vertexes:W,center:g},rightMiddle:{type:"right-middle",vertexes:O,center:f},topMiddle:{type:"top-middle",vertexes:F,center:u},bottomMiddle:{type:"bottom-middle",vertexes:B,center:h}}}function nl(e){let t="";return e.forEach(n=>{t+=n.type+n.params.join(" ")}),t}function ye(e,t){let n=2;return typeof(t==null?void 0:t.decimalPlaces)<"u"&&(t==null?void 0:t.decimalPlaces)>=0&&(n=t.decimalPlaces),parseFloat(e.toFixed(n))}const wi="Text Element";function In(){return{boxSizing:"border-box",borderWidth:0,borderColor:"#000000",shadowColor:"#000000",borderRadius:0,borderDash:[],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,opacity:1,color:"#000000",textAlign:"left",verticalAlign:"top",fontSize:16,fontFamily:"sans-serif",fontWeight:400,minInlineSize:"auto",wordBreak:"break-all",overflow:"hidden"}}function pp(){return{background:"#D9D9D9"}}function vp(){return{background:"#D9D9D9",radius:0}}function mp(e){const t=In();return{text:wi,color:t.color,fontFamily:t.fontFamily,fontWeight:t.fontWeight,lineHeight:e.w/wi.length,fontSize:e.w/wi.length,textAlign:"center",verticalAlign:"middle"}}function bp(){return{svg:'<svg t="1701004189871" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"   width="200" height="200"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3-12.3 12.7-12.1 32.9 0.6 45.3l183.7 179.1-43.4 252.9c-1.2 6.9-0.1 14.1 3.2 20.3 8.2 15.6 27.6 21.7 43.2 13.4L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"   fill="#2c2c2c"></path></svg>'}}function yp(){return{src:"data:image/svg+xml;base64,PHN2ZyAgIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiPjxwYXRoIGQ9Ik05MjggMTYwSDk2Yy0xNy43IDAtMzIgMTQuMy0zMiAzMnY2NDBjMCAxNy43IDE0LjMgMzIgMzIgMzJoODMyYzE3LjcgMCAzMi0xNC4zIDMyLTMyVjE5MmMwLTE3LjctMTQuMy0zMi0zMi0zMnogbS00MCA2MzJIMTM2di0zOS45bDEzOC41LTE2NC4zIDE1MC4xIDE3OEw2NTguMSA0ODkgODg4IDc2MS42Vjc5MnogbTAtMTI5LjhMNjY0LjIgMzk2LjhjLTMuMi0zLjgtOS0zLjgtMTIuMiAwTDQyNC42IDY2Ni40bC0xNDQtMTcwLjdjLTMuMi0zLjgtOS0zLjgtMTIuMiAwTDEzNiA2NTIuN1YyMzJoNzUydjQzMC4yeiIgIGZpbGw9IiM1MTUxNTEiPjwvcGF0aD48cGF0aCBkPSJNMzA0IDQ1NmM0OC42IDAgODgtMzkuNCA4OC04OHMtMzkuNC04OC04OC04OC04OCAzOS40LTg4IDg4IDM5LjQgODggODggODh6IG0wLTExNmMxNS41IDAgMjggMTIuNSAyOCAyOHMtMTIuNSAyOC0yOCAyOC0yOC0xMi41LTI4LTI4IDEyLjUtMjggMjgtMjh6IiAgZmlsbD0iIzUxNTE1MSI+PC9wYXRoPjwvc3ZnPg=="}}function wp(){return{children:[],background:"#D9D9D9",overflow:"hidden"}}const xp=In();function po(e,t){const{viewScaleInfo:n}=t,{scale:r}=n;let{borderRadius:a,borderDash:i}=e.detail;const o=Array.isArray(i)&&i.length>0,{boxSizing:s=xp.boxSizing,borderWidth:c}=e.detail;Array.isArray(c)&&(a=0);let{x:d,y:u,w:f,h}=e,g=[0,0,0,0];if(typeof a=="number"){const p=a*r;g=[p,p,p,p]}else Array.isArray(a)&&(a==null?void 0:a.length)===4&&(g=[a[0]*r,a[1]*r,a[2]*r,a[3]*r]);let v=0;return typeof c=="number"&&(v=(c||0)*r),s==="border-box"&&!o?(d=e.x+v/2,u=e.y+v/2,f=e.w-v,h=e.h-v):s==="content-box"?(d=e.x-v/2,u=e.y-v/2,f=e.w+v,h=e.h+v):(d=e.x,u=e.y,f=e.w,h=e.h),f=Math.max(f,1),h=Math.max(h,1),g=g.map(p=>Math.min(p,f/2,h/2)),{x:d,y:u,w:f,h,radiusList:g}}const Ye=e=>ye(e,{decimalPlaces:4});function xf(e,t){const{detail:n}=e,{xRatio:r,yRatio:a,maxRatio:i}=t,o=(r+a)/2,{borderWidth:s,borderRadius:c,borderDash:d,shadowOffsetX:u,shadowOffsetY:f,shadowBlur:h}=n;if(typeof s=="number")n.borderWidth=Ye(s*o);else if(Array.isArray(n.borderWidth)){const g=s;n.borderWidth=[Ye(g[0]*a),Ye(g[1]*r),Ye(g[2]*a),Ye(g[3]*r)]}if(typeof c=="number")n.borderRadius=Ye(c*o);else if(Array.isArray(n.borderRadius)){const g=c;n.borderRadius=[g[0]*r,g[1]*r,g[2]*a,g[3]*a]}Array.isArray(d)&&d.forEach((g,v)=>{n.borderDash[v]=Ye(g*i)}),typeof u=="number"&&(n.shadowOffsetX=Ye(u*i)),typeof f=="number"&&(n.shadowOffsetX=Ye(f*i)),typeof h=="number"&&(n.shadowOffsetX=Ye(h*i))}function Ep(e,t){const{xRatio:n,yRatio:r}=t,{x:a,y:i,w:o,h:s}=e;e.x=Ye(a*n),e.y=Ye(i*r),e.w=Ye(o*n),e.h=Ye(s*r),xf(e,t)}function Sp(e,t){const{minRatio:n,maxRatio:r}=t,{fontSize:a,lineHeight:i}=e.detail,o=(n+r)/2;a&&a>0&&(e.detail.fontSize=Ye(a*o)),i&&i>0&&(e.detail.lineHeight=Ye(i*o))}function Ef(e,t){const{type:n}=e;Ep(e,t),n==="circle"||(n==="text"?Sp(e,t):n==="image"||n==="svg"||n==="html"||n==="path"||n==="group"&&Array.isArray(e.detail.children)&&e.detail.children.forEach(r=>{Ef(r,t)}))}function Sf(e,t){const n=t.w&&t.w>0?t.w:e.w,r=t.h&&t.h>0?t.h:e.h,a=n/e.w,i=r/e.h;if(a===i&&a===1)return e;const o=Math.min(a,i),s=Math.max(a,i);e.w=n,e.h=r;const c={xRatio:a,yRatio:i,minRatio:o,maxRatio:s};return e.type==="group"&&Array.isArray(e.detail.children)&&e.detail.children.forEach(d=>{Ef(d,c)}),xf(e,c),e}const Bo=200,Fo=200;function Cp(e,t){let n=0,r=0,a=Bo,i=Fo;if(t){const{viewScaleInfo:s,viewSizeInfo:c}=t,{scale:d,offsetLeft:u,offsetTop:f}=s,{width:h,height:g}=c,v=h/4,p=g/4;Bo>=v?a=v/d:a=Bo/d,Fo>=p?i=p/d:i=Fo/d,["circle","svg","image"].includes(e)?a=i=Math.max(a,i):e==="text"&&(i=a/wi.length*2),n=(0-u+h/2-a*d/2)/d,r=(0-f+g/2-i*d/2)/d}return{x:n,y:r,w:a,h:i}}function Mp(e,t,n){const r=Cp(e,n);let a={};return e==="rect"?a=pp():e==="circle"?a=vp():e==="text"?a=mp(r):e==="svg"?a=bp():e==="image"?a=yp():e==="group"&&(a=wp()),Object.assign(Object.assign(Object.assign({},r),t),{uuid:nt(),type:e,detail:Object.assign(Object.assign({},a),t.detail||{})})}function Cf(e,t,n){let r=!1;if(t.length===1){const a=t[0];n.splice(a,0,e),r=!0}else if(t.length>1){let a=n;for(let i=0;i<t.length;i++){const o=t[i],s=a[o];if(i===t.length-1){const c=t[i];a.splice(c,0,e),r=!0}else if(i<t.length-1&&s.type==="group")a=s.detail.children;else break}}return r}function Mf(e,t){let n=!1;if(e.length===1){const r=e[0];t.splice(r,1),n=!0}else if(e.length>1){let r=t;for(let a=0;a<e.length;a++){const i=e[a],o=r[i];if(a===e.length-1){const s=e[a];r.splice(s,1),n=!0}else if(a<e.length-1&&o.type==="group")r=o.detail.children;else break}}return n}function Ap(e,t){const n=Ot(e,t);return Mf(n,t)}function Yi(e,t){const n=[...t.from],r=[...t.to];if(n.length===0||r.length===0)return{elements:e,from:n,to:r};if(n.length<=r.length){for(let i=0;i<n.length;i++)if(r[i]===n[i]){if(i===n.length-1)return{elements:e,from:n,to:r};continue}}const a=Ze(n,e);if(a){if(!Cf(a,r,e))return{elements:e,from:n,to:r};let o=-1,s=!1;if(n.length>=1&&r.length>=1){if(n.length<=r.length){if(n.length===1)n[0]<r[0]&&(s=!0);else for(let c=0;c<n.length&&n[c]===r[c];c++)if(n.length===n.length-1){s=!0;break}}if(n.length>=r.length)if(r.length===1)r[0]<n[0]&&(s=!0);else for(let c=0;c<r.length&&(c===r.length-1&&r[c]<n[c]&&(s=!0),n[c]===r[c]);c++);}if(s===!0)for(let c=0;c<n.length&&r[c]>=0;c++)r[c]!==n[c]&&r[c]<n[c]&&c==r.length-1&&(o=c);o>=0&&(n[o]=n[o]+1),Mf(n,e)}return{elements:e,from:n,to:r}}function Tp(e,t){var n;const r=Object.keys(t);for(let a=0;a<r.length;a++){const i=r[a];["x","y","w","h","angle","name"].includes(i)?e[i]=t[i]:["detail","operations"].includes(i)&&(sa.json(t[i])?(e!=null&&e.hasOwnProperty(i)||(e[i]={}),sa.json(e[i])&&(e[i]=Object.assign(Object.assign({},e[i]),t[i]))):sa.array(t[i])&&(e!=null&&e.hasOwnProperty(i)||(e[i]=[]),sa.array(e[i])&&((n=t==null?void 0:t[i])===null||n===void 0||n.forEach((o,s)=>{e[i][s]=o}),e[i]=[...e[i],...t[i]])))}return e}function ln(e,t,n){var r,a;let i=null;for(let o=0;o<n.length;o++){const s=n[o];if(s.uuid===e){s.type==="group"&&((r=s.operations)===null||r===void 0?void 0:r.deepResize)===!0&&(t.w&&t.w>0||t.h&&t.h>0)&&Sf(s,{w:t.w,h:t.h}),Tp(s,t),i=s;break}else s.type==="group"&&(i=ln(e,t,((a=s==null?void 0:s.detail)===null||a===void 0?void 0:a.children)||[]))}return i}function _p(e,t){var n,r,a,i,o,s,c,d,u,f;let h=0,g=0,v=1,p=((r=(n=e==null?void 0:e.elements)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.x)||0,m=((i=(a=e==null?void 0:e.elements)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.y)||0,b=((s=(o=e==null?void 0:e.elements)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.w)||0,x=((d=(c=e==null?void 0:e.elements)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.h)||0;const{width:w,height:y}=t.viewSizeInfo;if(e.layout&&((f=(u=e.layout)===null||u===void 0?void 0:u.detail)===null||f===void 0?void 0:f.overflow)==="hidden"?(p=0,m=0,b=e.layout.w||0,x=e.layout.h||0):e.elements.forEach(E=>{const T={x:E.x,y:E.y,w:E.w,h:E.h,angle:E.angle};if(T.angle&&(T.angle>0||T.angle<0)){const z=$r(T);if(z.length===4){const C=[z[0].x,z[1].x,z[2].x,z[3].x],L=[z[0].y,z[1].y,z[2].y,z[3].y];T.x=Math.min(...C),T.y=Math.min(...L),T.w=Math.abs(Math.max(...C)-Math.min(...C)),T.h=Math.abs(Math.max(...L)-Math.min(...L))}}const P=Math.min(T.x,p),j=Math.min(T.y,m),D=Math.max(T.x+T.w,p+b),V=Math.max(T.y+T.h,m+x);p=P,m=j,b=Math.abs(D-P),x=Math.abs(V-j)}),e.layout){const{x:E,y:T,w:P,h:j}=e.layout;Te.x(E)&&Te.y(T)&&Te.w(P)&&Te.h(j)&&(p=Math.min(p,E),m=Math.min(m,T),b=Math.max(b,P),x=Math.max(x,j))}if(b>0&&x>0){const E=ye(w/b,{decimalPlaces:4}),T=ye(y/x,{decimalPlaces:4});v=Math.min(E,T,1),h=(b*v-w)/2/v+p,g=(x*v-y)/2/v+m}return{offsetX:ye(h,{decimalPlaces:0}),offsetY:ye(g,{decimalPlaces:0}),scale:v}}function Op(e){let t=0,n=0;if(e){const{viewScaleInfo:a,viewSizeInfo:i}=e,{offsetLeft:o,offsetTop:s,scale:c}=a,{width:d,height:u}=i;t=0-o+d/c/2,n=0-s+u/c/2}return{x:t,y:n}}const Pp=["-apple-system",'"system-ui"',' "Segoe UI"'," Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"'," sans-serif"];function Af(e){return[e,...Pp].join(", ")}function Ss(e,t,n){if(typeof t=="string")return t;const{viewElementSize:r,viewScaleInfo:a,opacity:i=1}=n,{x:o,y:s}=r,{scale:c}=a;if((t==null?void 0:t.type)==="linear-gradient"){const{start:d,end:u,stops:f}=t,h={x:o+d.x*c,y:s+d.y*c},g={x:o+u.x*c,y:s+u.y*c},v=e.createLinearGradient(h.x,h.y,g.x,g.y);return f.forEach(p=>{v.addColorStop(p.offset,dc(p.color,i))}),v}if((t==null?void 0:t.type)==="radial-gradient"){const{inner:d,outer:u,stops:f}=t,h={x:o+d.x*c,y:s+d.y*c,radius:d.radius*c},g={x:o+u.x*c,y:s+u.y*c,radius:u.radius*c},v=e.createRadialGradient(h.x,h.y,h.radius,g.x,g.y,g.radius);return f.forEach(p=>{v.addColorStop(p.offset,dc(p.color,i))}),v}return"#000000"}const Cs=In();function _n(e){var t,n,r,a;let i=1;return((t=e==null?void 0:e.detail)===null||t===void 0?void 0:t.opacity)!==void 0&&((n=e==null?void 0:e.detail)===null||n===void 0?void 0:n.opacity)>=0&&((r=e==null?void 0:e.detail)===null||r===void 0?void 0:r.opacity)<=1&&(i=(a=e==null?void 0:e.detail)===null||a===void 0?void 0:a.opacity),i}function Pa(e,t,n){const{pattern:r,renderContent:a,originElem:i,calcElemSize:o,viewScaleInfo:s,viewSizeInfo:c}=n||{},{parentOpacity:d}=n,u=_n(i)*d,{clipPath:f,clipPathStrokeColor:h,clipPathStrokeWidth:g}=i.detail,v=()=>{e.globalAlpha=u,Tf(e,t,{pattern:r,viewScaleInfo:s,viewSizeInfo:c}),a==null||a(),_f(e,t,{viewScaleInfo:s,viewSizeInfo:c}),e.globalAlpha=d};f?(Ip(e,t,{originElem:i,calcElemSize:o,viewScaleInfo:s,viewSizeInfo:c,renderContent:()=>{v()}}),typeof g=="number"&&g>0&&h&&$p(e,t,{originElem:i,calcElemSize:o,viewScaleInfo:s,viewSizeInfo:c,parentOpacity:d})):v()}function Ip(e,t,n){const{renderContent:r,originElem:a,calcElemSize:i,viewSizeInfo:o}=n,s=o.devicePixelRatio,{clipPath:c}=(a==null?void 0:a.detail)||{};if(c&&i&&c.commands){const{x:d,y:u,w:f,h}=i,{originW:g,originH:v,originX:p,originY:m}=c,b=f/g,x=h/v,w=p*b,y=m*x,_=d-w,E=u-y;e.save(),e.translate(_,E),e.scale(s*b,s*x);const T=nl(c.commands||[]),P=new Path2D(T);e.clip(P),e.translate(0-_,0-E),e.setTransform(1,0,0,1,0,0),It(e,Object.assign({},t),()=>{r==null||r()}),e.restore()}else r==null||r()}function $p(e,t,n){const{renderContent:r,originElem:a,calcElemSize:i,viewSizeInfo:o,parentOpacity:s}=n,c=o.devicePixelRatio,{clipPath:d,clipPathStrokeColor:u,clipPathStrokeWidth:f}=(a==null?void 0:a.detail)||{};if(d&&i&&d.commands&&typeof f=="number"&&f>0&&u){const{x:h,y:g,w:v,h:p}=i,{originW:m,originH:b,originX:x,originY:w}=d,y=v/m,_=p/b,E=x*y,T=w*_,P=h-E,j=g-T;e.save(),e.globalAlpha=s,e.translate(P,j),e.scale(c*y,c*_);const D=nl(d.commands||[]),V=new Path2D(D);e.strokeStyle=u,e.lineWidth=f,e.stroke(V),e.translate(0-P,0-j),e.setTransform(1,0,0,1,0,0),It(e,Object.assign({},t),()=>{r==null||r()}),e.restore()}else r==null||r()}function Tf(e,t,n){var r,a;const{pattern:i,viewScaleInfo:o,viewSizeInfo:s}=n,c=[];if(t.detail.background||i){const{x:d,y:u,w:f,h,radiusList:g}=po(t,{viewScaleInfo:o,viewSizeInfo:s});if(e.beginPath(),e.moveTo(d+g[0],u),e.arcTo(d+f,u,d+f,u+h,g[1]),e.arcTo(d+f,u+h,d,u+h,g[2]),e.arcTo(d,u+h,d,u,g[3]),e.arcTo(d,u,d+f,u,g[0]),e.closePath(),typeof i=="string")e.fillStyle=i;else if(["CanvasPattern"].includes(sa.type(i)))e.fillStyle=i;else if(typeof t.detail.background=="string")e.fillStyle=t.detail.background;else if(((r=t.detail.background)===null||r===void 0?void 0:r.type)==="linear-gradient"){const v=Ss(e,t.detail.background,{viewElementSize:{x:d,y:u,w:f,h},viewScaleInfo:o,opacity:e.globalAlpha});e.fillStyle=v}else if(((a=t.detail.background)===null||a===void 0?void 0:a.type)==="radial-gradient"){const v=Ss(e,t.detail.background,{viewElementSize:{x:d,y:u,w:f,h},viewScaleInfo:o,opacity:e.globalAlpha});if(e.fillStyle=v,c&&c.length>0)for(let p=0;p<(c==null?void 0:c.length);p++){const m=c[p];m.method==="translate"?e.translate(m.args[0]+d,m.args[1]+u):m.method==="rotate"?e.rotate(...m.args):m.method==="scale"&&e.scale(...m.args)}}e.fill(),c&&c.length>0&&e.setTransform(1,0,0,1,0,0)}}function _f(e,t,n){if(t.detail.borderWidth===0||!Hi(t.detail.borderColor))return;const{viewScaleInfo:r}=n,{scale:a}=r;let i=Cs.borderColor;Hi(t.detail.borderColor)===!0&&(i=t.detail.borderColor);const{borderWidth:o,borderRadius:s,borderDash:c,boxSizing:d=Cs.boxSizing}=t.detail;let u=0;typeof o=="number"&&(u=o||1),u=u*a;let f=[0,0,0,0];if(typeof s=="number"){const b=s*a;f=[b,b,b,b]}else Array.isArray(s)&&(s==null?void 0:s.length)===4&&(f=[s[0]*a,s[1]*a,s[2]*a,s[3]*a]);e.strokeStyle=i;let h=[];Array.isArray(c)&&c.length>0&&(h=c.map(b=>Math.ceil(b*a)));let g=0,v=0,p=0,m=0;if(Array.isArray(o)&&(g=(o[0]||0)*a,v=(o[1]||0)*a,p=(o[2]||0)*a,m=(o[3]||0)*a),m||v||g||p){e.lineCap="butt";let{x:b,y:x,w,h:y}=t;d==="border-box"?(b=b+m/2,x=x+g/2,w=w-m/2-v/2,y=y-g/2-p/2):d==="content-box"?(b=b-m/2,x=x-g/2,w=w+m/2+v/2,y=y+g/2+p/2):(b=t.x,x=t.y,w=t.w,y=t.h),g&&(e.beginPath(),e.lineWidth=g,e.moveTo(b-m/2,x),e.lineTo(b+w+v/2,x),e.closePath(),e.stroke()),v&&(e.beginPath(),e.lineWidth=v,e.moveTo(b+w,x-g/2),e.lineTo(b+w,x+y+p/2),e.closePath(),e.stroke()),p&&(e.beginPath(),e.lineWidth=p,e.moveTo(b-m/2,x+y),e.lineTo(b+w+v/2,x+y),e.closePath(),e.stroke()),m&&(e.beginPath(),e.lineWidth=m,e.moveTo(b,x-g/2),e.lineTo(b,x+y+p/2),e.closePath(),e.stroke())}else{let{x:b,y:x,w,h:y}=t;d==="border-box"?(b=t.x+u/2,x=t.y+u/2,w=t.w-u,y=t.h-u):d==="content-box"?(b=t.x-u/2,x=t.y-u/2,w=t.w+u,y=t.h+u):(b=t.x,x=t.y,w=t.w,y=t.h),h.length>0?e.lineCap="butt":e.lineCap="square",w=Math.max(w,1),y=Math.max(y,1),f=f.map(_=>Math.min(_,w/2,y/2)),e.setLineDash(h),e.lineWidth=u,e.beginPath(),e.moveTo(b+f[0],x),e.arcTo(b+w,x,b+w,x+y,f[1]),e.arcTo(b+w,x+y,b,x+y,f[2]),e.arcTo(b,x+y,b,x,f[3]),e.arcTo(b,x,b+w,x,f[0]),e.closePath(),e.stroke()}e.setLineDash([])}function zr(e,t,n){const{detail:r}=t,{viewScaleInfo:a,renderContent:i}=n,{shadowColor:o,shadowOffsetX:s,shadowOffsetY:c,shadowBlur:d}=r;Te.number(d)?(e.save(),e.shadowColor=o||Cs.shadowColor,e.shadowOffsetX=(s||0)*a.scale,e.shadowOffsetY=(c||0)*a.scale,e.shadowBlur=(d||0)*a.scale,i(),e.restore()):(e.save(),e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0,i(),e.restore())}function zp(e,t,n){const{detail:r,angle:a}=t,{viewScaleInfo:i,viewSizeInfo:o,parentOpacity:s}=n,{background:c="#000000",borderColor:d="#000000",boxSizing:u,borderWidth:f=0,borderDash:h}=r;let g=0;typeof f=="number"&&f>0?g=f:Array.isArray(f)&&typeof f[0]=="number"&&f[0]>0&&(g=f[0]),g=g*i.scale;const{x:v,y:p,w:m,h:b}=rt({x:t.x,y:t.y,w:t.w,h:t.h},{viewScaleInfo:i})||t,x=Object.assign(Object.assign({},t),{x:v,y:p,w:m,h:b,angle:a});It(e,{x:v,y:p,w:m,h:b,angle:a},()=>{zr(e,x,{viewScaleInfo:i,viewSizeInfo:o,renderContent:()=>{let w=m/2,y=b/2;const _=v+w,E=p+y,T=w,P=y;if(g>0&&(u==="content-box"?(w=w,y=y):u==="center-line"?(w=w-g/2,y=y-g/2):(w=w-g,y=y-g)),w>=0&&y>=0){const j=_n(x)*s;e.globalAlpha=j,e.beginPath();const D=Ss(e,c,{viewElementSize:{x:v,y:p,w:m,h:b},viewScaleInfo:i,opacity:e.globalAlpha});if(e.fillStyle=D,e.circle(_,E,T,P,0,0,2*Math.PI),e.closePath(),e.fill(),e.globalAlpha=s,typeof g=="number"&&g>0){const V=g/2+w,z=g/2+y;if(e.beginPath(),h){const C=h.map(L=>L*i.scale);e.setLineDash(C)}e.strokeStyle=d,e.lineWidth=g,e.circle(_,E,V,z,0,0,2*Math.PI),e.closePath(),e.stroke(),e.setLineDash([])}}}})})}function Rp(e,t,n){const{viewScaleInfo:r,viewSizeInfo:a,parentOpacity:i}=n,{x:o,y:s,w:c,h:d,angle:u}=rt(t,{viewScaleInfo:r})||t,f=Object.assign(Object.assign({},t),{x:o,y:s,w:c,h:d,angle:u});It(e,{x:o,y:s,w:c,h:d,angle:u},()=>{zr(e,f,{viewScaleInfo:r,viewSizeInfo:a,renderContent:()=>{Pa(e,f,{originElem:t,calcElemSize:{x:o,y:s,w:c,h:d,angle:u},viewScaleInfo:r,viewSizeInfo:a,parentOpacity:i,renderContent:()=>{}})}})})}function Dp(e,t,n){const r=n.loader.getContent(t),{viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o}=n,{x:s,y:c,w:d,h:u,angle:f}=rt(t,{viewScaleInfo:a})||t,h=Object.assign(Object.assign({},t),{x:s,y:c,w:d,h:u,angle:f});It(e,{x:s,y:c,w:d,h:u,angle:f},()=>{zr(e,h,{viewScaleInfo:a,viewSizeInfo:i,renderContent:()=>{Pa(e,h,{originElem:t,calcElemSize:{x:s,y:c,w:d,h:u,angle:f},viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o,renderContent:()=>{if(!r&&!n.loader.isDestroyed()&&n.loader.load(t,n.elementAssets||{}),t.type==="image"&&r){e.globalAlpha=_n(t)*o;const{x:g,y:v,w:p,h:m,radiusList:b}=po(h,{viewScaleInfo:a,viewSizeInfo:i}),{detail:x}=t,{scaleMode:w,originW:y=0,originH:_=0}=x,E=e.$undoPixelRatio(y),T=e.$undoPixelRatio(_);if(e.save(),e.fillStyle="transparent",e.beginPath(),e.moveTo(g+b[0],v),e.arcTo(g+p,v,g+p,v+m,b[1]),e.arcTo(g+p,v+m,g,v+m,b[2]),e.arcTo(g,v+m,g,v,b[3]),e.arcTo(g,v,g+p,v,b[0]),e.closePath(),e.fill(),e.clip(),w&&_&&y){let P=0,j=0,D=E,V=T;const z=g,C=v,L=p,G=m;if(E>t.w||T>t.h){if(w==="fill"){const $=Math.max(t.w/E,t.h/T),S=E*$,F=T*$;P=(S-t.w)/2/$,j=(F-t.h)/2/$,D=t.w/$,V=t.h/$}else if(w==="tile")P=0,j=0,D=t.w,V=t.h;else if(w==="fit"){const $=Math.min(t.w/E,t.h/T);P=(E-t.w/$)/2,j=(T-t.h/$)/2,D=t.w/$,V=t.h/$}}e.drawImage(r,P,j,D,V,z,C,L,G)}else e.drawImage(r,g,v,p,m);e.globalAlpha=o,e.restore()}}})}})})}function Np(e,t,n){const r=n.loader.getContent(t),{viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o}=n,{x:s,y:c,w:d,h:u,angle:f}=rt(t,{viewScaleInfo:a,viewSizeInfo:i})||t;It(e,{x:s,y:c,w:d,h:u,angle:f},()=>{!r&&!n.loader.isDestroyed()&&n.loader.load(t,n.elementAssets||{}),t.type==="svg"&&r&&(e.globalAlpha=_n(t)*o,e.drawImage(r,s,c,d,u),e.globalAlpha=o)})}function Lp(e,t,n){const r=n.loader.getContent(t),{viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o}=n,{x:s,y:c,w:d,h:u,angle:f}=rt(t,{viewScaleInfo:a,viewSizeInfo:i})||t;It(e,{x:s,y:c,w:d,h:u,angle:f},()=>{!r&&!n.loader.isDestroyed()&&n.loader.load(t,n.elementAssets||{}),t.type==="html"&&r&&(e.globalAlpha=_n(t)*o,e.drawImage(r,s,c,d,u),e.globalAlpha=o)})}const Ho=In();function jp(e,t,n){return n<.5&&e<t&&(e-t)/e>-.15?!0:e>=t}function kp(e,t,n){const{viewScaleInfo:r,viewSizeInfo:a,parentOpacity:i}=n,{x:o,y:s,w:c,h:d,angle:u}=rt(t,{viewScaleInfo:r})||t,f=Object.assign(Object.assign({},t),{x:o,y:s,w:c,h:d,angle:u});It(e,{x:o,y:s,w:c,h:d,angle:u},()=>{Pa(e,f,{originElem:t,calcElemSize:{x:o,y:s,w:c,h:d,angle:u},viewScaleInfo:r,viewSizeInfo:a,parentOpacity:i,renderContent:()=>{const h=Object.assign(Object.assign({},Ho),t.detail),g=h.fontSize||Ho.fontSize,v=g*r.scale;if(v<2)return;const m=(h.lineHeight||g)*r.scale;e.fillStyle=t.detail.color||Ho.color,e.textBaseline="top",e.$setFont({fontWeight:h.fontWeight,fontSize:v,fontFamily:Af(h.fontFamily)});let b=h.text.replace(/\r\n/gi,`
`);h.textTransform==="lowercase"?b=b.toLowerCase():h.textTransform==="uppercase"&&(b=b.toUpperCase());const x=m,w=b.split(`
`),y=[];let _=0;w.forEach((P,j)=>{if(h.minInlineSize==="maxContent")y.push({text:P,width:e.$undoPixelRatio(e.measureText(P).width)});else{let D="",z=P.split("");if(h.wordBreak==="normal"){const C=" ",L=P.split(C);z=[],L.forEach((G,$)=>{z.push(G),$<L.length-1&&z.push(C)})}if(z.length===1&&h.overflow==="visible")y.push({text:z[0],width:e.$undoPixelRatio(e.measureText(z[0]).width)});else if(z.length>0){for(let C=0;C<z.length&&(jp(e.$doPixelRatio(c),e.measureText(D+z[C]).width,r.scale)?D+=z[C]||"":(y.push({text:D,width:e.$undoPixelRatio(e.measureText(D).width)}),D=z[C]||"",_++),!((_+1)*x>d&&h.overflow==="hidden"));C++)if(z.length-1===C&&(_+1)*x<=d){y.push({text:D,width:e.$undoPixelRatio(e.measureText(D).width)}),j<w.length-1&&_++;break}}else y.push({text:"",width:0})}});let E=0,T=0;x>v&&(T=(x-v)/2),y.length*x<d&&(t.detail.verticalAlign==="top"?E=0:t.detail.verticalAlign==="bottom"?E+=d-y.length*x:E+=(d-y.length*x)/2);{const P=s+E;h.textShadowColor!==void 0&&Hi(h.textShadowColor)&&(e.shadowColor=h.textShadowColor),h.textShadowOffsetX!==void 0&&Te.number(h.textShadowOffsetX)&&(e.shadowOffsetX=h.textShadowOffsetX),h.textShadowOffsetY!==void 0&&Te.number(h.textShadowOffsetY)&&(e.shadowOffsetY=h.textShadowOffsetY),h.textShadowBlur!==void 0&&Te.number(h.textShadowBlur)&&(e.shadowBlur=h.textShadowBlur),y.forEach((j,D)=>{let V=o;h.textAlign==="center"?V=o+(c-j.width)/2:h.textAlign==="right"&&(V=o+(c-j.width)),e.fillText(j.text,V,P+x*D+T)})}}})})}var Bp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Fp(e,t,n){var r,a;const{detail:i}=t,{originX:o,originY:s,originW:c,originH:d,fillRule:u}=i,{viewScaleInfo:f,viewSizeInfo:h,parentOpacity:g}=n,{x:v,y:p,w:m,h:b,angle:x}=rt(t,{viewScaleInfo:f})||t,w=m/c,y=b/d,_=o*w,E=s*y,T=v-_,P=p-E,j=t.detail,D=Bp(j,["clipPath","clipPathStrokeColor","clipPathStrokeWidth"]),V=f.scale*h.devicePixelRatio,z=Object.assign(Object.assign({},t),{x:v,y:p,w:m,h:b,angle:x});let C=Object.assign({},z);C.detail=D;let L=Object.assign({},t);L.detail=D,i.fill&&i.fill!=="string"&&(!((a=(r=i.fill)===null||r===void 0?void 0:r.type)===null||a===void 0)&&a.includes("gradient"))&&(C=Object.assign(Object.assign({},z),{detail:Object.assign(Object.assign({},z.detail),{background:i.fill,clipPath:{commands:i.commands,originX:o,originY:s,originW:c,originH:d}})}),L.detail=Object.assign({},C.detail)),It(e,{x:v,y:p,w:m,h:b,angle:x},()=>{Pa(e,C,{originElem:L,calcElemSize:{x:v,y:p,w:m,h:b,angle:x},viewScaleInfo:f,viewSizeInfo:h,parentOpacity:g,renderContent:()=>{zr(e,z,{viewScaleInfo:f,viewSizeInfo:h,renderContent:()=>{e.save(),e.translate(T,P),e.scale(V*w/f.scale,V*y/f.scale);const G=nl(i.commands||[]),$=new Path2D(G);i.fill&&(typeof i.fill=="string"?e.fillStyle=i.fill:e.fillStyle="transparent"),i.fill&&e.fill($,u),i.stroke&&i.strokeWidth!==0&&(e.strokeStyle=i.stroke,e.lineWidth=(i.strokeWidth||1)/h.devicePixelRatio,e.lineCap=i.strokeLineCap||"square",e.stroke($)),e.translate(-T,-P),e.restore()}})}})})}const hc=.4;function Of(e,t,n){var r,a,i;if(((r=t==null?void 0:t.operations)===null||r===void 0?void 0:r.invisible)===!0)return;const{w:o,h:s}=t,{scale:c}=n.viewScaleInfo;if(c<1&&(o*c<hc||s*c<hc)||n.parentOpacity===0)return;const{overrideElementMap:d}=n;if(!(!((i=(a=d==null?void 0:d[t.uuid])===null||a===void 0?void 0:a.operations)===null||i===void 0)&&i.invisible))try{switch(t.type){case"rect":{Rp(e,t,n);break}case"circle":{zp(e,t,n);break}case"text":{kp(e,t,n);break}case"image":{Dp(e,t,n);break}case"svg":{Np(e,t,n);break}case"html":{Lp(e,t,n);break}case"path":{Fp(e,t,n);break}case"group":{const u=Object.assign(Object.assign({},n.elementAssets||{}),t.detail.assets||{});Hp(e,t,Object.assign(Object.assign({},n),{elementAssets:u}));break}default:break}}catch(u){console.error(u)}}function Hp(e,t,n){const{viewScaleInfo:r,viewSizeInfo:a,parentOpacity:i}=n,{x:o,y:s,w:c,h:d,angle:u}=rt({x:t.x,y:t.y,w:t.w,h:t.h,angle:t.angle},{viewScaleInfo:r})||t,f=Object.assign(Object.assign({},t),{x:o,y:s,w:c,h:d,angle:u});It(e,{x:o,y:s,w:c,h:d,angle:u},()=>{e.globalAlpha=_n(t)*i,zr(e,f,{viewScaleInfo:r,viewSizeInfo:a,renderContent:()=>{Pa(e,f,{originElem:t,calcElemSize:{x:o,y:s,w:c,h:d,angle:u},viewScaleInfo:r,viewSizeInfo:a,parentOpacity:i,renderContent:()=>{const{x:h,y:g,w:v,h:p,radiusList:m}=po(f,{viewScaleInfo:r,viewSizeInfo:a});if(t.detail.overflow==="hidden"&&(e.save(),e.fillStyle="transparent",e.beginPath(),e.moveTo(h+m[0],g),e.arcTo(h+v,g,h+v,g+p,m[1]),e.arcTo(h+v,g+p,h,g+p,m[2]),e.arcTo(h,g+p,h,g,m[3]),e.arcTo(h,g,h+v,g,m[0]),e.closePath(),e.fill(),e.clip()),Array.isArray(t.detail.children)){const{parentElementSize:b}=n,x={x:b.x+t.x,y:b.y+t.y,w:t.w||b.w,h:t.h||b.h,angle:t.angle},{calculator:w}=n;for(let y=0;y<t.detail.children.length;y++){let _=t.detail.children[y];if(_=Object.assign(Object.assign({},_),{x:x.x+_.x,y:x.y+_.y}),!(n.forceDrawAll!==!0&&!(w!=null&&w.needRender(_))))try{Of(e,_,Object.assign(Object.assign({},n),{parentOpacity:i*_n(t)}))}catch(E){console.error(E)}}}t.detail.overflow==="hidden"&&e.restore()}})}}),e.globalAlpha=i})}const Vp=In();function gc(e,t,n){var r;const{elements:a=[]}=t,{parentOpacity:i}=n;for(let o=0;o<a.length;o++){const s=a[o],c=Object.assign(Object.assign({},s),{detail:Object.assign(Object.assign({},Vp),s==null?void 0:s.detail)});if(!(n.forceDrawAll!==!0&&!(!((r=n.calculator)===null||r===void 0)&&r.needRender(c))))try{Of(e,c,Object.assign(Object.assign({},n),{parentOpacity:i}))}catch(d){console.error(d)}}}function Wp(e,t,n,r){const{viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o}=n,s=Object.assign({uuid:"layout",type:"group"},t),{x:c,y:d,w:u,h:f}=rt(s,{viewScaleInfo:a})||s,g=Object.assign(Object.assign({},s),{x:c,y:d,w:u,h:f,angle:0});if(e.globalAlpha=1,zr(e,g,{viewScaleInfo:a,viewSizeInfo:i,renderContent:()=>{Tf(e,g,{viewScaleInfo:a,viewSizeInfo:i})}}),t.detail.overflow==="hidden"){const{viewScaleInfo:v,viewSizeInfo:p}=n,m=Object.assign({uuid:"layout",type:"group"},t),b=rt(m,{viewScaleInfo:v})||m,x=Object.assign(Object.assign({},m),b),{x:w,y,w:_,h:E,radiusList:T}=po(x,{viewScaleInfo:v,viewSizeInfo:p});e.save(),e.fillStyle="transparent",e.beginPath(),e.moveTo(w+T[0],y),e.arcTo(w+_,y,w+_,y+E,T[1]),e.arcTo(w+_,y+E,w,y+E,T[2]),e.arcTo(w,y+E,w,y,T[3]),e.arcTo(w,y,w+_,y,T[0]),e.closePath(),e.fill(),e.clip()}r(e),t.detail.overflow==="hidden"&&e.restore(),_f(e,g,{viewScaleInfo:a,viewSizeInfo:i}),e.globalAlpha=o}function Gp(e,t,n){if(typeof(t==null?void 0:t.background)=="string"){const{viewSizeInfo:r}=n,{width:a,height:i}=r;e.globalAlpha=1,e.fillStyle=t.background,e.fillRect(0,0,a,i)}}var Vo=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})},xe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Gr=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},pt,ba,Mr,gt,Ft,xi,Wo,pc,vc,mc,Pf,If;const Up=["image","svg","html"],la=e=>{var t,n,r;let a=null;return e.type==="image"?a=((t=e==null?void 0:e.detail)===null||t===void 0?void 0:t.src)||null:e.type==="svg"?a=((n=e==null?void 0:e.detail)===null||n===void 0?void 0:n.svg)||null:e.type==="html"&&(a=((r=e==null?void 0:e.detail)===null||r===void 0?void 0:r.html)||null),typeof a=="string"&&a?Cn(a)?a:Pr(a):Pr(`${nt()}-${e.uuid}-${nt()}-${nt()}`)};class Yp extends An{constructor(){super(),pt.add(this),ba.set(this,{}),Mr.set(this,{}),gt.set(this,{}),Ft.set(this,!1),xe(this,pt,"m",xi).call(this,"image",(t,n)=>Vo(this,void 0,void 0,function*(){var r;const a=((r=n[t.detail.src])===null||r===void 0?void 0:r.value)||t.detail.src,i=yield ho(a);return{uuid:t.uuid,lastModified:Date.now(),content:i}})),xe(this,pt,"m",xi).call(this,"html",(t,n)=>Vo(this,void 0,void 0,function*(){var r;const a=((r=n[t.detail.html])===null||r===void 0?void 0:r.value)||t.detail.html,i=yield $g(a,{width:t.detail.originW||t.w,height:t.detail.originH||t.h});return{uuid:t.uuid,lastModified:Date.now(),content:i}})),xe(this,pt,"m",xi).call(this,"svg",(t,n)=>Vo(this,void 0,void 0,function*(){var r;const a=((r=n[t.detail.svg])===null||r===void 0?void 0:r.value)||t.detail.svg,i=yield Pg(a);return{uuid:t.uuid,lastModified:Date.now(),content:i}}))}isDestroyed(){return xe(this,Ft,"f")}destroy(){Gr(this,Ft,!0,"f"),this.clear(),Gr(this,ba,null,"f"),Gr(this,Mr,null,"f"),Gr(this,gt,null,"f")}load(t,n){xe(this,Ft,"f")!==!0&&(xe(this,pt,"m",If).call(this,t)||Up.includes(t.type)&&xe(this,pt,"m",Pf).call(this,t,n))}getContent(t){var n,r;const a=la(t);return((r=(n=xe(this,gt,"f"))===null||n===void 0?void 0:n[a])===null||r===void 0?void 0:r.content)||null}getLoadItemMap(){return xe(this,gt,"f")}setLoadItemMap(t){Gr(this,gt,t,"f")}}ba=new WeakMap,Mr=new WeakMap,gt=new WeakMap,Ft=new WeakMap,pt=new WeakSet,xi=function(t,n){xe(this,ba,"f")[t]=n},Wo=function(t){var n,r,a;let i=null;return t.type==="image"?i=((n=t==null?void 0:t.detail)===null||n===void 0?void 0:n.src)||null:t.type==="svg"?i=((r=t==null?void 0:t.detail)===null||r===void 0?void 0:r.svg)||null:t.type==="html"&&(i=((a=t==null?void 0:t.detail)===null||a===void 0?void 0:a.html)||null),i},pc=function(t){return{element:t,status:"null",content:null,error:null,startTime:-1,endTime:-1,source:xe(this,pt,"m",Wo).call(this,t)}},vc=function(t){const n=la(t.element),r=xe(this,gt,"f")[n];xe(this,Ft,"f")||(r?r.startTime<t.startTime&&(xe(this,gt,"f")[n]=t,this.trigger("load",Object.assign(Object.assign({},t),{countTime:t.endTime-t.startTime}))):(xe(this,gt,"f")[n]=t,this.trigger("load",Object.assign(Object.assign({},t),{countTime:t.endTime-t.startTime}))))},mc=function(t){var n;const r=la(t.element),a=(n=xe(this,gt,"f"))===null||n===void 0?void 0:n[r];xe(this,Ft,"f")||(a?a.startTime<t.startTime&&(xe(this,gt,"f")[r]=t,this.trigger("error",Object.assign(Object.assign({},t),{countTime:t.endTime-t.startTime}))):(xe(this,gt,"f")[r]=t,this.trigger("error",Object.assign(Object.assign({},t),{countTime:t.endTime-t.startTime}))))},Pf=function(t,n){const r=xe(this,pt,"m",pc).call(this,t),a=la(t);if(xe(this,Mr,"f")[a])return;xe(this,Mr,"f")[a]=r;const i=xe(this,ba,"f")[t.type];typeof i=="function"&&!xe(this,Ft,"f")&&(r.startTime=Date.now(),i(t,n).then(o=>{xe(this,Ft,"f")||(r.content=o.content,r.endTime=Date.now(),r.status="load",xe(this,pt,"m",vc).call(this,r))}).catch(o=>{console.warn(`Load element source "${r.source}" fail`,o,t),r.endTime=Date.now(),r.status="error",r.error=o,xe(this,pt,"m",mc).call(this,r)}))},If=function(t){var n;const r=la(t),a=(n=xe(this,Mr,"f"))===null||n===void 0?void 0:n[r];return!!(a&&a.status==="error"&&a.source&&a.source===xe(this,pt,"m",Wo).call(this,t))};var Ur=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Et=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ms,en,kt,Ei,$f;class zf extends An{constructor(t){super(),Ms.add(this),en.set(this,void 0),kt.set(this,new Yp),Ei.set(this,!1),Ur(this,en,t,"f"),Et(this,Ms,"m",$f).call(this)}isDestroyed(){return Et(this,Ei,"f")}destroy(){this.clear(),Ur(this,en,null,"f"),Et(this,kt,"f").destroy(),Ur(this,kt,null,"f"),Ur(this,Ei,!0,"f")}updateOptions(t){Ur(this,en,t,"f")}drawData(t,n){const r=Et(this,kt,"f"),{calculator:a,sharer:i}=Et(this,en,"f"),o=Et(this,en,"f").viewContext;o.clearRect(0,0,o.canvas.width,o.canvas.height);const s={x:0,y:0,w:n.viewSizeInfo.width,h:n.viewSizeInfo.height},c=Object.assign({loader:r,calculator:a,parentElementSize:s,elementAssets:t.assets,parentOpacity:1,overrideElementMap:i==null?void 0:i.getActiveOverrideElemenentMap()},n);Gp(o,t.global,c),t.layout?Wp(o,t.layout,c,()=>{gc(o,t,c)}):gc(o,t,c)}scale(t){const{sharer:n}=Et(this,en,"f");if(!n)return;const{data:r,offsetTop:a,offsetBottom:i,offsetLeft:o,offsetRight:s,width:c,height:d,contextHeight:u,contextWidth:f,devicePixelRatio:h}=n.getActiveStoreSnapshot();r&&this.drawData(r,{viewScaleInfo:{scale:t,offsetTop:a,offsetBottom:i,offsetLeft:o,offsetRight:s},viewSizeInfo:{width:c,height:d,contextHeight:u,contextWidth:f,devicePixelRatio:h}})}setLoadItemMap(t){Et(this,kt,"f").setLoadItemMap(t)}getLoadItemMap(){return Et(this,kt,"f").getLoadItemMap()}getLoader(){return Et(this,kt,"f")}}en=new WeakMap,kt=new WeakMap,Ei=new WeakMap,Ms=new WeakSet,$f=function(){const t=Et(this,kt,"f");t.on("load",n=>{this.trigger("load",n)}),t.on("error",n=>{console.error(n)})};var Go=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Qe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},er,Ge;class Rf{constructor(t){er.set(this,void 0),Ge.set(this,void 0),Go(this,er,t,"f"),Go(this,Ge,new Tn({defaultStorage:{viewVisibleInfoMap:{},visibleCount:0,invisibleCount:0}}),"f")}toGridNum(t,n){return(n==null?void 0:n.ignore)===!0?t:Math.round(t)}destroy(){Go(this,er,null,"f")}needRender(t){const r=Qe(this,Ge,"f").get("viewVisibleInfoMap")[t.uuid];return r?r.isVisibleInView:!0}isPointInElement(t,n,r,a){const i=Qe(this,er,"f").viewContext;return Es(t,{context2d:i,element:n,viewScaleInfo:r,viewSizeInfo:a})}getPointElement(t,n){const r=Qe(this,er,"f").viewContext;return up(t,Object.assign(Object.assign({},n),{context2d:r}))}resetViewVisibleInfoMap(t,n){if(t){const{viewVisibleInfoMap:r,invisibleCount:a,visibleCount:i}=fp(t.elements,n);Qe(this,Ge,"f").set("viewVisibleInfoMap",r),Qe(this,Ge,"f").set("invisibleCount",a),Qe(this,Ge,"f").set("visibleCount",i)}}updateVisiableStatus(t){const{viewVisibleInfoMap:n,invisibleCount:r,visibleCount:a}=wf(Qe(this,Ge,"f").get("viewVisibleInfoMap"),t);Qe(this,Ge,"f").set("viewVisibleInfoMap",n),Qe(this,Ge,"f").set("invisibleCount",r),Qe(this,Ge,"f").set("visibleCount",a)}calcViewRectInfoFromOrigin(t,n){const r=Qe(this,Ge,"f").get("viewVisibleInfoMap")[t];if(!(r!=null&&r.originRectInfo))return null;const{checkVisible:a,viewScaleInfo:i,viewSizeInfo:o}=n,{center:s,left:c,right:d,bottom:u,top:f,topLeft:h,topRight:g,bottomLeft:v,bottomRight:p}=r.originRectInfo;if(a===!0&&r.isVisibleInView===!1)return null;const m={viewScaleInfo:i,viewSizeInfo:o};return{center:be(s,m),left:be(c,m),right:be(d,m),bottom:be(u,m),top:be(f,m),topLeft:be(h,m),topRight:be(g,m),bottomLeft:be(v,m),bottomRight:be(p,m)}}calcViewRectInfoFromRange(t,n){const r=Qe(this,Ge,"f").get("viewVisibleInfoMap")[t];if(!(r!=null&&r.originRectInfo))return null;const{checkVisible:a,viewScaleInfo:i,viewSizeInfo:o}=n,{center:s,left:c,right:d,bottom:u,top:f,topLeft:h,topRight:g,bottomLeft:v,bottomRight:p}=r.rangeRectInfo;if(a===!0&&r.isVisibleInView===!1)return null;const m={viewScaleInfo:i,viewSizeInfo:o};return{center:be(s,m),left:be(c,m),right:be(d,m),bottom:be(u,m),top:be(f,m),topLeft:be(h,m),topRight:be(g,m),bottomLeft:be(v,m),bottomRight:be(p,m)}}modifyViewVisibleInfoMap(t,n){const{modifyOptions:r,viewScaleInfo:a,viewSizeInfo:i}=n,{type:o,content:s}=r,c=t.elements,d=Qe(this,Ge,"f").get("viewVisibleInfoMap");if(o==="deleteElement"){const{element:u}=s,f=[],h=g=>{f.push(g.uuid),g.type==="group"&&Array.isArray(g.detail.children)&&g.detail.children.forEach(v=>{h(v)})};h(u),f.forEach(g=>{delete d[g]}),Qe(this,Ge,"f").set("viewVisibleInfoMap",d)}else if(o==="addElement"||o==="updateElement"){const{position:u}=s,f=Ze(u,t.elements),h=pf(c,u);if(f)if(o==="updateElement"&&f.type==="group")this.resetViewVisibleInfoMap(t,{viewScaleInfo:a,viewSizeInfo:i});else{const g=bf(f,{groupQueue:h||[]}),v={originRectInfo:g,rangeRectInfo:Te.angle(f.angle)?yf(g):g,isVisibleInView:!0,isGroup:(f==null?void 0:f.type)==="group",position:[...u]};d[f.uuid]=v,Qe(this,Ge,"f").set("viewVisibleInfoMap",d),o==="updateElement"&&this.updateVisiableStatus({viewScaleInfo:a,viewSizeInfo:i})}}else o==="moveElement"&&this.resetViewVisibleInfoMap(t,{viewScaleInfo:a,viewSizeInfo:i})}}er=new WeakMap,Ge=new WeakMap;var Uo=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},ae=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},_e,Ar,ft,Si,Df,Ci,Mi,Ai,Ti,_i,Oi,Pi,Ii,Nt,Lt,wn;function bc(e){return e>0||e<0||e===0}class Xp extends An{constructor(t){super(),_e.add(this),Ar.set(this,void 0),ft.set(this,void 0),Si.set(this,!1),Ci.set(this,r=>{if(!ae(this,_e,"m",Nt).call(this,r))return;const a=ae(this,_e,"m",Lt).call(this,r);if(!ae(this,_e,"m",wn).call(this,a))return;r.preventDefault(),r.stopPropagation();const i=r.deltaX>0||r.deltaX<0?r.deltaX:0,o=r.deltaY>0||r.deltaY<0?r.deltaY:0;r.ctrlKey===!0&&this.has("wheelScale")?this.trigger("wheelScale",{deltaX:i,deltaY:o,point:a}):this.has("wheel")&&this.trigger("wheel",{deltaX:i,deltaY:o,point:a})}),Mi.set(this,r=>{if(!ae(this,_e,"m",Nt).call(this,r))return;r.preventDefault();const a=ae(this,_e,"m",Lt).call(this,r);ae(this,_e,"m",wn).call(this,a)}),Ai.set(this,r=>{if(!ae(this,_e,"m",Nt).call(this,r))return;r.preventDefault();const a=ae(this,_e,"m",Lt).call(this,r);if(!ae(this,_e,"m",wn).call(this,a))return;const i=500,o=Date.now(),s=ae(this,ft,"f").get("prevClickPoint");s&&o-s.t<=i&&Math.abs(s.x-a.x)<=5&&Math.abs(s.y-a.y)<=5?this.trigger("doubleClick",{point:a}):ae(this,ft,"f").set("prevClickPoint",a)}),Ti.set(this,r=>{if(ae(this,ft,"f").set("hasPointDown",!1),!ae(this,_e,"m",Nt).call(this,r))return;r.preventDefault();const a=ae(this,_e,"m",Lt).call(this,r);this.trigger("pointLeave",{point:a})}),_i.set(this,r=>{if(ae(this,ft,"f").set("hasPointDown",!1),!ae(this,_e,"m",Nt).call(this,r))return;r.preventDefault();const a=ae(this,_e,"m",Lt).call(this,r);this.trigger("pointEnd",{point:a})}),Oi.set(this,r=>{if(!ae(this,_e,"m",Nt).call(this,r))return;r.preventDefault(),r.stopPropagation();const a=ae(this,_e,"m",Lt).call(this,r);if(!ae(this,_e,"m",wn).call(this,a)){ae(this,ft,"f").get("hasPointDown")&&(this.trigger("pointLeave",{point:a}),ae(this,ft,"f").set("hasPointDown",!1));return}ae(this,ft,"f").get("hasPointDown")===!0&&this.trigger("pointMove",{point:a})}),Pi.set(this,r=>{if(!ae(this,_e,"m",Nt).call(this,r))return;r.preventDefault();const a=ae(this,_e,"m",Lt).call(this,r);ae(this,_e,"m",wn).call(this,a)&&(ae(this,ft,"f").set("hasPointDown",!0),this.trigger("pointStart",{point:a}))}),Ii.set(this,r=>{if(!ae(this,_e,"m",Nt).call(this,r))return;r.preventDefault();const a=ae(this,_e,"m",Lt).call(this,r);ae(this,_e,"m",wn).call(this,a)&&this.trigger("hover",{point:a})});const n=new Tn({defaultStorage:{hasPointDown:!1,prevClickPoint:null}});Uo(this,ft,n,"f"),Uo(this,Ar,t,"f"),ae(this,_e,"m",Df).call(this)}onEvents(){if(ae(this,Si,"f"))return;const t=window;t.addEventListener("mousemove",ae(this,Ii,"f")),t.addEventListener("mousedown",ae(this,Pi,"f")),t.addEventListener("mousemove",ae(this,Oi,"f")),t.addEventListener("mouseup",ae(this,_i,"f")),t.addEventListener("mouseleave",ae(this,Ti,"f")),t.addEventListener("wheel",ae(this,Ci,"f"),{passive:!1}),t.addEventListener("click",ae(this,Ai,"f")),t.addEventListener("contextmenu",ae(this,Mi,"f"))}offEvents(){const t=window;t.removeEventListener("mousemove",ae(this,Ii,"f")),t.removeEventListener("mousedown",ae(this,Pi,"f")),t.removeEventListener("mousemove",ae(this,Oi,"f")),t.removeEventListener("mouseup",ae(this,_i,"f")),t.removeEventListener("mouseleave",ae(this,Ti,"f")),t.removeEventListener("wheel",ae(this,Ci,"f")),t.removeEventListener("click",ae(this,Ai,"f")),t.removeEventListener("contextmenu",ae(this,Mi,"f"))}destroy(){this.offEvents(),ae(this,ft,"f").destroy(),Uo(this,Si,!0,"f")}}Ar=new WeakMap,ft=new WeakMap,Si=new WeakMap,Ci=new WeakMap,Mi=new WeakMap,Ai=new WeakMap,Ti=new WeakMap,_i=new WeakMap,Oi=new WeakMap,Pi=new WeakMap,Ii=new WeakMap,_e=new WeakSet,Df=function(){this.onEvents()},Nt=function(t){return t.target===ae(this,Ar,"f").boardContent.boardContext.canvas},Lt=function(t){const r=ae(this,Ar,"f").boardContent.boardContext.canvas.getBoundingClientRect();return{x:t.clientX-r.left,y:t.clientY-r.top,t:Date.now()}},wn=function(t){const n=ae(this,Ar,"f").sharer.getActiveViewSizeInfo(),{width:r,height:a}=n;return!!(bc(t.x)&&bc(t.y)&&t.x<=r&&t.y<=a)};var yc=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Ee=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Se,tr;const Kp={width:0,height:0,devicePixelRatio:1,contextWidth:0,contextHeight:0,data:null,scale:1,offsetLeft:0,offsetRight:0,offsetTop:0,offsetBottom:0,overrideElementMap:null};class Zp{constructor(){Se.set(this,void 0),tr.set(this,void 0);const t=new Tn({defaultStorage:Kp}),n=new Tn({defaultStorage:{}});yc(this,Se,t,"f"),yc(this,tr,n,"f")}getActiveStorage(t){return Ee(this,Se,"f").get(t)}setActiveStorage(t,n){return Ee(this,Se,"f").set(t,n)}getActiveStoreSnapshot(t){return Ee(this,Se,"f").getSnapshot(t)}getSharedStorage(t){return Ee(this,tr,"f").get(t)}setSharedStorage(t,n){return Ee(this,tr,"f").set(t,n)}getSharedStoreSnapshot(t){return Ee(this,tr,"f").getSnapshot(t)}getActiveViewScaleInfo(){return{scale:Ee(this,Se,"f").get("scale"),offsetTop:Ee(this,Se,"f").get("offsetTop"),offsetBottom:Ee(this,Se,"f").get("offsetBottom"),offsetLeft:Ee(this,Se,"f").get("offsetLeft"),offsetRight:Ee(this,Se,"f").get("offsetRight")}}setActiveViewScaleInfo(t){const{scale:n,offsetTop:r,offsetBottom:a,offsetLeft:i,offsetRight:o}=t;Ee(this,Se,"f").set("scale",n),Ee(this,Se,"f").set("offsetTop",r),Ee(this,Se,"f").set("offsetBottom",a),Ee(this,Se,"f").set("offsetLeft",i),Ee(this,Se,"f").set("offsetRight",o)}setActiveViewSizeInfo(t){Ee(this,Se,"f").set("width",t.width),Ee(this,Se,"f").set("height",t.height),Ee(this,Se,"f").set("devicePixelRatio",t.devicePixelRatio),Ee(this,Se,"f").set("contextWidth",t.contextWidth),Ee(this,Se,"f").set("contextHeight",t.contextHeight)}getActiveViewSizeInfo(){return{width:Ee(this,Se,"f").get("width"),height:Ee(this,Se,"f").get("height"),devicePixelRatio:Ee(this,Se,"f").get("devicePixelRatio"),contextWidth:Ee(this,Se,"f").get("contextWidth"),contextHeight:Ee(this,Se,"f").get("contextHeight")}}getActiveOverrideElemenentMap(){return Ee(this,Se,"f").get("overrideElementMap")}setActiveOverrideElemenentMap(t){Ee(this,Se,"f").set("overrideElementMap",t)}}Se=new WeakMap,tr=new WeakMap;var $i=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Ne=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ya,Ue,Tr,nr,Nf,Lf;const{requestAnimationFrame:Qp}=window;class Jp extends An{constructor(t){super(),ya.add(this),Ue.set(this,void 0),Tr.set(this,[]),nr.set(this,"FREE"),$i(this,Ue,t,"f"),Ne(this,ya,"m",Nf).call(this)}resetViewVisibleInfoMap(t,n){t&&Ne(this,Ue,"f").calculator.resetViewVisibleInfoMap(t,n)}drawFrame(){const{sharer:t}=Ne(this,Ue,"f"),n=t.getActiveStoreSnapshot(),r=t.getSharedStoreSnapshot();Ne(this,Tr,"f").push({activeStore:n,sharedStore:r}),Ne(this,ya,"m",Lf).call(this)}scale(t){const{scale:n,point:r,ignoreUpdateVisibleStatus:a}=t,{sharer:i}=Ne(this,Ue,"f"),{moveX:o,moveY:s}=lp({scale:n,point:r,viewScaleInfo:i.getActiveViewScaleInfo(),viewSizeInfo:i.getActiveViewSizeInfo()});return i.setActiveStorage("scale",n),a||Ne(this,Ue,"f").calculator.updateVisiableStatus({viewScaleInfo:i.getActiveViewScaleInfo(),viewSizeInfo:i.getActiveViewSizeInfo()}),{moveX:o,moveY:s}}scroll(t){const{sharer:n}=Ne(this,Ue,"f"),r=n.getActiveViewScaleInfo(),{moveX:a,moveY:i,ignoreUpdateVisibleStatus:o}=t,s=n.getActiveViewSizeInfo(),c=cp({moveX:a,moveY:i,viewScaleInfo:r,viewSizeInfo:s});return n.setActiveViewScaleInfo(c),o||Ne(this,Ue,"f").calculator.updateVisiableStatus({viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo()}),c}updateViewScaleInfo(t){const{sharer:n}=Ne(this,Ue,"f"),r=sp(t,{viewSizeInfo:n.getActiveViewSizeInfo()});return n.setActiveViewScaleInfo(r),Ne(this,Ue,"f").calculator.updateVisiableStatus({viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo()}),r}resize(t={},n){const{sharer:r}=Ne(this,Ue,"f"),a=r.getActiveViewSizeInfo(),i=Object.assign(Object.assign({},a),t),{width:o,height:s,devicePixelRatio:c}=i,{underlayContext:d,boardContext:u,overlayContext:f,viewContext:h}=Ne(this,Ue,"f").boardContent;return u.canvas.width=o*c,u.canvas.height=s*c,u.canvas.style.width=`${o}px`,u.canvas.style.height=`${s}px`,d.canvas.width=o*c,d.canvas.height=s*c,f.canvas.width=o*c,f.canvas.height=s*c,h.canvas.width=o*c,h.canvas.height=s*c,r.setActiveViewSizeInfo(i),n!=null&&n.ignoreUpdateVisibleStatus||Ne(this,Ue,"f").calculator.updateVisiableStatus({viewScaleInfo:r.getActiveViewScaleInfo(),viewSizeInfo:r.getActiveViewSizeInfo()}),i}}Ue=new WeakMap,Tr=new WeakMap,nr=new WeakMap,ya=new WeakSet,Nf=function(){const{renderer:t}=Ne(this,Ue,"f");t.on("load",()=>{this.drawFrame()})},Lf=function e(){if(Ne(this,nr,"f")==="DRAWING"||Ne(this,Tr,"f").length===0)return;$i(this,nr,"DRAWING","f");const t=Ne(this,Tr,"f").shift(),{renderer:n,boardContent:r,beforeDrawFrame:a,afterDrawFrame:i}=Ne(this,Ue,"f");if(t){const{scale:o,offsetTop:s,offsetBottom:c,offsetLeft:d,offsetRight:u,width:f,height:h,contextHeight:g,contextWidth:v,devicePixelRatio:p}=t.activeStore,m={scale:o,offsetTop:s,offsetBottom:c,offsetLeft:d,offsetRight:u},b={width:f,height:h,contextHeight:g,contextWidth:v,devicePixelRatio:p};t!=null&&t.activeStore.data&&n.drawData(t.activeStore.data,{viewScaleInfo:m,viewSizeInfo:b}),a({snapshot:t}),r.drawView(),i({snapshot:t})}if(Ne(this,Tr,"f").length===0){$i(this,nr,"COMPLETE","f");return}$i(this,nr,"DRAWING","f")&&Qp(()=>{Ne(this,ya,"m",e).call(this)})};var tn=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},K=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Le,rr,Bt,Xi,me,Fe,_r,_t,ot,ar,Or,zi,jf,wc,xc,Ec,Sc,Cc,Mc,Ac,Tc,_c,Oc,kf,Bf,Ff,ca;class qp{constructor(t){Le.add(this),rr.set(this,void 0),Bt.set(this,new WeakMap),Xi.set(this,[]),me.set(this,[]),Fe.set(this,void 0),_r.set(this,void 0),_t.set(this,void 0),ot.set(this,void 0),ar.set(this,void 0),Or.set(this,new An),zi.set(this,!1);const{boardContent:n}=t,r=new Zp,a=new Rf({viewContext:n.viewContext}),i=new Xp({boardContent:n,sharer:r}),o=new zf({viewContext:n.viewContext,sharer:r,calculator:a});tn(this,rr,t,"f"),tn(this,_t,r,"f"),tn(this,Fe,i,"f"),tn(this,_r,o,"f"),tn(this,ar,a,"f"),tn(this,ot,new Jp({boardContent:t.boardContent,sharer:r,renderer:o,calculator:K(this,ar,"f"),beforeDrawFrame:s=>{K(this,Le,"m",Bf).call(this,s)},afterDrawFrame:s=>{K(this,Le,"m",Ff).call(this,s)}}),"f"),K(this,Le,"m",jf).call(this),K(this,Le,"m",ca).call(this)}isDestroyed(){return K(this,zi,"f")}destroy(){K(this,Fe,"f").destroy(),K(this,_r,"f").destroy(),K(this,ar,"f").destroy(),K(this,Or,"f").destroy(),tn(this,zi,!0,"f")}getSharer(){return K(this,_t,"f")}getViewer(){return K(this,ot,"f")}getRenderer(){return K(this,_r,"f")}setData(t,n){const{modifiedOptions:r}=n||{},a=K(this,_t,"f");K(this,_t,"f").setActiveStorage("data",t);const i=a.getActiveViewSizeInfo(),o=a.getActiveViewScaleInfo(),s=hf(t.elements,{viewWidth:i.width,viewHeight:i.height,extend:!0});r?K(this,ot,"f").resetViewVisibleInfoMap(t,{viewSizeInfo:i,viewScaleInfo:o}):K(this,ot,"f").resetViewVisibleInfoMap(t,{viewSizeInfo:i,viewScaleInfo:o}),K(this,ot,"f").drawFrame();const c=Object.assign(Object.assign({},i),s);return K(this,_t,"f").setActiveViewSizeInfo(c),{viewSizeInfo:c}}getData(){const{data:t}=K(this,_t,"f").getActiveStoreSnapshot();return t}use(t){var n,r,a;if(K(this,Bt,"f").has(t)){const h=K(this,Bt,"f").get(t);if(h){(r=(n=h.middlewareObject).use)===null||r===void 0||r.call(n),h.status="enable",K(this,Bt,"f").set(t,h),K(this,Le,"m",ca).call(this);return}}const{boardContent:i,container:o}=K(this,rr,"f"),s=K(this,_t,"f"),c=K(this,ot,"f"),d=K(this,ar,"f"),u=K(this,Or,"f"),f=t({boardContent:i,sharer:s,viewer:c,calculator:d,eventHub:u,container:o});(a=f.use)===null||a===void 0||a.call(f),K(this,Xi,"f").push(t),K(this,me,"f").push(f),K(this,Bt,"f").set(t,{status:"enable",middlewareObject:f}),K(this,Le,"m",ca).call(this)}disuse(t){var n,r;const a=K(this,Bt,"f").get(t);a&&((r=(n=a.middlewareObject).disuse)===null||r===void 0||r.call(n),a.status="disable",K(this,Bt,"f").set(t,a),K(this,Le,"m",ca).call(this))}scale(t){const n=K(this,ot,"f"),{ignoreUpdateVisibleStatus:r}=t,{moveX:a,moveY:i}=n.scale(Object.assign(Object.assign({},t),{ignoreUpdateVisibleStatus:!0}));n.scroll({moveX:a,moveY:i,ignoreUpdateVisibleStatus:r})}scroll(t){return K(this,ot,"f").scroll(t)}updateViewScaleInfo(t){return K(this,ot,"f").updateViewScaleInfo(t)}resize(t,n){const r=K(this,ot,"f").resize(t,n),{width:a,height:i,devicePixelRatio:o}=t,{boardContent:s}=K(this,rr,"f");s.viewContext.$resize({width:a,height:i,devicePixelRatio:o}),s.overlayContext.$resize({width:a,height:i,devicePixelRatio:o}),s.boardContext.$resize({width:a,height:i,devicePixelRatio:o}),s.underlayContext.$resize({width:a,height:i,devicePixelRatio:o}),K(this,ot,"f").drawFrame(),K(this,Fe,"f").trigger("resize",r),K(this,_t,"f").setActiveViewSizeInfo(t)}clear(){const{boardContent:t}=K(this,rr,"f"),{underlayContext:n,overlayContext:r,viewContext:a,boardContext:i}=t;n.clearRect(0,0,n.canvas.width,n.canvas.height),r.clearRect(0,0,r.canvas.width,r.canvas.height),a.clearRect(0,0,a.canvas.width,a.canvas.height),i.clearRect(0,0,i.canvas.width,i.canvas.height),K(this,Le,"m",kf).call(this)}getEventHub(){return K(this,Or,"f")}onWatcherEvents(){K(this,Fe,"f").onEvents()}offWatcherEvents(){K(this,Fe,"f").offEvents()}}rr=new WeakMap,Bt=new WeakMap,Xi=new WeakMap,me=new WeakMap,Fe=new WeakMap,_r=new WeakMap,_t=new WeakMap,ot=new WeakMap,ar=new WeakMap,Or=new WeakMap,zi=new WeakMap,Le=new WeakSet,jf=function(){K(this,Fe,"f").on("pointStart",K(this,Le,"m",wc).bind(this)),K(this,Fe,"f").on("pointEnd",K(this,Le,"m",xc).bind(this)),K(this,Fe,"f").on("pointMove",K(this,Le,"m",Ec).bind(this)),K(this,Fe,"f").on("hover",K(this,Le,"m",Sc).bind(this)),K(this,Fe,"f").on("wheel",K(this,Le,"m",Mc).bind(this)),K(this,Fe,"f").on("wheelScale",K(this,Le,"m",Ac).bind(this)),K(this,Fe,"f").on("scrollX",K(this,Le,"m",Tc).bind(this)),K(this,Fe,"f").on("scrollY",K(this,Le,"m",_c).bind(this)),K(this,Fe,"f").on("resize",K(this,Le,"m",Oc).bind(this)),K(this,Fe,"f").on("doubleClick",K(this,Le,"m",Cc).bind(this)),K(this,_r,"f").on("load",()=>{K(this,Or,"f").trigger("loadResource")})},wc=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.pointStart)===null||n===void 0?void 0:n.call(a,t))===!1)return}},xc=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.pointEnd)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Ec=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.pointMove)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Sc=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.hover)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Cc=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.doubleClick)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Mc=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.wheel)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Ac=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.wheelScale)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Tc=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.scrollX)===null||n===void 0?void 0:n.call(a,t))===!1)return}},_c=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.scrollY)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Oc=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.resize)===null||n===void 0?void 0:n.call(a,t))===!1)return}},kf=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.clear)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Bf=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.beforeDrawFrame)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Ff=function(t){var n;for(let r=0;r<K(this,me,"f").length;r++){const a=K(this,me,"f")[r];if(((n=a==null?void 0:a.afterDrawFrame)===null||n===void 0?void 0:n.call(a,t))===!1)return}},ca=function(){const t=[],n=K(this,Bt,"f");K(this,Xi,"f").forEach(r=>{const a=n.get(r);(a==null?void 0:a.status)==="enable"&&(a!=null&&a.middlewareObject)&&t.push(a.middlewareObject)}),tn(this,me,t,"f")};const ev="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF92lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuMTY0NzUzLCAyMDIxLzAyLzE1LTExOjUyOjEzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjMtMDktMTdUMTY6MDc6MjYrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIzLTA5LTE3VDE2OjEyOjUwKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIzLTA5LTE3VDE2OjEyOjUwKzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjliMGM0MzI2LWU4ZTQtNDlkNy04MmUzLTgxODkwYTE2ZmU1YSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjMzOGFhZDBmLWZkZjMtODE0MS1iMTZmLWNiZWIzNTQyYTJhMCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjUwODAxNzc1LWZlNGEtNDQyMy05NDQ3LThkYWRhNzZhYTllOSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NTA4MDE3NzUtZmU0YS00NDIzLTk0NDctOGRhZGE3NmFhOWU5IiBzdEV2dDp3aGVuPSIyMDIzLTA5LTE3VDE2OjA3OjI2KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OWIwYzQzMjYtZThlNC00OWQ3LTgyZTMtODE4OTBhMTZmZTVhIiBzdEV2dDp3aGVuPSIyMDIzLTA5LTE3VDE2OjEyOjUwKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7W6XrzAAAGLklEQVRYhb2Xf2iUdRzHX/txtfXLplZ6Wblm6fzRmG6r7Uou1AxKRjQKYUqgaLBACFogppcK1h8aLRkMSYaJIA5hYMomZpskEfPOufCaDpZ6t7rbre263U3vzn3643meu+eu3XNzvz7w4bbdc/e89nl/Pu/v50HUCAQCx1tbW0uAx4CHgSwggxkKERkziUQif2mQ0WjU53a7vwSeBB4BTEDmTICmBBwYGDivVlDjlFAo9KvT6dwIPAHkANkq6MwDXr169bCISENDg9TX14s+BgcHf2hubi5mBmRPCXj06NFPREQ6OjoEkPLycrl06VIMMhKJeFwu1xdMs+wpAYuLi9eIiIyOjkpeXp4AAsj27dvF7/fHQIPB4C9dXV0fME2ypwQEXvX7/bdFRNauXRsDBMRkMsnhw4cTZB8YGGhsamp6hSmW3Qhw1Y0bN86LiNTW1iYAallWViZtbW162ftcLtdO/i/7tAAWtba2ficicvLkyTEBtdy6dasMDg7GQIeHh9s7OzvfBx5nkrIbAS7du3fvxyIiPT09hoBa1tXVJcv+fWNj4zLgUeAhJiC7EeDLwOsiMioisnDhwnFBrlixQi5evKiX/c6tW7c+R5E9lweU3QjwReDV/v7+bhGRqqqqcQFquWnTJvH5fHrZLzocjkoSZU9bTSPA54GV165daxYROXDgwAMBannw4MFk2RsaGhqWME7ZjQDNwIrTp09/JSLS0tIyIUBACgoK5MKFCzHIcDj85+3btz8FZpFGdiPAZ4DCmpqaTSIiPp9vwoBaVlVVidfr1ct+/sqVK+9iILsR4FzgJcASDoeHRUSKioomDQnI/v37E2T3+Xz1hw4dWjSW7EaAeUA+UNbX12cXEdmyZcuUAAJiNpvlzJkzetl73G53rVrN2EmUCjATuA9EgYjL5eoGKCkpGatNHijmz5/Pxo0b2blzJ2azOfZ3k8lUYDabv45Go/Y7d+6sIY0VZQOjGqDT6bxeWlrKqlWrJgRlsVhYv349FRUVWCwWcnJyEt4PBoOuoaEhu9frvdzR0fHTtm3buolvRpLqe3OBp4EllZWV74mIRKNRyc3NTSvf7Nmzpbq6Wk6cOCFut1uSY2RkJOB0Ou3Nzc3Ha2trPwPWAGXAEuBZFFPPAbKMevBhYA6wCKgIBoP9IiKrV682hLPZbP8DEpH7vb29N1paWn602WwHFyxYsAX4EKgE3gIsQBFQgOIeT6j3z0wFqEkc60OPx9Odn58/t6SkhPb29jFLbrVa2bNnDwBer7fv5s2bPQ6Ho7upqcnZ1tbmASJq3gPC6utdYESXYfWeo6mkBaUHRQ/odrv/yM/Pt5SWlqb8kAbncDh+W7lyZYN683u6DOvAwipsOOnniA4wZf9lqhdoVYzY7fbrQMpBsdlsWK1WRkZGAtXV1d8D/wA+wKNLr5o+YEC9ZggIAEHiFbyfDhCUCcoFngIWFxYWrtMaat68eQl9V15eHmu2+vr6OuAd4A2gGFgMLERp/mdQ+noWyuadi9Jr2aQ4k42GBPXDs1Ga97WhoaFbIiIbNmxIANTWq87Ozp9VuApgGfACihPkoRjwI+p3mlSgtA9ZRkYNYwwKJBr2rl27sFqthEKhwZqamqOAX5f/AsPE5btLvM/GJWO6yFb/82eBonPnztWJiJw9e1YAWb58eUzaI0eOfAO8CbwCPIfiZZN+eEoncSaKLPOApbt3794uIuL1ehOktdvtF4C3gRKURXcOSn9lTRRsvIAZKI4+l/gjQFREZMeOHSIiEggE+tetW/cRitkuRhmERxnnxjxZQFDWnzzURwCv1+vUHxHHjh37lri0C1Am9KGpgDMC1G8SQnxxCHs8Hqf2RldX10+bN28+i+JjwyT62KSaP13oAfWTHO7t7f0dIBQK/b1v375GlEnVjPYuyoQaHlNTDahVMALca29vdwBcvnz5+KlTp26OATft1UuODBS7yEOxj0K/329HOSWWopjxlE1tchhtM7FriPfgXSDDbrfXo0gbJr4QzIi0WiRPYBbKZJrUV23b0dYn7XSYcsBkS9EiO/k6lApq1cwiPjzaAM1Y9cYC1G6uAWrPCtrvMwoHqU02Q5caIEzj1KaS+D+vIjxtLug31gAAAABJRU5ErkJggg==",Hf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF92lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuMTY0NzUzLCAyMDIxLzAyLzE1LTExOjUyOjEzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjMtMDktMTdUMTY6MzE6MjMrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIzLTA5LTE3VDE2OjQ0OjIyKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIzLTA5LTE3VDE2OjQ0OjIyKzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY0MTBhYjUzLWM0ZjEtNDVhNS04MjhkLTIxOTczOWFjOTk3MSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjBkMDNmNjM5LTE5MzctY2Y0MC1hMTg0LTIyMjg0NzczNWNmYSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjgyYjQwZGRmLWE0ZGEtNDY3MC1iYzc2LTBhYjY3ZmI5M2I0ZSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODJiNDBkZGYtYTRkYS00NjcwLWJjNzYtMGFiNjdmYjkzYjRlIiBzdEV2dDp3aGVuPSIyMDIzLTA5LTE3VDE2OjMxOjIzKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NjQxMGFiNTMtYzRmMS00NWE1LTgyOGQtMjE5NzM5YWM5OTcxIiBzdEV2dDp3aGVuPSIyMDIzLTA5LTE3VDE2OjQ0OjIyKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz57vRudAAAEk0lEQVRYhe3ZW0jbVxzA8e8/MX+NYnG9uI4xE3bvoLt0FzradRfGBtsYo32YdAhb6WQyBqV7KOylpYjzZShDGfjmyxgbgjjwyRm16SYMhgiNKDhbL3VtNF4xJOnf3x7+59i/Wf4aTbInf3AwJMdzPjnnf/n9/jFEhGzDMIxMb3uAIsDs6ek5urS05Dtz5syE+uwekAQS6u89YD19gC0NIpJ1c8GZQHlXV9fJRCIxGo/HxxoaGj4CngWOAEGgEihXfT07MeQC3MB1dna+lkgkRkXF6urq3xcuXPgUOAE8DzwGPOiGLARwEy4ej4+JiITD4elr167NiIgsLi7eqq2trQPeBI4Bj7sh8w10xZmmeds0zdn+/v5/RERisdjUuXPnvgLeAl50Q+YTaAA+oKy7u/uE3laNAwSQ4uLiu6FQ6G4G5DG13YeAMjWWkU+gBygJhULHNe769etTTpwDGXUiz58//yXwujp5qoAHgBLAk0+gNxKJHEulUiMKN2ma5gwgPp/vjhOXjlxYWJisq6urBV5RW30IKAW8eQPGYrGjlmXdEBEZHBy8aZrmFCCmac729fVtAHt7e6MO5N2+vr47IiJLS0s3L126dBZ4Sh2LZUBRwVdwYGBgVuwOYh/zsoF0bnPBVzDTMRgOh6dFhROokSIi8/Pz0+pEeaPQx+DGWdzV1XVSX2LcgCIic3NzMzU1NV8D7wIvq9WrLNRZvOk62NHRccqJTAdGo9Hb1dXV3wAfYt9VjgAPFfI66EQWAxU9PT0fuwEvXrzYBJwF3gFeAAJAhfrfrO4k/7lxZxnr2JlJqry8POnWyePx6H4JR0vhktVkHGOXQI20SkpKLLcOhmGsA5YCaZiVLS5XoADi9XpdkznDMERhnE0fCgUHZhvOW+CO4/8A5hR7wFxjD5hr7AFzjZyBlmVlrOYdYaS1HUUuQA/gWV9fd51URDyqn1c1j6MVFGjoidfW1oq2ABrYj0V82OmVzwHNajVdB88C5wOKTdM87NaxsrKyQsFKHC2BnTDo+/TWt8Bd5INeVC44NDT0xXYZdXNz8w/AaeyS8yjwCPdzQu92ht2m/OUjIyOfS1pkAoqItLS0fA+8D7wKPA0cxs6qC1O4T0xMfKYnb21tnXEDNjc3z+nXbW1t3wFvYz9dCAL7KUThHovFPtGTNjU1jQFSX18/lg68cuXKLUAaGxs3vkB7e/u3wHHgCQpUdnpTqdQvesJgMDisUVevXh3Xry9fvnxTv66qqprQ/cfHx/vVNj/J/couv0DAv7q6+pMDeYPNSalkwkUikX7s4ukl4FHgAODPN1CXnPsWFxd/dCAjW+GGhoZCwAfYpeczwMPAPjVW3gv3IvXN98disZ8dyBGNCwQC4/r94eHhfuy6+JS6zATUCeJXY+W9cNfIUuDAwsLCr05kIBDYeBQ8Ojr6h8Lpx25BtbWlGpfv62BG5PLy8m+SFpOTk38C76mVe84NVyhgOvLgysrK7xoXjUb/Uqt2XG1rEDiYCbcd0MgwsWtk+J1EI03An0wmw5Zlefx+/2n1eRKIO5r+rWTTpFsZ/gWFrGMmeObuqwAAAABJRU5ErkJggg==",tv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAEvUlEQVRYhc2Y20/cVRDHP8v+uKzAWkpDCtZq8BYhJkq8PBoJxgj7I2m0ryaSyFN9IT74pI8+8WJiggRj/APApFkSTGRJ+qKGUiyxbGPEWsUSuVhYC12Wy8+HmeMeYPe3d3WSye/k/M7le+bMzJkZ+J9ToEJreGVYN+vihcytstjQocUlAw0WCSoIVCv3Ae8CXwIt+u8XHVeOG8qLqgAHqAFCQCNwGugCthBJGd7S/tM6LqTzHI5KuqzgaoAHgEvAtwrkG2AG8FzXvep5nue67lX9N6P/PR1/SefXlBtkFXKNDUA/RyX1D9uUbYzOb9D1ygbSQU7eDMxhSSsSiVz3AxiJRK57nuf19/fPad8coqONFCBJPyUOIKc1OvcbgiY9ICDT8+0DHge2gR0gBeyTtviM5HeKAGlrrfMZVwhdAVaAr4F3KNF4gkA9cBbowOc68+3LwDn1Mhdy4/OcYk54nPr6+m54nofruvPa9SFQ6wfQTweNgTwInAGuQWk6mEUvHwb+Au4Dexx7ffK9+0q+CHWIBIOZ9skHYKWfK9tQ8gZoLDjIyWCg3ORY+2T8aYOyg4EaRIFrkCs4QU1NTSvabC20zyIDzuyfkYzEahHX8jHwE/LwXwHeJ4P7KIVIu5ouxFDC+HgLAy4MfEF2v1UpgOezATSiNVf6EvAWsD01NXVtdnb2bk9Pz81sp/q3KIi8t83Ae4DX0tJy0z7t8PDwD4FAYIX/WILVwKMAzc3Nu/agoaGhzmg0ugcsV0hIvlSNoH8IuIiebHJycrls4sotwaxGYvueAPAjEg3jum79yMjIr5WUjFLOxMpBIopWoBN4GfhOJ+4NDg4ulVt6i4uLm7r+BvAscA4fCXrAAfJQJ5Fg8gPgMuCMjo62d3V1LW1sbKRKlpXSxMTEmjZ/5qQrOwHwUAGmkIjiHhJdfKrM/Pz8Y+3t7RvT09Ob5QAYi8X2tbmke2cEZwAaCdoAt5QvIzEbiUSitbe3tyoej++UCnBhYSGkzdu6d1aQxkgOkfwgieQMCeCu8iwSnpNKpcIdHR3BZDJ5UCy4SCSyvL6+/giiSou67wE+eYmhAKKkIaAJUdynkdflNcQF3dFTpooxjmg0aozDAz4DXkB8bxPy1OYM7QzIOuAU0AY8pQu9CrwJ3AK8UCj0RyHgZmZmli1w3wOvAM/oHo1kiZiygbSDh7PAE8DzQA/wBqKnnuM4a2NjY7dygbtw4cICRy31deBFJA09o7eWsU7kJ1KTLJmyRyOSn5zS70fAkwBtbW2/DwwMHHR3d9d3dnY2rK6u7o2Pj2/GYrH9eDzurK2tndM1vwI+QXT7T2BTD5skQz6SCyAcLRoZkGEFGQbeRqpbubK+BPA5MI14h00L3I6Cy2h4+eQbJsKuRa6iQcGFFfB5oBt4DpFsI+Ky7iDBxW3gBhBH/GtC+R7i1lKk3UxRAG2QpvxWr0AbtB3SA5jkx36djH/dVlDbyibN3M8GDvJPyI2PSulixm/u6kZ1OQCaJ/S+tndJX6tvsFBIxcCUdA3vW5ubxMrObc0hDMhd/Rqp5QQHxeW8dubnHGM7tzVv/IECMlxQ/bpcRfRMqaNRheNcUGG9XFWDACfzWs/6Fl3t/xtO//8gpbCORQAAAABJRU5ErkJggg==",nv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAER0lEQVRYhe2YT2hjRRjAf8lL22xsNsm6EWKrSKvuIkIh+O9QRFxEW18KUsoe7FHoRaWCN1FPetOrIHgVKS0q9P5OxaJbodkalgVrtVZjS7Ntd02z6abPw3yzmaT585q+elj2g2HmvZn35jffN/PNNwP35R6XgM/fuif4n+dO2klQvgsaZRc4NJJvoJbHdhrIAkJAN2ADHwFfAw9J3ZoB/b9I0AA6A0SBc0Aa2EVpSqddeZ+QdmfkO+u0gIPSQQR4HfhRQH4AHMDNZDJXXNd1M5nMFalzdB3wJTAOPAD0yEB9066G6wXepVZTd5MpTdporZ6jVqsatmMJoTR3HvgJQ1u2bS+3ArRte9l1XXdsbGyJo1pdBN6Wf3d3ChlAmSQO9LeC8fquQRpDWaerHWSjSr1iu4BkJyOsF9u2s67rkslkluTVxygltAVsJBZqdCngEj5osIlW+4EYytRNF04jeu3vulCT+7QkLH20dEOhumft97pQI4s3+iiRSPwtxVSbd39J8eEGvzFXc1NAs8KSFAZeBt4AHgNeBFDWObkEAne7HAK2gT2gCFQatdca1GbtBj4E3veFprVYVLXXcg4GqM6588BbAMlkcm1qamqzr6/v6ikBet5RgiizJoDPAXdgYGDZXHkzMzPrrk9CdRWngUeAsxxdCzVwpgZ/BigWiz1mo4mJif7jqMajeJrU5hywgGvAej6fvzA0NLThN1Eul9uT4g5VTbYFNKUIfAbsZ7PZvuHh4Wt+As7Ozu5IcY2j219TQB0NV4A7qODgO4CFhYWLg4ODOb8AHccpG4A68m6pRQ1YAQ6A28A+8BXwBcDq6upTqVTquh+AuVyuW4q/opRRaQdZD1gCbgE3ge+BT4HdfD7/ZDwe/z2bzRY6hRsfH1/e3Nx8FDX/sgbgoZfvg6jo4ixqW7oIPA+8CrwHrAJuJBLJd+JaHMf5k6qmPgGeQe1SCenXk0/U21xcIC8AzwGvAJPAEuAmEon1xcXFba9w8/Pz5oqdB14CnpY+oij35km0qwmjwqAU8ISM9hIwBeQA17KsG9PT07+1gxsZGdmgdqW+BjwLDAAPoo4ALU+W9arVwWoIpXp9kouKZpPAO8AwQCwW+2d0dLQ0OTkZSafT0UKhUJ6bm9t2HKeysrIS3tra0g7+KvABUJC0g5rrJdRcbLpImtleRzYashc1P2OSXwbebDVykX3gW+Ab1AHqhuQ3pe6AJlFMO0CoPROHDcio5I8DL1A9C8dQbmod+APYAK4DvwjQnsDdErgyVTfTEaCG1GFYGHXG7TVSo2OkdvhlAflXoHSuNdfStFqaRhEi2kfdprrj6M5LAt0I8EDaaMdflPal48CB95hMr3Bt8h4jD0kyL5E0pN6dysZzW7N2AqjbmhdIZjJvufTOpE19x3g+9s1XJ/ck5tVbfdhu+rxDfLiSO+lFToCjZwrXyH2/0Lwv95z8B1jAqXmDnj4YAAAAAElFTkSuQmCC",rv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAIiklEQVRYhe2YW2yUxxmGn7W96zXGNnZsr2FJHQyYBHNIU1ttAqVUVjlJUAtxQyUXhKgQktUDdSUkuEDtBVJ9UQXRC0RJRblrq/SCIARpFImWQ8VBIZQinJpQYozNyWaxiw/rfXsx3+z+6xNOe9tPGv2nOTzzffPPvDMhSXwJC1nKAXIDV/9ellLAqF1T9o5A2Ry7J5A/Fbh3mUMh8qYJ5kHCQATID6QIkBcAHAVGgKFAStq33EB53/ao5Rm064i9g0CmqcDyrNICYCZQBJTYdaa9j1jelDUwCAwAz4F+ex61DhZauXzr1CDwDHhq1wFg2Do1KWAo0NsCAyoDKoGYXcuBWdZY1PKnzAsDQB/wBOg1yKTVN8vqmoHz6nOgC7gHdFrbCasrNRFgyMCj5qVXgDlANfAaMA/4ir2rMI+MtSHgEdAN9BjsiNVZYR0sNq8+AtqB69Z2MuDBcYA+pAXW0yoDWgTUWXrd8k1l+cBcSxjIIBlPB63G8uUB/8Z57znwAkgGAX1YC4BSK7QIWA7UWwoDJJNJzp49y4ULF2hvb6e7u5tEIkFhYSGVlZXMmzePhoYGNmzYQElJCVZv2tPt7e3s2bOHvr4+9u3bx/r16+PWjg/zQ9x4BEk+5UkqklQt6ZuSdkn6jaRbMhsYGFBbW5uWLVvmp5MpU3V1tVpbW9XV1aWgbdy4MZ2npqbGvx6W9DtJ35e0RFJREDBX0gxJcUnfkPQDScck3fGlz549q7q6ummBjU2xWEzvvfdeGvCtt95Kf6uoqAiyfyBpt6SvSZrlAUOSIpLKJS2X9D1Jv5Z025d69913FQqFJmy8rKxMS5YsUUNDg5YvX67Zs2dPCrpjxw6NjIxoxYoV6XdVVVVBwI8l/UTS1yWVesBcC+18SRsk/ULS33yJtra2CRtramrSiRMn1NXVpWQyKUlKpVJ6+vSpTp48qZ07dyo/P39cua1bt6q+vn4ywL9IapX0tqQyDxiRFDPq3ZL+JCklSadOnRrXwMKFC3X69GlNx65du6aVK1eOqyMYjTGAf50IsNC8t1FSm6TPJOn+/fuKxWJZFb/zzjvjBvx0bO/evQqHwxNG4mUe9MtYMZk5bwHA4cOH6enpSc9BixYt4uTJk5SVlflXfcBN4DFuapoHLPQfz58/z9WrVwmFQsTjceLxOHfv3uUlNlZcpFeMEtzsXg2QSCQ4duxYulQoFOLQoUNBuE7gvAE+x82b/VZHyblz52hsbCSZTL4MCGWrqUECq0gQsBi3ts4B+PDDD3n48GG61OrVq1mzZo1/fGZw54HbVmGV1bMAWPbRRx9NC24CwD7cajLiAXNwIS7ELW3lAGfOnMmqZPv27cHHvwM3gH8AnwH/wnn0C+AuwLZt25g/f/5L4cLhMNu2bfOPnbh1+xkZ9UMebvmKGmQEoLOzM11JQUEBK1eu9I/JAFAPTqnk4hTNY9xS1V5TU1N7+fJlOjo6SKXS+jPLJFFUVMTixYsxmJtW/inOi2nAXDI/C0BWeMvKyojFYv6xz1LCKhnCRSEBPMCFfBaQKi0tfb2+vn5qFzp7AnwCXAM+t45mAUJGfgMwOpoWtIRCWZ/89BB8TuJ+lG5cNEatkXYgjtN+BYG2ktaxBE4U3AP+iRsud3EeHCTwk6Ss0IhvtaKiIk3Q19dHb28vhYWF4H6mYtxwiBrQIE4aPTHgIVzoO3E/TzlOV4YD3/stj9eMPj2xzg4HAYMSPQnkxePxNGB/fz+XLl1iy5Yt4HTeq+aZTtyA9h18Yb33G6aRQBqyDiUNLihmH1q54LAZ9ZHKISPRn1loaGxsJGjHjx8PPi6xtAgnNufgVHcRmf1J2DpTiJsjvYout3c5gQ49Ns89s3fpOdB70I+Hx7iBXrV27VqKi4tJJBKAm3auXLmCDfpy4G3rZSHur/aSPg83BCpx24MFuNUlbnkHcGMubEDdxpG0lBn8AcBBsgfsVysqKti6dStHjhwBYGRkhJaWFs6dO0ckEgGYj9v0xIA71rkha7jUgBYCb5hHGRoaIj8/f4Z5s8jafUpmN/diLBwAkmZKWiipSdKvJN2VpI6ODhUVFWUt7Js2bdLAwMBYLdAt6VNJlyV9IumLsRkOHjyo2tparVixQrdvp2Xmn00YrJI0R05VBRV+GjAiqcoUxA8lnfI1HD16dJz6WLVqla5fvz4tFdPZ2anm5uas8s3Nzf7zp5J+LmmNpFcl5U8GmCupWFKtpO9K+qWkG76W3bt3j4OMRqNqaWnRhQsXNDQ0lAWVTCZ169YtHThwQFVVVePKtrS0+Kw3pgsYso+Vkuol7ZD0W0ldvsHW1tZJZXxtba0aGxvV1NSkdevWaenSpYpGoxPmXb9+vXp6ejzgx5J+ZiGeLSk8GaD34ky5Hd23JP1I0h8kPQmGu7y8/L/aNEUiEe3fv1/Dw8Pp6Es6KqlZ0puSXpHbVU4KiPVglqQFkr4j6aeSfi/pvq/13r172rVrlyorK6cFFo1GtXnzZl25ciU4Ch5J+qOkH0v6tqTXzDk5EwGGlNFjOWQOd8px4vUN4E3cpn2pz/jgwQPef/99Ll68yJ07d+jt7WVwcJBIJEJJSQlz586loaGBTZs2UVdXF5w0OoDLwFWcbPsct6r04+bRLHEYCoWyAD1kBDfHleHmsxrccccS3NFHNV/eenBy6iZwCycMOnHz5wBuDh2nyyY6H0zhFmoF7vtxk+l9q3ieQfrDo8msF7cy3cN56g7ZWnKcep7IxnrQmz+wHKu2K3EKJWbPpWSUTQ4ZtRJc23sC6ZGB9ZM52JwcboIQjzUvZvNxYfeHlyVkZFcBbux6wKA6ShjoM5yM8uH0Xpuy8ekAQuZc2W8P8nEei9p9mMmPgAfJHO0O27e0lHppw9MEDJo//A4eoE91iB48SJ80lFMB/t/+V/sPGZfTmtMFR4EAAAAASUVORK5CYII=";var Ki=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},ze=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},lt,Zi,wa,ir,Ri,xn,Vf,Wf,Zt,Pc,Ic;class av{constructor(t,n){lt.add(this),Zi.set(this,void 0),wa.set(this,void 0),ir.set(this,null),Ri.set(this,null),xn.set(this,{auto:ev,"drag-default":tv,"drag-active":nv,"rotate-0":Hf,rotate:rv}),Ki(this,wa,t,"f"),Ki(this,Zi,n.eventHub,"f"),ze(this,lt,"m",Vf).call(this),ze(this,lt,"m",Wf).call(this)}}Zi=new WeakMap,wa=new WeakMap,ir=new WeakMap,Ri=new WeakMap,xn=new WeakMap,lt=new WeakSet,Vf=function(){const t=ze(this,Zi,"f");ze(this,lt,"m",Zt).call(this,"default"),t.on("cursor",n=>{var r;n.type==="over-element"||!n.type?ze(this,lt,"m",Zt).call(this,"auto"):n.type==="resize-rotate"?ze(this,lt,"m",Zt).call(this,"rotate"):typeof n.type=="string"&&(!((r=n.type)===null||r===void 0)&&r.startsWith("resize-"))?ze(this,lt,"m",Pc).call(this,n):n.type==="drag-default"?ze(this,lt,"m",Zt).call(this,"drag-default"):n.type==="drag-active"?ze(this,lt,"m",Zt).call(this,"drag-active"):ze(this,lt,"m",Zt).call(this,"auto")})},Wf=function(){ho(Hf).then(t=>{Ki(this,Ri,t,"f")}).catch(t=>{console.error(t)})},Zt=function(t){if(ze(this,ir,"f")===t)return;Ki(this,ir,t,"f");const n=ze(this,xn,"f")[ze(this,ir,"f")]||ze(this,xn,"f").auto;let r=0,a=0;(t.startsWith("rotate-")&&ze(this,xn,"f")[ze(this,ir,"f")]||t==="rotate")&&(r=10,a=10),t==="default"?ze(this,wa,"f").style.cursor="default":ze(this,wa,"f").style.cursor=`image-set(url(${n})2x) ${r} ${a}, auto`},Pc=function(t){var n;let r=0;t.type==="resize-top"?r+=0:t.type==="resize-top-right"?r+=45:t.type==="resize-right"?r+=90:t.type==="resize-bottom-right"?r+=135:t.type==="resize-bottom"?r+=180:t.type==="resize-bottom-left"?r+=225:t.type==="resize-left"?r+=270:t.type==="resize-top-left"&&(r+=315),r+=Mt(((n=t==null?void 0:t.element)===null||n===void 0?void 0:n.angle)||0),Array.isArray(t.groupQueue)&&t.groupQueue.length>0&&t.groupQueue.forEach(i=>{r+=Mt(i.angle||0)}),r=Mt(r);const a=ze(this,lt,"m",Ic).call(this,r);ze(this,lt,"m",Zt).call(this,a)},Ic=function(t){const n=`rotate-${t}`;if(!ze(this,xn,"f")[n]){const r=ze(this,Ri,"f");if(r){const a=document.createElement("canvas"),i=r.width,o=r.height,s={x:i/2,y:o/2};a.width=i,a.height=o;const c=a.getContext("2d"),d=Ht(t);c.translate(s.x,s.y),c.rotate(d),c.translate(-s.x,-s.y),c.drawImage(r,0,0,i,o),c.translate(s.x,s.y),c.rotate(-d),c.translate(-s.x,-s.y);const u=a.toDataURL("image/png");ze(this,xn,"f")[n]=u}}return n};const rl="change",Je="SELECT",Me=Symbol(`${Je}_actionType`),hn=Symbol(`${Je}_resizeType`),Ya=Symbol(`${Je}_areaStart`),Xa=Symbol(`${Je}_areaEnd`),Qt=Symbol(`${Je}_hoverElement`),Yr=Symbol(`${Je}_hoverElementVertexes`),nn=Symbol(`${Je}_selectedElementList`),iv=Symbol(`${Je}_selectedElementListVertexes`),Fn=Symbol(`${Je}_selectedElementController`),Hn=Symbol(`${Je}_selectedElementPosition`),et=Symbol(`${Je}_groupQueue`),Yo=Symbol(`${Je}_groupQueueVertexesList`),Ka=Symbol(`${Je}_isMoving`),Xo=Symbol(`${Je}_enableSelectInGroup`),Za=Symbol(`${Je}_enableSnapToGrid`),Gf=2,ov=4,Uf=1,Ia="#1973ba",$c="#5b5959b5",Yf=10,sv="#f7276e",Di="@middleware/select",Qi="@middleware/select-clear",As="@middleware/select-in-group",Ts="@middleware/snap-to-grid";function on(e,t,n){const{borderColor:r,borderWidth:a,background:i,lineDash:o}=n;e.setLineDash([]),e.lineWidth=a,e.strokeStyle=r,e.fillStyle=i,e.setLineDash(o),e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y),e.lineTo(t[2].x,t[2].y),e.lineTo(t[3].x,t[3].y),e.lineTo(t[0].x,t[0].y),e.closePath(),e.stroke(),e.fill()}function _s(e,t,n,r){const{borderColor:a,borderWidth:i,lineDash:o}=r;e.setLineDash([]),e.lineWidth=i,e.strokeStyle=a,e.setLineDash(o),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.closePath(),e.stroke()}function lv(e,t,n){const{size:r,borderColor:a,borderWidth:i,background:o}=n,s=t,c=r/2,d=c,u=c;if(d>=0&&u>=0){if(typeof i=="number"&&i>0){const f=i/2+d,h=i/2+u;e.beginPath(),e.strokeStyle=a,e.lineWidth=i,e.circle(s.x,s.y,f,h,0,0,2*Math.PI),e.closePath(),e.stroke()}e.beginPath(),e.fillStyle=o,e.circle(s.x,s.y,d,u,0,0,2*Math.PI),e.closePath(),e.fill()}}function jt(e,t,n){const{borderColor:r,borderWidth:a,lineDash:i}=n;e.setLineDash([]),e.lineWidth=a,e.strokeStyle=r,e.setLineDash(i),e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[2].x,t[2].y),e.closePath(),e.stroke(),e.beginPath(),e.moveTo(t[1].x,t[1].y),e.lineTo(t[3].x,t[3].y),e.closePath(),e.stroke()}function zc(e,t,n){const{size:r,borderColor:a,borderWidth:i,lineDash:o}=n,s=t.x-r/2,c=t.x+r/2,d=t.y-r/2,u=t.y+r/2;jt(e,[{x:s,y:d},{x:c,y:d},{x:c,y:u},{x:s,y:u}],{borderColor:a,borderWidth:i,lineDash:o})}function Rc(e,t,n){if(!t)return;const r={borderColor:Ia,borderWidth:1,background:"transparent",lineDash:[]};on(e,Xe(t,n),r)}function Dc(e,t,n){if(!t)return;const r={borderColor:$c,borderWidth:1,background:"transparent",lineDash:[]};on(e,Xe(t,n),r);const{controller:a}=n;if(a){const{topLeft:i,topRight:o,bottomLeft:s,bottomRight:c,topMiddle:d,bottomMiddle:u,leftMiddle:f,rightMiddle:h}=a,g=Object.assign(Object.assign({},r),{borderWidth:1,background:$c});jt(e,Xe(d.vertexes,n),g),jt(e,Xe(u.vertexes,n),g),jt(e,Xe(f.vertexes,n),g),jt(e,Xe(h.vertexes,n),g),jt(e,Xe(i.vertexes,n),g),jt(e,Xe(o.vertexes,n),g),jt(e,Xe(s.vertexes,n),g),jt(e,Xe(c.vertexes,n),g)}}function Nc(e,t,n){if(!t)return;const{hideControllers:r}=n,{elementWrapper:a,topLeft:i,topRight:o,bottomLeft:s,bottomRight:c,top:d,rotate:u}=t,f={borderColor:Ia,borderWidth:Gf,background:"transparent",lineDash:[]},h=Object.assign(Object.assign({},f),{borderWidth:ov,background:"#FFFFFF"});on(e,Xe(a,n),f),r||(_s(e,be(d.center,n),be(u.center,n),Object.assign(Object.assign({},h),{borderWidth:2})),on(e,Xe(i.vertexes,n),h),on(e,Xe(o.vertexes,n),h),on(e,Xe(s.vertexes,n),h),on(e,Xe(c.vertexes,n),h),lv(e,be(u.center,n),Object.assign(Object.assign({},h),{size:Yf,borderWidth:2})))}function cv(e,t){const{start:n,end:r}=t;e.setLineDash([]),e.lineWidth=Uf,e.strokeStyle=Ia,e.fillStyle="#1976d24f",e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(r.x,n.y),e.lineTo(r.x,r.y),e.lineTo(n.x,r.y),e.closePath(),e.stroke(),e.fill()}function dv(e,t){const{areaSize:n}=t,{x:r,y:a,w:i,h:o}=n;e.setLineDash([]),e.lineWidth=Uf,e.strokeStyle=Ia,e.fillStyle="#1976d21c",e.beginPath(),e.moveTo(r,a),e.lineTo(r+i,a),e.lineTo(r+i,a+o),e.lineTo(r,a+o),e.closePath(),e.stroke(),e.fill()}function uv(e,t,n){for(let r=0;r<t.length;r++){const a=t[r],i={borderColor:Ia,borderWidth:Gf,background:"transparent",lineDash:[4,4]};on(e,Xe(a,n),i)}}function Lc(e,t){const{xLines:n,yLines:r}=t,a={borderColor:sv,borderWidth:1,lineDash:[]},i=Object.assign(Object.assign({},a),{size:6});n&&n.forEach(o=>{o.forEach((s,c)=>{zc(e,s,i),o[c+1]&&_s(e,o[c],o[c+1],a)})}),r&&r.forEach(o=>{o.forEach((s,c)=>{zc(e,s,i),o[c+1]&&_s(e,o[c],o[c+1],a)})})}function ge(e){return e*Math.PI/180}function Qa(e,t){return Math.sqrt(e*e+t*t)}function oe(e,t){return t>0?Math.abs(e):0-Math.abs(e)}function Os(e,t){const{ctx:n,viewScaleInfo:r,vertexes:a}=t,i=be(a[0],{viewScaleInfo:r}),o=be(a[1],{viewScaleInfo:r}),s=be(a[2],{viewScaleInfo:r}),c=be(a[3],{viewScaleInfo:r});return n.beginPath(),n.moveTo(i.x,i.y),n.lineTo(o.x,o.y),n.lineTo(s.x,s.y),n.lineTo(c.x,c.y),n.lineTo(i.x,i.y),n.closePath(),!!n.isPointInPath(e.x,e.y)}function jc(e,t){const{ctx:n,viewScaleInfo:r,viewSizeInfo:a,groupQueue:i}=t;if(!i||!((i==null?void 0:i.length)>0))return!1;const o=tl(i),s=o[o.length-1];return s?Os(e,{ctx:n,vertexes:s,viewScaleInfo:r,viewSizeInfo:a}):!1}function Xr(e,t){var n,r,a;const i={type:null,elements:[],elementVertexesList:[],groupQueue:[],groupQueueVertexesList:[]},{ctx:o,data:s,calculator:c,selectedElements:d,viewScaleInfo:u,viewSizeInfo:f,areaSize:h,groupQueue:g,selectedElementController:v}=t;if(v){const{left:p,right:m,top:b,bottom:x,topLeft:w,topRight:y,bottomLeft:_,bottomRight:E,rotate:T}=v,P=[p,m,b,x,w,y,_,E,T];for(let j=0;j<P.length;j++){const D=P[j];if(Os(e,{ctx:o,vertexes:D.vertexes,viewSizeInfo:f,viewScaleInfo:u})){i.type=`resize-${D.type}`,d&&(d==null?void 0:d.length)>0&&(i.groupQueue=g||[],i.elements=[d[0]]);break}}}if(g&&Array.isArray(g)&&g.length>0){const p=g[g.length-1];if(!((n=p==null?void 0:p.detail)===null||n===void 0)&&n.children&&Array.isArray((r=p==null?void 0:p.detail)===null||r===void 0?void 0:r.children))for(let m=p.detail.children.length-1;m>=0;m--){const b=p.detail.children[m],x=Ea(b,{groupQueue:g});if(x&&Os(e,{ctx:o,vertexes:x,viewScaleInfo:u,viewSizeInfo:f}))return i.type||(i.type="over-element"),i.groupQueue=g,i.elements=[b],i}return i}if(i.type!==null)return i;if(h&&Array.isArray(d)&&(d==null?void 0:d.length)>1){const{x:p,y:m,w:b,h:x}=h;if(e.x>=p&&e.x<=p+b&&e.y>=m&&e.y<=m+x)return i.type="list-area",i.elements=d,i}if(s){const{index:p,element:m}=c.getPointElement(e,{data:s,viewScaleInfo:u,viewSizeInfo:f});if(p>=0&&m&&((a=m==null?void 0:m.operations)===null||a===void 0?void 0:a.invisible)!==!0)return i.elements=[m],i.type="over-element",i}return i}function fv(e,t){var n,r,a,i,o,s,c,d,u;let{x:f,y:h,w:g,h:v,angle:p=0}=e;const m=mt({x:f,y:h,w:g,h:v,angle:p});p=Mt(p);const b=Ht(p),x=!!(!((n=e==null?void 0:e.operations)===null||n===void 0)&&n.limitRatio),{start:w,end:y,resizeType:_,scale:E}=t;let T=Object.assign({},w),P=Object.assign({},y),j={x:T.x,y:m.y},D={x:P.x,y:m.y},V=Object.assign({},j),z=Object.assign({},D),C={x:m.x,y:T.y},L={x:m.x,y:P.y},G=Object.assign({},C),$=Object.assign({},L),S=(z.x-V.x)/E,F=(z.y-V.y)/E,O=Qa(S,F),B=($.x-G.x)/E,W=($.y-G.y)/E,A=Qa(B,W);(p>0||p<0)&&(T=Ie(m,w,0-b),P=Ie(m,y,0-b),j={x:T.x,y:m.y},D={x:P.x,y:m.y},V=Ie(m,j,b),z=Ie(m,D,b),C={x:m.x,y:T.y},L={x:m.x,y:P.y},G=Ie(m,C,b),$=Ie(m,L,b),S=(z.x-V.x)/E,F=(z.y-V.y)/E,O=Qa(S,F),O=oe(O,F),B=($.x-G.x)/E,W=($.y-G.y)/E,A=Qa(B,W),A=oe(A,W));let H=(y.x-w.x)/E,X=(y.y-w.y)/E;if(x===!0){if(["resize-top","resize-bottom","resize-left","resize-right"].includes(_)){const M=Math.max(Math.abs(H),Math.abs(X));H=(H>=0?1:-1)*M,X=(X>=0?1:-1)*M/e.w*e.h;const N=Math.max(Math.abs(B),Math.abs(W));B=(B>=0?1:-1)*N,W=(W>=0?1:-1)*N/e.w*e.h;const R=Math.max(Math.abs(S),Math.abs(F));S=(S>=0?1:-1)*R,F=(F>=0?1:-1)*R/e.w*e.h}else if(["resize-top-left","resize-top-right","resize-bottom-left","resize-bottom-right"].includes(_)){{const M=Math.abs(H);H=(H>=0?1:-1)*M;const N=M/e.w*e.h;_==="resize-top-left"||_==="resize-bottom-right"?X=H>0?N:-N:(_==="resize-top-right"||_==="resize-bottom-left")&&(X=H>0?-N:N)}O=Math.abs(O),A=O/e.w*e.h}}switch(_){case"resize-top":{if(p===0)v-X>0&&(h+=X,v-=X,((r=e.operations)===null||r===void 0?void 0:r.limitRatio)===!0&&(f+=X/e.h*e.w/2,g-=X/e.h*e.w));else if(p>0||p<0){let M=m.x,N=m.y;if(p<90){A=0-oe(A,W);const R=ge(p),U=A/2;M=M+U*Math.sin(R),N=N-U*Math.cos(R)}else if(p<180){A=oe(A,B);const R=ge(p-90),U=A/2;M=M+U*Math.cos(R),N=N+U*Math.sin(R)}else if(p<270){A=oe(A,W);const R=ge(p-180),U=A/2;M=M-U*Math.sin(R),N=N+U*Math.cos(R)}else if(p<360){A=0-oe(A,B);const R=ge(p-270),U=A/2;M=M-U*Math.cos(R),N=N-U*Math.sin(R)}v+A>0&&(((a=e.operations)===null||a===void 0?void 0:a.limitRatio)===!0&&(g=g+A/e.h*e.w),v=v+A,f=M-g/2,h=N-v/2)}break}case"resize-bottom":{if(p===0)e.h+X>0&&(v+=X,((i=e.operations)===null||i===void 0?void 0:i.limitRatio)===!0&&(f-=X/e.h*e.w/2,g+=X/e.h*e.w));else if(p>0||p<0){let M=m.x,N=m.y;if(p<90){A=oe(A,W);const R=ge(p),U=A/2;M=M-U*Math.sin(R),N=N+U*Math.cos(R)}else if(p<180){A=0-oe(A,B);const R=ge(p-90),U=A/2;M=M-U*Math.cos(R),N=N-U*Math.sin(R)}else if(p<270){A=oe(A,B);const R=ge(p-180),U=A/2;M=M+U*Math.sin(R),N=N-U*Math.cos(R)}else if(p<360){A=oe(A,B);const R=ge(p-270),U=A/2;M=M+U*Math.cos(R),N=N+U*Math.sin(R)}v+A>0&&(((o=e.operations)===null||o===void 0?void 0:o.limitRatio)===!0&&(g=g+A/e.h*e.w),v=v+A,f=M-g/2,h=N-v/2)}break}case"resize-left":{if(p===0)e.w-H>0&&(f+=H,g-=H,((s=e.operations)===null||s===void 0?void 0:s.limitRatio)===!0&&(v-=H/e.w*e.h,h+=H/e.w*e.h/2));else if(p>0||p<0){let M=m.x,N=m.y;if(p<90){O=0-oe(O,S);const R=ge(p),U=O/2;M=M-U*Math.cos(R),N=N-U*Math.sin(R)}else if(p<180){O=oe(O,S);const R=ge(p-90),U=O/2;M=M+U*Math.sin(R),N=N-U*Math.cos(R)}else if(p<270){O=oe(O,F);const R=ge(p-180),U=O/2;M=M+U*Math.cos(R),N=N+U*Math.sin(R)}else if(p<360){O=oe(O,F);const R=ge(p-270),U=O/2;M=M-U*Math.sin(R),N=N+U*Math.cos(R)}g+O>0&&(((c=e.operations)===null||c===void 0?void 0:c.limitRatio)===!0&&(v=v+O/e.w*e.h),g=g+O,f=M-g/2,h=N-v/2)}break}case"resize-right":{if(p===0)e.w+H>0&&(g+=H,((d=e.operations)===null||d===void 0?void 0:d.limitRatio)===!0&&(h-=H*e.h/e.w/2,v+=H*e.h/e.w));else if(p>0||p<0){let M=m.x,N=m.y;if(p<90){O=oe(O,F);const R=ge(p),U=O/2;M=M+U*Math.cos(R),N=N+U*Math.sin(R)}else if(p<180){O=oe(O,X);const R=ge(p-90),U=O/2;M=M-U*Math.sin(R),N=N+U*Math.cos(R)}else if(p<270){O=oe(O,X);const R=ge(p-180),U=O/2;M=M+U*Math.cos(R),N=N+U*Math.sin(R),O=0-O}else if(p<360){O=oe(O,H);const R=ge(p-270),U=O/2;M=M+U*Math.sin(R),N=N-U*Math.cos(R)}g+O>0&&(((u=e.operations)===null||u===void 0?void 0:u.limitRatio)===!0&&(v=v+O/e.w*e.h),g=g+O,f=M-g/2,h=N-v/2)}break}case"resize-top-left":{if(p===0)g-H>0&&(f+=H,g-=H),v-X>0&&(h+=X,v-=X);else if(p>0||p<0){let M=m.x,N=m.y;if(p<90){A=0-oe(A,W),O=0-oe(O,x?0-A:S);const R=A/2;M=M+R*Math.sin(b),N=N-R*Math.cos(b);const U=O/2;M=M-U*Math.cos(b),N=N-U*Math.sin(b)}else if(p<180){A=oe(A,B),O=oe(O,x?A:S);const R=ge(p-90),U=A/2;M=M+U*Math.cos(R),N=N+U*Math.sin(R);const k=O/2;M=M+k*Math.sin(R),N=N-k*Math.cos(R)}else if(p<270){A=oe(A,W),O=oe(O,x?A:F);const R=ge(p-180),U=A/2;M=M-U*Math.sin(R),N=N+U*Math.cos(R);const k=O/2;M=M+k*Math.cos(R),N=N+k*Math.sin(R)}else if(p<360){A=0-oe(A,B),O=oe(O,x?A:F);const R=ge(p-270),U=A/2;M=M-U*Math.cos(R),N=N-U*Math.sin(R);const k=O/2;M=M-k*Math.sin(R),N=N+k*Math.cos(R)}v+A>0&&(v=v+A),g+O>0&&(g=g+O),f=M-g/2,h=N-v/2}break}case"resize-top-right":{if(p===0)g+H>0&&(g+=H),v-X>0&&(h+=X,v-=X);else if(p>0||p<0){let M=m.x,N=m.y;if(p<90){A=0-oe(A,W),O=oe(O,x?A:F);const R=ge(p),U=A/2;M=M+U*Math.sin(R),N=N-U*Math.cos(R);const k=O/2;M=M+k*Math.cos(R),N=N+k*Math.sin(R)}else if(p<180){A=oe(A,B),O=oe(O,x?A:F);const R=ge(p-90),U=A/2;M=M+U*Math.cos(R),N=N+U*Math.sin(R);const k=O/2;M=M-k*Math.sin(R),N=N+k*Math.cos(R)}else if(p<270){const R=ge(p-180);A=oe(A,W),O=oe(O,x?A:0-S);const U=A/2;M=M-U*Math.sin(R),N=N+U*Math.cos(R);const k=O/2;M=M-k*Math.cos(R),N=N-k*Math.sin(R)}else if(p<360){A=0-oe(A,B),O=oe(O,x?A:S);const R=ge(p-270),U=A/2;M=M-U*Math.cos(R),N=N-U*Math.sin(R);const k=O/2;M=M+k*Math.sin(R),N=N-k*Math.cos(R)}v+A>0&&(v=v+A),g+O>0&&(g=g+O),f=M-g/2,h=N-v/2}break}case"resize-bottom-left":{if(p===0)e.h+X>0&&(v+=X),e.w-H>0&&(f+=H,g-=H);else if(p>0||p<0){let M=m.x,N=m.y;if(p<90){A=oe(A,W),O=0-oe(O,x?0-A:S);const R=ge(p),U=A/2;M=M-U*Math.sin(R),N=N+U*Math.cos(R);const k=O/2;M=M-k*Math.cos(R),N=N-k*Math.sin(R)}else if(p<180){A=0-oe(A,B),O=oe(O,x?A:S);const R=ge(p-90),U=A/2;M=M-U*Math.cos(R),N=N-U*Math.sin(R);const k=O/2;M=M+k*Math.sin(R),N=N-k*Math.cos(R)}else if(p<270){A=oe(A,B),O=oe(O,x?A:F);const R=ge(p-180),U=A/2;M=M+U*Math.sin(R),N=N-U*Math.cos(R);const k=O/2;M=M+k*Math.cos(R),N=N+k*Math.sin(R)}else if(p<360){A=oe(A,B),O=oe(O,x?A:F);const R=ge(p-270),U=A/2;M=M+U*Math.cos(R),N=N+U*Math.sin(R);const k=O/2;M=M-k*Math.sin(R),N=N+k*Math.cos(R)}v+A>0&&(v=v+A),g+O>0&&(g=g+O),f=M-g/2,h=N-v/2}break}case"resize-bottom-right":{if(p===0)e.h+X>0&&(v+=X),e.w+H>0&&(g+=H);else if(p>0||p<0){let M=m.x,N=m.y;if(p<90){A=oe(A,W),O=oe(O,x?A:F);const R=ge(p),U=A/2;M=M-U*Math.sin(R),N=N+U*Math.cos(R);const k=O/2;M=M+k*Math.cos(R),N=N+k*Math.sin(R)}else if(p<180){A=0-oe(A,B),O=oe(O,x?A:X);const R=ge(p-90),U=A/2;M=M-U*Math.cos(R),N=N-U*Math.sin(R);const k=O/2;M=M-k*Math.sin(R),N=N+k*Math.cos(R)}else if(p<270){A=oe(A,B),O=oe(O,x?A:0-F);const R=ge(p-180),U=A/2;M=M+U*Math.sin(R),N=N-U*Math.cos(R);const k=O/2;M=M-k*Math.cos(R),N=N-k*Math.sin(R)}else if(p<360){A=oe(A,B),O=oe(O,x?A:S);const R=ge(p-270),U=A/2;M=M+U*Math.cos(R),N=N+U*Math.sin(R);const k=O/2;M=M+k*Math.sin(R),N=N-k*Math.cos(R)}v+A>0&&(v=v+A),g+O>0&&(g=g+O),f=M-g/2,h=N-v/2}break}}return{x:f,y:h,w:g,h:v,angle:e.angle}}function hv(e,t){const{x:n,y:r,w:a,h:i,angle:o=0}=e,{center:s,start:c,end:d,viewScaleInfo:u}=t,f=be(s,{viewScaleInfo:u}),h=Mt(o),g=ap(f,c,d),v=h+rp(g);return{x:n,y:r,w:a,h:i,angle:v}}function gv(e,t){var n;const r=[],a=[],i=[],{viewScaleInfo:o,viewSizeInfo:s,start:c,end:d}=t;if(!(Array.isArray(e.elements)&&c&&d))return{indexes:r,uuids:a,elements:i};const u=Math.min(c.x,d.x),f=Math.max(c.x,d.x),h=Math.min(c.y,d.y),g=Math.max(c.y,d.y);for(let v=0;v<e.elements.length;v++){const p=e.elements[v];if(((n=p==null?void 0:p.operations)===null||n===void 0?void 0:n.lock)===!0)continue;const m=rt(p,{viewScaleInfo:o,viewSizeInfo:s}),b=mt(m);if(b.x>=u&&b.x<=f&&b.y>=h&&b.y<=g&&(r.push(v),a.push(p.uuid),i.push(p),m.angle&&(m.angle>0||m.angle<0))){const x=$r(m);if(x.length===4){const w=[x[0].x,x[1].x,x[2].x,x[3].x],y=[x[0].y,x[1].y,x[2].y,x[3].y];m.x=Math.min(...w),m.y=Math.min(...y),m.w=Math.abs(Math.max(...w)-Math.min(...w)),m.h=Math.abs(Math.max(...y)-Math.min(...y))}}}return{indexes:r,uuids:a,elements:i}}function Ko(e,t){var n;if(!Array.isArray(e))return null;const r={x:0,y:0,w:0,h:0},{viewScaleInfo:a,viewSizeInfo:i}=t;let o=null;for(let s=0;s<e.length;s++){const c=e[s];if(!((n=c==null?void 0:c.operations)===null||n===void 0)&&n.invisible)continue;const d=rt(c,{viewScaleInfo:a,viewSizeInfo:i});if(d.angle&&(d.angle>0||d.angle<0)){const u=$r(d);if(u.length===4){const f=[u[0].x,u[1].x,u[2].x,u[3].x],h=[u[0].y,u[1].y,u[2].y,u[3].y];d.x=Math.min(...f),d.y=Math.min(...h),d.w=Math.abs(Math.max(...f)-Math.min(...f)),d.h=Math.abs(Math.max(...h)-Math.min(...h))}}if(o){const u=Math.min(d.x,r.x),f=Math.min(d.y,r.y),h=Math.max(d.x+d.w,r.x+r.w),g=Math.max(d.y+d.h,r.y+r.h);r.x=u,r.y=f,r.w=Math.abs(h-u),r.h=Math.abs(g-f)}else r.x=d.x,r.y=d.y,r.w=d.w,r.h=d.h;o=d}return r}function pv(e,t){var n;if((t==null?void 0:t.type)==="group"&&Array.isArray((n=t==null?void 0:t.detail)===null||n===void 0?void 0:n.children))for(let r=0;r<t.detail.children.length;r++){const a=t.detail.children[r];if(e.uuid===a.uuid)return!0}return!1}function vv(e,t,n){let r=t.x-e.x,a=t.y-e.y;const i=[];if(n.forEach(o=>{const{x:s,y:c,w:d,h:u,angle:f=0}=o;i.push({x:s,y:c,w:d,h:u,angle:0-f})}),(n==null?void 0:n.length)>0){const o=Gi(e,i),s=Gi(t,i);r=s.x-o.x,a=s.y-o.y}return{moveX:r,moveY:a}}const kc=2;function Bc(e){return{minX:e.topLeft.x,minY:e.topLeft.y,maxX:e.bottomRight.x,maxY:e.bottomRight.y,midX:e.center.x,midY:e.center.y}}const Vn=(e,t)=>{if(e.length===0)throw null;if(e.length===1)return e[0];let n=0,r=e.length-1;for(;n<=r;){const a=Math.floor((n+r)/2);if(e[a]===t)return e[a];e[a]<t?n=a+1:r=a-1}return n>=e.length?e[r]:r<0?e[n]:Math.abs(e[r]-t)<=Math.abs(e[n]-t)?e[r]:e[n]},ut=(e,t)=>Math.abs(e-t)<1e-5;function Zo(e,t){var n,r;const{data:a,groupQueue:i,calculator:o,viewScaleInfo:s,viewSizeInfo:c}=t;let d=a.elements||[];(i==null?void 0:i.length)>0&&(d=((r=(n=i[i.length-1])===null||n===void 0?void 0:n.detail)===null||r===void 0?void 0:r.children)||[]);const u=[];d.forEach($=>{if($.uuid!==e){const S=o.calcViewRectInfoFromRange($.uuid,{checkVisible:!0,viewScaleInfo:s,viewSizeInfo:c});S&&u.push(S)}});const f=o.calcViewRectInfoFromRange(e,{viewScaleInfo:s,viewSizeInfo:c});if(!f)return null;const h={},g={},v={},p={},m=[],b=[];let x=[],w=[];const y=Bc(f);h[y.minX]=[y.minY,y.midY,y.maxY],h[y.midX]=[y.minY,y.midY,y.maxY],h[y.maxX]=[y.minY,y.midY,y.maxY],g[y.minY]=[y.minX,y.midX,y.maxX],g[y.midY]=[y.minX,y.midX,y.maxX],g[y.maxY]=[y.minX,y.midX,y.maxX],u.forEach($=>{const S=Bc($);v[S.minX]||(v[S.minX]=[]),v[S.midX]||(v[S.midX]=[]),v[S.maxX]||(v[S.maxX]=[]),p[S.minY]||(p[S.minY]=[]),p[S.midY]||(p[S.midY]=[]),p[S.maxY]||(p[S.maxY]=[]),v[S.minX]=[S.minY,S.midY,S.maxY],v[S.midX]=[S.minY,S.midY,S.maxY],v[S.maxX]=[S.minY,S.midY,S.maxY],x.push(S.minX),x.push(S.midX),x.push(S.maxX),p[S.minY]=[S.minX,S.midX,S.maxX],p[S.midY]=[S.minX,S.midX,S.maxX],p[S.maxY]=[S.minX,S.midX,S.maxX],w.push(S.minY),w.push(S.midY),w.push(S.maxY)}),x=x.sort(($,S)=>$-S),w=w.sort(($,S)=>$-S);let _=null,E=null,T=null,P=null,j=null,D=null,V=null,z=null;if(x.length>0){T=Vn(x,y.minX),P=Vn(x,y.midX),j=Vn(x,y.maxX);const $=Math.abs(T-y.minX),S=Math.abs(P-y.midX),F=Math.abs(j-y.maxX),O=Math.min($,S,F);O<=kc/s.scale&&(ut(O,$)?_=T-y.minX:ut(O,S)?_=P-y.midX:ut(O,F)&&(_=j-y.maxX))}if(w.length>0){D=Vn(w,y.minY),V=Vn(w,y.midY),z=Vn(w,y.maxY);const $=Math.abs(D-y.minY),S=Math.abs(V-y.midY),F=Math.abs(z-y.maxY),O=Math.min($,S,F);O<=kc/s.scale&&(ut(O,$)?E=D-y.minY:ut(O,S)?E=V-y.midY:ut(O,F)&&(E=z-y.maxY))}const C=Object.assign({},y);if(_!==null&&(C.minX+=_,C.midX+=_,C.maxX+=_),E!==null&&(C.minY+=E,C.midY+=E,C.maxY+=E),Te.x(_)&&_!==null&&T!==null&&P!==null&&j!==null){if(ut(_,T-y.minX)){const $={x:T,yList:[]};$.yList.push(C.minY),$.yList.push(C.maxY),$.yList.push(...(p==null?void 0:p[T])||[]),m.push($)}if(ut(_,P-y.minX)){const $={x:P,yList:[]};$.yList.push(C.minY),$.yList.push(C.maxY),$.yList.push(...(p==null?void 0:p[P])||[]),m.push($)}if(ut(_,j-y.minX)){const $={x:j,yList:[]};$.yList.push(C.minY),$.yList.push(C.maxY),$.yList.push(...(p==null?void 0:p[j])||[]),m.push($)}}if(Te.y(E)&&E!==null&&D!==null&&V!==null&&z!==null){if(ut(E,D-y.minY)){const $={y:D,xList:[]};$.xList.push(C.minX),$.xList.push(C.maxX),$.xList.push(...(v==null?void 0:v[D])||[]),b.push($)}if(ut(E,V-y.midY)){const $={y:V,xList:[]};$.xList.push(C.minX),$.xList.push(C.maxX),$.xList.push(...(v==null?void 0:v[D])||[]),b.push($)}if(ut(E,z-y.maxY)){const $={y:z,xList:[]};$.xList.push(C.minX),$.xList.push(C.maxX),$.xList.push(...(v==null?void 0:v[z])||[]),b.push($)}}const L=[];(m==null?void 0:m.length)>0&&m.forEach(($,S)=>{L.push([]),$.yList.forEach(F=>{L[S].push({x:$.x,y:F})})});const G=[];return(b==null?void 0:b.length)>0&&b.forEach(($,S)=>{G.push([]),$.xList.forEach(F=>{G[S].push({x:F,y:$.y})})}),{offsetX:_,offsetY:E,yLines:L,xLines:G}}const Ji="@middleware/text-edit",Ps="@middleware/text-change",mv=In(),Fc=e=>{const{eventHub:t,boardContent:n,viewer:r,sharer:a}=e,i=n.boardContext.canvas,o=document.createElement("div");o.setAttribute("contenteditable","true");const s=document.createElement("div"),c=e.container||document.body,d=document.createElement("div");let u=null,f=[];s.appendChild(o),s.style.position="absolute",d.appendChild(s),d.style.position="fixed",d.style.top="0",d.style.bottom="0",d.style.left="0",d.style.right="0",d.style.display="none",c.appendChild(d);const h=w=>{b(),m(w),d.style.display="block",u!=null&&u.uuid&&(a.setActiveOverrideElemenentMap({[u.uuid]:{operations:{invisible:!0}}}),r.drawFrame())},g=()=>{if(u!=null&&u.uuid){const w=a.getActiveOverrideElemenentMap();w&&delete w[u.uuid],a.setActiveOverrideElemenentMap(w),r.drawFrame()}d.style.display="none",u=null,f=[]},v=()=>{const w=i.getBoundingClientRect(),{left:y,top:_,width:E,height:T}=w;return{left:y,top:_,width:E,height:T}},p=w=>{const{size:y,parent:_}=w,E=document.createElement("div"),{x:T,y:P,w:j,h:D}=y,V=Mt(y.angle||0);return E.style.position="absolute",E.style.left=`${T}px`,E.style.top=`${P}px`,E.style.width=`${j}px`,E.style.height=`${D}px`,E.style.transform=`rotate(${V}deg)`,_.appendChild(E),E},m=w=>{const{viewScaleInfo:y,element:_,groupQueue:E}=w,{scale:T,offsetTop:P,offsetLeft:j}=y;s.children&&Array.from(s.children).forEach(F=>{F.remove()});let D=s;for(let F=0;F<E.length;F++){const O=E[F],{x:B,y:W,w:A,h:H}=O,X=Mt(O.angle||0),M={x:B*T,y:W*T,w:A*T,h:H*T,angle:X};F===0&&(M.x+=j,M.y+=P),D=p({size:M,parent:D})}const V=Object.assign(Object.assign({},mv),_.detail);let z=_.x*T+j,C=_.y*T+P,L=_.w*T,G=_.h*T;E.length>0&&(z=_.x*T,C=_.y*T,L=_.w*T,G=_.h*T);let $="center",S="center";V.textAlign==="left"?$="start":V.textAlign==="right"&&($="end"),V.verticalAlign==="top"?S="start":V.verticalAlign==="bottom"&&(S="end"),o.style.display="inline-flex",o.style.justifyContent=$,o.style.alignItems=S,o.style.position="absolute",o.style.left=`${z-1}px`,o.style.top=`${C-1}px`,o.style.width=`${L+2}px`,o.style.height=`${G+2}px`,o.style.transform=`rotate(${Mt(_.angle||0)}deg)`,o.style.boxSizing="border-box",o.style.border="1px solid #1973ba",o.style.resize="none",o.style.overflow="hidden",o.style.wordBreak="break-all",o.style.background="transparent",o.style.color=`${V.color||"#333333"}`,o.style.fontSize=`${V.fontSize*T}px`,o.style.lineHeight=`${(V.lineHeight||V.fontSize)*T}px`,o.style.fontFamily=Af(V.fontFamily),o.style.fontWeight=`${V.fontWeight}`,o.style.padding="0",o.style.margin="0",o.style.outline="none",o.innerText=V.text||"",D.appendChild(o)},b=()=>{const{left:w,top:y,width:_,height:E}=v();s.style.position="absolute",s.style.overflow="hidden",s.style.top=`${y}px`,s.style.left=`${w}px`,s.style.width=`${_}px`,s.style.height=`${E}px`};d.addEventListener("click",()=>{g()}),o.addEventListener("click",w=>{w.stopPropagation()}),o.addEventListener("input",()=>{u&&f&&(u.detail.text=o.innerText||"",t.trigger(Ps,{element:{uuid:u.uuid,detail:{text:u.detail.text}},position:[...f||[]]}),r.drawFrame())}),o.addEventListener("blur",()=>{u&&f&&t.trigger(Ps,{element:{uuid:u.uuid,detail:{text:u.detail.text}},position:[...f]}),g()}),o.addEventListener("keydown",w=>{w.stopPropagation()}),o.addEventListener("keypress",w=>{w.stopPropagation()}),o.addEventListener("keyup",w=>{w.stopPropagation()}),o.addEventListener("wheel",w=>{w.stopPropagation(),w.preventDefault()});const x=w=>{var y;w!=null&&w.position&&(w!=null&&w.element)&&((y=w==null?void 0:w.element)===null||y===void 0?void 0:y.type)==="text"&&(u=w.element,f=w.position),h(w)};return{name:"@middleware/text-editor",use(){t.on(Ji,x)},disuse(){t.off(Ji,x)}}},Hc=e=>{const{viewer:t,sharer:n,boardContent:r,calculator:a,eventHub:i}=e,{overlayContext:o}=r;let s=null,c=null;n.setSharedStorage(Me,null),n.setSharedStorage(Za,!0);const d=()=>n.getSharedStorage(nn),u=w=>{let y=n.getSharedStorage(et);Array.isArray(y)||(y=[]),y.length>0?pv(w,y[y.length-1])?y.push(w):y=[]:y.length===0&&y.push(w);const _=tl(y);return n.setSharedStorage(et,y),n.setSharedStorage(Yo,_),y.length>0},f=w=>{n.setSharedStorage(Qt,w);let y=null;w&&(y=Ea(w,{groupQueue:n.getSharedStorage(et)})),n.setSharedStorage(Yr,y)},h=(w,y)=>{var _;if(n.setSharedStorage(nn,w),w.length===1){const E=Ua(w[0],{groupQueue:n.getSharedStorage(et),controllerSize:Yf,viewScaleInfo:n.getActiveViewScaleInfo()});n.setSharedStorage(Fn,E),n.setSharedStorage(Hn,Ot(w[0].uuid,((_=n.getActiveStorage("data"))===null||_===void 0?void 0:_.elements)||[]))}else n.setSharedStorage(Fn,null),n.setSharedStorage(Hn,[]);(y==null?void 0:y.triggerEvent)===!0&&i.trigger(Di,{uuids:w.map(E=>E.uuid)})},g=()=>({ctx:o,calculator:a,data:n.getActiveStorage("data"),selectedElements:d(),viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo(),groupQueue:n.getSharedStorage(et),areaSize:null,selectedElementController:n.getSharedStorage(Fn),selectedElementPosition:n.getSharedStorage(Hn)}),v=()=>{n.setSharedStorage(Me,null),n.setSharedStorage(hn,null),n.setSharedStorage(Ya,null),n.setSharedStorage(Xa,null),n.setSharedStorage(et,[]),n.setSharedStorage(Yo,[]),n.setSharedStorage(Qt,null),n.setSharedStorage(Yr,null),n.setSharedStorage(nn,[]),n.setSharedStorage(iv,null),n.setSharedStorage(Fn,null),n.setSharedStorage(Hn,[]),n.setSharedStorage(Ka,null),n.setSharedStorage(Xo,null)};v();const p=({uuids:w,positions:y})=>{let _=[];const E=n.getSharedStorage(Me),T=n.getActiveStorage("data");y&&Array.isArray(y)?_=vf(y,(T==null?void 0:T.elements)||[]):_=yi(w,(T==null?void 0:T.elements)||[]);let P=!1;if(!E&&_.length===1?(n.setSharedStorage(Me,"select"),P=!0):E==="select"&&_.length===1&&(P=!0),P){const j=_[0],D=el(j.uuid,(T==null?void 0:T.elements)||[]);n.setSharedStorage(et,D),h(_),t.drawFrame()}},m=()=>{v(),t.drawFrame()},b=w=>{n.setSharedStorage(Za,!!w.enable)},x=w=>{n.setSharedStorage(Xo,!!w.enable)};return{name:"@middleware/selector",use(){i.on(Di,p),i.on(Qi,m),i.on(As,x),i.on(Ts,b)},disuse(){i.off(Di,p),i.off(Qi,m),i.off(As,x),i.off(Ts,b)},hover:w=>{var y,_,E,T,P;const j=n.getSharedStorage(hn),D=n.getSharedStorage(Me),V=n.getSharedStorage(et),z=S=>{const F=S.type;c===null&&i.trigger("cursor",{type:F,groupQueue:S.groupQueue,element:S.elements[0]})};if((V==null?void 0:V.length)>0){if(!jc(w.point,{ctx:o,viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo(),groupQueue:n.getSharedStorage(et)})){f(null),t.drawFrame();return}const F=Xr(w.point,g());if(z(F),j||["area","drag","drag-list"].includes(D)){f(null),t.drawFrame();return}if(((y=F==null?void 0:F.elements)===null||y===void 0?void 0:y.length)===1){f(F.elements[0]),t.drawFrame();return}f(null),t.drawFrame();return}if(j||["area","drag","drag-list"].includes(D)){f(null);return}if(D==="drag"){f(null);return}const C=d(),L=n.getActiveViewScaleInfo(),G=n.getActiveViewSizeInfo(),$=Xr(w.point,Object.assign(Object.assign({},g()),{areaSize:Ko(C,{viewScaleInfo:L,viewSizeInfo:G,calculator:a})}));if(z($),$.type===null){(n.getSharedStorage(Qt)||n.getSharedStorage(Yr))&&(n.setSharedStorage(Qt,null),n.setSharedStorage(Yr,null),t.drawFrame());return}if(!($.type==="over-element"&&n.getSharedStorage(Me)==="select"&&$.elements.length===1&&$.elements[0].uuid===((E=(_=d())===null||_===void 0?void 0:_[0])===null||E===void 0?void 0:E.uuid))&&!($.type==="over-element"&&n.getSharedStorage(Me)===null&&$.elements.length===1&&$.elements[0].uuid===((T=n.getSharedStorage(Qt))===null||T===void 0?void 0:T.uuid))){if($.type==="over-element"&&((P=$==null?void 0:$.elements)===null||P===void 0?void 0:P.length)===1){f($.elements[0]),t.drawFrame();return}if(n.getSharedStorage(Qt)){f(null),t.drawFrame();return}}},pointStart:w=>{var y,_,E,T,P,j,D,V,z,C;s=w.point;const L=n.getSharedStorage(et);if((L==null?void 0:L.length)>0){if(jc(w.point,{ctx:o,viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo(),groupQueue:L})){const S=Xr(w.point,g());if(((y=S==null?void 0:S.elements)===null||y===void 0?void 0:y.length)===1&&((E=(_=S.elements[0])===null||_===void 0?void 0:_.operations)===null||E===void 0?void 0:E.lock)===!0)return;f(null),S.type==="over-element"&&((T=S==null?void 0:S.elements)===null||T===void 0?void 0:T.length)===1?(h([S.elements[0]],{triggerEvent:!0}),n.setSharedStorage(Me,"drag")):!((P=S.type)===null||P===void 0)&&P.startsWith("resize-")?(n.setSharedStorage(hn,S.type),n.setSharedStorage(Me,"resize")):h([],{triggerEvent:!0})}else v();t.drawFrame();return}const G=Ko(d(),{viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo(),calculator:a}),$=Xr(w.point,Object.assign(Object.assign({},g()),{areaSize:G,groupQueue:[]}));((j=$==null?void 0:$.elements)===null||j===void 0?void 0:j.length)===1&&((V=(D=$.elements[0])===null||D===void 0?void 0:D.operations)===null||V===void 0?void 0:V.lock)===!0||(f(null),$.type==="list-area"?n.setSharedStorage(Me,"drag-list"):$.type==="over-element"&&((z=$==null?void 0:$.elements)===null||z===void 0?void 0:z.length)===1?(h([$.elements[0]],{triggerEvent:!0}),n.setSharedStorage(Me,"drag")):!((C=$.type)===null||C===void 0)&&C.startsWith("resize-")?(n.setSharedStorage(hn,$.type),n.setSharedStorage(Me,"resize")):(v(),n.setSharedStorage(Me,"area"),n.setSharedStorage(Ya,w.point),h([],{triggerEvent:!0})),t.drawFrame())},pointMove:w=>{var y,_,E;n.setSharedStorage(Ka,!0);const T=n.getActiveStorage("data"),P=d(),j=n.getActiveStorage("scale")||1,D=n.getActiveViewScaleInfo(),V=n.getActiveViewSizeInfo(),z=s,C=w.point,L=n.getSharedStorage(hn),G=n.getSharedStorage(Me),$=n.getSharedStorage(et),S=n.getSharedStorage(Za);if(G==="drag"){if(c="drag",T&&(P==null?void 0:P.length)===1&&z&&C&&((_=(y=P[0])===null||y===void 0?void 0:y.operations)===null||_===void 0?void 0:_.lock)!==!0){const{moveX:F,moveY:O}=vv(z,C,$);let B=a.toGridNum(F/j),W=a.toGridNum(O/j);if(S===!0){const A=Zo(P[0].uuid,{calculator:a,data:T,groupQueue:$,viewScaleInfo:D,viewSizeInfo:V});try{A&&(Te.x(A.offsetX)&&A.offsetX!==null&&(B=a.toGridNum(B+A.offsetX)),Te.y(A.offsetY)&&A.offsetY!==null&&(W=a.toGridNum(W+A.offsetY)))}catch(H){console.error(H)}}P[0].x=a.toGridNum(P[0].x+B),P[0].y=a.toGridNum(P[0].y+W),h([P[0]]),a.modifyViewVisibleInfoMap(T,{modifyOptions:{type:"updateElement",content:{element:P[0],position:n.getSharedStorage(Hn)||[]}},viewSizeInfo:V,viewScaleInfo:D})}t.drawFrame()}else if(G==="drag-list"){if(c="drag-list",T&&z&&C&&(P==null?void 0:P.length)>1){const F=(C.x-z.x)/j,O=(C.y-z.y)/j;P.forEach(B=>{var W;B&&((W=B==null?void 0:B.operations)===null||W===void 0?void 0:W.lock)!==!0&&(B.x=a.toGridNum(B.x+F),B.y=a.toGridNum(B.y+O),a.modifyViewVisibleInfoMap(T,{modifyOptions:{type:"updateElement",content:{element:B,position:Ot(B.uuid,T.elements)||[]}},viewSizeInfo:V,viewScaleInfo:D}))}),n.setActiveStorage("data",T)}t.drawFrame()}else if(G==="resize"){if(T&&(P==null?void 0:P.length)===1&&z&&(L!=null&&L.startsWith("resize-"))){c="resize";const F=[];$.forEach(W=>{const{x:A,y:H,w:X,h:M,angle:N=0}=W;F.push({x:A,y:H,w:X,h:M,angle:0-N})});let O=z,B=C;if($.length>0&&(O=Gi(z,F),B=Gi(C,F)),L==="resize-rotate"){const W=n.getSharedStorage(Fn),A=[W.topLeft.center,W.topRight.center,W.bottomLeft.center,W.bottomRight.center],H=df(A),X=hv(P[0],{center:H,viewScaleInfo:D,viewSizeInfo:V,start:z,end:C,resizeType:L,sharer:n});P[0].angle=a.toGridNum(X.angle||0)}else{const W=fv(P[0],{scale:j,start:O,end:B,resizeType:L,sharer:n}),A={ignore:!!P[0].angle};P[0].x=a.toGridNum(W.x,A),P[0].y=a.toGridNum(W.y,A),P[0].type==="group"&&((E=P[0].operations)===null||E===void 0?void 0:E.deepResize)===!0?Sf(P[0],{w:a.toGridNum(W.w,A),h:a.toGridNum(W.h,A)}):(P[0].w=a.toGridNum(W.w,A),P[0].h=a.toGridNum(W.h,A))}h([P[0]]),a.modifyViewVisibleInfoMap(T,{modifyOptions:{type:"updateElement",content:{element:P[0],position:n.getSharedStorage(Hn)||[]}},viewSizeInfo:V,viewScaleInfo:D}),t.drawFrame()}}else G==="area"&&(c="area",n.setSharedStorage(Xa,w.point),t.drawFrame());s=w.point},pointEnd(w){c=null,n.setSharedStorage(Ka,!1);const y=n.getActiveStorage("data"),_=n.getSharedStorage(nn),E=n.getSharedStorage(Qt),T=n.getSharedStorage(hn),P=n.getSharedStorage(Me),j=n.getActiveViewSizeInfo();let D=!1;if(s=null,P==="resize"&&T)n.setSharedStorage(hn,null),D=!0;else if(P==="area"){if(n.setSharedStorage(Me,null),y){const z=n.getSharedStorage(Ya),C=n.getSharedStorage(Xa);if(z&&C){const{elements:L}=gv(y,{start:z,end:C,calculator:a,viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo()});L.length>0&&(n.setSharedStorage(Me,"drag-list"),h(L,{triggerEvent:!0}),D=!0)}}}else P==="drag-list"?(n.setSharedStorage(Me,"drag-list-end"),D=!0):y&&(a.getPointElement(w.point,{data:y,viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo()}).element?(n.setSharedStorage(Me,"select"),D=!0):n.setSharedStorage(Me,null));n.getSharedStorage(Me)===null&&(v(),D=!0),(()=>{if(D){if(y&&Array.isArray(y==null?void 0:y.elements)&&["drag","drag-list"].includes(P)){const z=ip(y.elements,j,{extend:!0});n.setActiveStorage("contextHeight",z.contextSize.contextHeight),n.setActiveStorage("contextWidth",z.contextSize.contextWidth)}y&&["drag","drag-list","drag-list-end","resize"].includes(P)&&i.trigger(rl,{data:y,type:"dragElement",selectedElements:_,hoverElement:E}),t.drawFrame()}})()},pointLeave(){s=null,v(),t.drawFrame()},doubleClick(w){var y,_,E,T,P,j,D,V;if(n.getSharedStorage(Xo)===!1)return;const z=Xr(w.point,g());if(n.setSharedStorage(Fn,null),n.setSharedStorage(nn,[]),!(z.elements.length===1&&((_=(y=z.elements[0])===null||y===void 0?void 0:y.operations)===null||_===void 0?void 0:_.lock)===!0)){if(z.elements.length===1&&((E=z.elements[0])===null||E===void 0?void 0:E.type)==="group"){if(u(z.elements[0])===!0){n.setSharedStorage(Me,null),t.drawFrame();return}}else z.elements.length===1&&((T=z.elements[0])===null||T===void 0?void 0:T.type)==="text"&&!(!((j=(P=z.elements[0])===null||P===void 0?void 0:P.operations)===null||j===void 0)&&j.invisible)&&i.trigger(Ji,{element:z.elements[0],groupQueue:n.getSharedStorage(et)||[],position:Ot((D=z.elements[0])===null||D===void 0?void 0:D.uuid,((V=n.getActiveStorage("data"))===null||V===void 0?void 0:V.elements)||[]),viewScaleInfo:n.getActiveViewScaleInfo()});n.setSharedStorage(Me,null)}},beforeDrawFrame({snapshot:w}){var y;const{activeStore:_,sharedStore:E}=w,{scale:T,offsetLeft:P,offsetTop:j,offsetRight:D,offsetBottom:V,width:z,height:C,contextHeight:L,contextWidth:G,devicePixelRatio:$}=_,S=e.sharer,F={scale:T,offsetLeft:P,offsetTop:j,offsetRight:D,offsetBottom:V},O={width:z,height:C,contextHeight:L,contextWidth:G,devicePixelRatio:$},W=E[nn][0],A=E[Qt],H=E[Yr],X=E[Me],M=E[Ya],N=E[Xa],R=E[et],U=E[Yo],k=E[Ka],J=E[Za],se={calculator:a,viewScaleInfo:F,viewSizeInfo:O},Z=W?Ua(W,{groupQueue:R,controllerSize:10,viewScaleInfo:F}):null,We=!!(!((y=A==null?void 0:A.operations)===null||y===void 0)&&y.lock);if((R==null?void 0:R.length)>0){if(uv(o,U,se),A&&X!=="drag"&&(We?Dc(o,H,Object.assign(Object.assign({},se),{controller:Ua(A,{groupQueue:R,controllerSize:10,viewScaleInfo:F})})):Rc(o,H,se)),!We&&W&&["select","drag","resize"].includes(X)&&(Nc(o,Z,Object.assign(Object.assign({},se),{element:W,calculator:a,hideControllers:!!k&&X==="drag"})),X==="drag"&&J===!0)){const Be=Zo(W.uuid,{calculator:a,data:_.data,groupQueue:R,viewScaleInfo:F,viewSizeInfo:O});if(Be){const{offsetX:Xt,offsetY:No,xLines:Lo,yLines:jo}=Be;(Xt===0||No===0)&&Lc(o,{xLines:Lo,yLines:jo})}}}else if(A&&X!=="drag"&&(We?Dc(o,H,Object.assign(Object.assign({},se),{controller:Ua(A,{groupQueue:R,controllerSize:10,viewScaleInfo:F})})):Rc(o,H,se)),!We&&W&&["select","drag","resize"].includes(X)){if(Nc(o,Z,Object.assign(Object.assign({},se),{element:W,calculator:a,hideControllers:!!k&&X==="drag"})),X==="drag"&&J===!0){const Be=Zo(W.uuid,{calculator:a,data:_.data,groupQueue:R,viewScaleInfo:F,viewSizeInfo:O});if(Be){const{offsetX:Xt,offsetY:No,xLines:Lo,yLines:jo}=Be;(Xt===0||No===0)&&Lc(o,{xLines:Lo,yLines:jo})}}}else if(X==="area"&&M&&N)cv(o,{start:M,end:N});else if(["drag-list","drag-list-end"].includes(X)){const Be=Ko(d(),{viewScaleInfo:S.getActiveViewScaleInfo(),viewSizeInfo:S.getActiveViewSizeInfo(),calculator:a});Be&&dv(o,{areaSize:Be})}}}},$a="SCROLL",Ni=Symbol(`${$a}_xThumbRect`),Li=Symbol(`${$a}_yThumbRect`),or=Symbol(`${$a}_prevPoint`),Is=Symbol(`${$a}_activePoint`),da=Symbol(`${$a}_activeThumbType`),bv=12,Vc=16,yv=.3,Wc={width:bv,thumbColor:"#000000AA",scrollBarColor:"#FFFFFF60",showScrollBar:!1};function Gc(e,t,n){const r=e,{x:a,y:i,w:o,h:s}=n;return r.beginPath(),r.rect(a,i,o,s),r.closePath(),!!r.isPointInPath(t.x,t.y)}function wv(e,t,n){let r=null;const{xThumbRect:a,yThumbRect:i}=n;return a&&Gc(e,t,a)?r="X":i&&Gc(e,t,i)&&(r="Y"),r}function xv(e){const{sharedStore:t}=e;return{activePoint:t[Is]||null,prevPoint:t[or]||null,activeThumbType:t[da]||null,xThumbRect:t[Ni]||null,yThumbRect:t[Li]||null}}function Ev(e,t){const{width:n,height:r}=t,{offsetTop:a,offsetBottom:i,offsetLeft:o,offsetRight:s}=e,c=Vc*2.5,d=Vc;let u=0,f=0;u=Math.max(c,n-d*2-(Math.abs(o)+Math.abs(s))),u>=n&&(u=n),f=Math.max(c,r-d*2-(Math.abs(a)+Math.abs(i))),f>=r&&(f=r);const h=d,g=n-u-d;let v=h;o>0?v=h:s>0?v=g:o<=0&&u>0&&!(o===0&&s===0)&&(v=h+(n-u)*Math.abs(o)/(Math.abs(o)+Math.abs(s)),v=Math.min(Math.max(0,v-h),n-u));const p=d,m=r-f-d;let b=p;a>0?b=p:i>0?b=m:a<=0&&f>0&&!(a===0&&i===0)&&(b=p+(r-f)*Math.abs(a)/(Math.abs(a)+Math.abs(i)),b=Math.min(Math.max(0,b-p),r-f));const x={x:v,y:r-d,w:u,h:d},w={x:n-d,y:b,w:d,h:f};return{lineSize:d,xSize:u,ySize:f,translateY:b,translateX:v,thumbColor:Wc.thumbColor,scrollBarColor:Wc.scrollBarColor,xThumbRect:x,yThumbRect:w}}function Uc(e,t){let{x:n,y:r,h:a,w:i}=t;e.save(),e.shadowColor="#FFFFFF",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=1;{const{color:o,axis:s}=t;s==="X"?(r=r+a/4+0,a=a/2):s==="Y"&&(n=n+i/4+0,i=i/2);let c=t.r;c=Math.min(c,i/2,a/2),(i<c*2||a<c*2)&&(c=0),e.globalAlpha=yv,e.beginPath(),e.moveTo(n+c,r),e.arcTo(n+i,r,n+i,r+a,c),e.arcTo(n+i,r+a,n,r+a,c),e.arcTo(n,r+a,n,r,c),e.arcTo(n,r,n+i,r,c),e.closePath(),e.fillStyle=o,e.fill(),e.globalAlpha=1,e.beginPath(),e.lineWidth=1,e.strokeStyle=o,e.setLineDash([]),e.moveTo(n+c,r),e.arcTo(n+i,r,n+i,r+a,c),e.arcTo(n+i,r+a,n,r+a,c),e.arcTo(n,r+a,n,r,c),e.arcTo(n,r,n+i,r,c),e.closePath(),e.stroke()}e.restore()}function Sv(e,t){const n=e,{viewScaleInfo:r,viewSizeInfo:a,scrollInfo:i}=t,{activeThumbType:o,prevPoint:s,activePoint:c}=i,d=Ev(r,a);let u=Object.assign({},d.xThumbRect),f=Object.assign({},d.yThumbRect);return o&&s&&c&&(o==="X"&&i.xThumbRect?(u=Object.assign({},i.xThumbRect),u.x=u.x+(c.x-s.x)):o==="Y"&&i.yThumbRect&&(f=Object.assign({},i.yThumbRect),f.y=f.y+(c.y-s.y))),Uc(n,Object.assign(Object.assign({axis:"X"},u),{r:d.lineSize/2,color:d.thumbColor})),Uc(n,Object.assign(Object.assign({axis:"Y"},f),{r:d.lineSize/2,color:d.thumbColor})),n.globalAlpha=1,{xThumbRect:u,yThumbRect:f}}function Cv(e,t){const{snapshot:n}=t,r=go(n),a=Ta(n),i=xv(n),{xThumbRect:o,yThumbRect:s}=Sv(e,{viewSizeInfo:r,viewScaleInfo:a,scrollInfo:i});return{xThumbRect:o,yThumbRect:s}}const Yc=e=>{const{viewer:t,boardContent:n,sharer:r}=e,{overlayContext:a}=n;r.setSharedStorage(Ni,null),r.setSharedStorage(Li,null);const i=()=>{r.setSharedStorage(or,null),r.setSharedStorage(Is,null),r.setSharedStorage(da,null)};i();const o=d=>{const u=r.getSharedStorage(or);if(u){const{offsetLeft:f,offsetRight:h}=r.getActiveViewScaleInfo(),{width:g}=r.getActiveViewSizeInfo(),v=-(d.x-u.x),p=g+Math.abs(f)+Math.abs(h),m=v*p/g;t.scroll({moveX:m}),t.drawFrame()}},s=d=>{const u=r.getSharedStorage(or);if(u){const{offsetTop:f,offsetBottom:h}=r.getActiveViewScaleInfo(),{height:g}=r.getActiveViewSizeInfo(),v=-(d.y-u.y),p=g+Math.abs(f)+Math.abs(h),m=v*p/g;t.scroll({moveY:m}),t.drawFrame()}},c=d=>wv(a,d,{xThumbRect:r.getSharedStorage(Ni),yThumbRect:r.getSharedStorage(Li)});return{name:"@middleware/scroller",wheel:d=>{t.scroll({moveX:0-d.deltaX,moveY:0-d.deltaY}),t.drawFrame()},pointStart:d=>{const{point:u}=d,f=c(u);if(f==="X"||f==="Y")return r.setSharedStorage(da,f),r.setSharedStorage(or,u),!1},pointMove:d=>{const{point:u}=d,f=r.getSharedStorage(da);if(f==="X"||f==="Y")return r.setSharedStorage(Is,u),f==="X"?o(u):f==="Y"&&s(u),r.setSharedStorage(or,u),!1},pointEnd:()=>{const d=r.getSharedStorage(da);if(i(),d==="X"||d==="Y")return t.scroll({moveX:0,moveY:0}),t.drawFrame(),!1},beforeDrawFrame({snapshot:d}){const{xThumbRect:u,yThumbRect:f}=Cv(a,{snapshot:d});r.setSharedStorage(Ni,u),r.setSharedStorage(Li,f)}}},Xf="@middleware/scale",Xc=e=>{const{viewer:t,sharer:n,eventHub:r}=e,a=50,i=.05;return{name:"@middleware/scaler",wheelScale(o){const{deltaY:s,point:c}=o,{scale:d}=n.getActiveViewScaleInfo();let u=d;if(s<0?u=d*1.1:s>0&&(u=d*.9),u<i||u>a)return;const{moveX:f,moveY:h}=t.scale({scale:u,point:c});t.scroll({moveX:f,moveY:h}),t.drawFrame();const g=ye(d);r.trigger(Xf,{scale:g})}}},je=16,Mv="#FFFFFFA8",Av="#00000080",Kf="#000000",Zf="#00000080",Qf="monospace",$s=10,Jf=100,Kc="#AAAAAA20",Zc="#AAAAAA40",vo=1,Qc="#196097",Wn=[1,2,5,10,20,50,100,200,500];function Tv(e){e=Math.max(Wn[0],Math.min(e,Wn[Wn.length-1]));for(let t=0;t<Wn.length-1;t++){const n=Wn[t],r=Wn[t+1];if(e>r)continue;if(e===n||e===r)return e;const a=(n+r)/2;return e<=a?n:r}return e}function qf(e){const{scale:t,viewLength:n,viewOffset:r}=e,a=[];let i=10;i=ye(i/t,{decimalPlaces:0}),i=Tv(i);const o=i*10,s=i*5;let c=0;const d=i*t,u=0-r,f=0,h=u%d,g=(u-h+d)/t,v=f+(d-h);for(;v+c*d<n;){const p=ye(g+c*i,{decimalPlaces:0}),m=ye(v+c*d,{decimalPlaces:0}),b={num:p,position:m,showNum:p%o===0,isKeyNum:p%o===0,isSubKeyNum:p%s===0};a.push(b),c++}return{list:a,rulerUnit:i}}function _v(e){const{viewScaleInfo:t,viewSizeInfo:n}=e,{scale:r,offsetLeft:a}=t,{width:i}=n;return qf({axis:"X",scale:r,viewLength:i,viewOffset:a})}function Ov(e){const{viewScaleInfo:t,viewSizeInfo:n}=e,{scale:r,offsetTop:a}=t,{height:i}=n;return qf({axis:"Y",scale:r,viewLength:i,viewOffset:a})}function Pv(e,t){const{scaleList:n}=t,r=je,a=je*4/5,i=je*2/5,o=je*1/5,s=je/5;for(let c=0;c<n.length;c++){const d=n[c];d.position<je||(e.beginPath(),e.moveTo(d.position,r),e.lineTo(d.position,d.isKeyNum?o:d.isSubKeyNum?i:a),e.closePath(),e.lineWidth=vo,e.setLineDash([]),e.fillStyle=Kf,e.stroke(),d.isKeyNum&&(e.fillStyle=Zf,e.textBaseline="top",e.$setFont({fontWeight:Jf,fontSize:$s,fontFamily:Qf}),e.fillText(`${d.num}`,d.position+s,s)))}}function Iv(e,t){const{scaleList:n}=t,r=je,a=je*4/5,i=je*2/5,o=je*1/5,s=je/5;for(let c=0;c<n.length;c++){const d=n[c];if(!(d.position<je)&&(e.beginPath(),e.moveTo(r,d.position),e.lineTo(d.isKeyNum?o:d.isSubKeyNum?i:a,d.position),e.closePath(),e.fillStyle=Kf,e.lineWidth=vo,e.setLineDash([]),e.stroke(),d.showNum===!0)){const u=s,f=d.position+s,h=`${d.num}`;_a(e,-90,{x:u,y:f},()=>{e.fillStyle=Zf,e.textBaseline="top",e.$setFont({fontWeight:Jf,fontSize:$s,fontFamily:Qf}),e.fillText(h,s+$s,d.position+s)})}}}function $v(e,t){const{viewSizeInfo:n}=t,{width:r,height:a}=n;e.beginPath(),e.moveTo(0,0),e.lineTo(r+1,0),e.lineTo(r+1,je),e.lineTo(je,je),e.lineTo(je,a+1),e.lineTo(0,a+1),e.lineTo(0,0),e.closePath(),e.fillStyle=Mv,e.fill(),e.lineWidth=vo,e.setLineDash([]),e.strokeStyle=Av,e.stroke()}function zv(e,t){const{xList:n,yList:r,viewSizeInfo:a}=t,{width:i,height:o}=a;for(let s=0;s<n.length;s++){const c=n[s];e.beginPath(),e.moveTo(c.position,0),e.lineTo(c.position,o),c.isKeyNum===!0||c.isSubKeyNum===!0?e.strokeStyle=Zc:e.strokeStyle=Kc,e.closePath(),e.lineWidth=vo,e.setLineDash([]),e.stroke()}for(let s=0;s<r.length;s++){const c=r[s];e.beginPath(),e.moveTo(0,c.position),e.lineTo(i,c.position),c.isKeyNum===!0||c.isSubKeyNum===!0?e.strokeStyle=Zc:e.strokeStyle=Kc,e.lineWidth=1,e.closePath(),e.stroke()}}function Rv(e,t){const{snapshot:n,calculator:r}=t,{sharedStore:a}=n,i=a[nn],o=a[Me];if(["select","drag","drag-list","drag-list-end"].includes(o)&&i.length>0){const s=Ta(n),c=go(n),d=[],u=[],f=[],h=[],g=[];if(i.forEach(x=>{const w=r.calcViewRectInfoFromRange(x.uuid,{viewScaleInfo:s,viewSizeInfo:c});w&&(d.push(w),u.push(w.left.x),f.push(w.right.x),h.push(w.top.y),g.push(w.bottom.y))}),!(d.length>0))return;const v=Math.min(...u),p=Math.max(...f),m=Math.min(...h),b=Math.max(...g);e.globalAlpha=1,e.beginPath(),e.moveTo(v,0),e.lineTo(p,0),e.lineTo(p,je),e.lineTo(v,je),e.fillStyle=Qc,e.closePath(),e.fill(),e.beginPath(),e.moveTo(0,m),e.lineTo(je,m),e.lineTo(je,b),e.lineTo(0,b),e.fillStyle=Qc,e.closePath(),e.fill()}}const zs="@middleware/show-ruler",Jc=e=>{const{boardContent:t,viewer:n,eventHub:r,calculator:a}=e,{overlayContext:i,underlayContext:o}=t;let s=!0,c=!0;const d=u=>{typeof(u==null?void 0:u.show)=="boolean"&&(s=u.show),typeof(u==null?void 0:u.showGrid)=="boolean"&&(c=u.showGrid),(typeof(u==null?void 0:u.show)=="boolean"||typeof(u==null?void 0:u.showGrid)=="boolean")&&n.drawFrame()};return{name:"@middleware/ruler",use(){r.on(zs,d)},disuse(){r.off(zs,d)},beforeDrawFrame:({snapshot:u})=>{if(s===!0){const f=Ta(u),h=go(u);Rv(i,{snapshot:u,calculator:a}),$v(i,{viewScaleInfo:f,viewSizeInfo:h});const{list:g,rulerUnit:v}=_v({viewScaleInfo:f,viewSizeInfo:h});Pv(i,{scaleList:g});const{list:p}=Ov({viewScaleInfo:f,viewSizeInfo:h});Iv(i,{scaleList:p}),c===!0&&zv(v===1?i:o,{xList:g,yList:p,viewScaleInfo:f,viewSizeInfo:h})}}}},Dv="DRAG",Ja=Symbol(`${Dv}_prevPoint`),qc=e=>{const{eventHub:t,sharer:n,viewer:r}=e;let a=!1;return{name:"@middleware/dragger",hover(){a!==!0&&t.trigger("cursor",{type:"drag-default"})},pointStart(i){const{point:o}=i;n.setSharedStorage(Ja,o),a=!0,t.trigger("cursor",{type:"drag-active"})},pointMove(i){const{point:o}=i,s=n.getSharedStorage(Ja);if(o&&s){const c=o.x-s.x,d=o.y-s.y;r.scroll({moveX:c,moveY:d}),r.drawFrame()}n.setSharedStorage(Ja,o)},pointEnd(){a=!1,n.setSharedStorage(Ja,null),t.trigger("cursor",{type:"drag-default"})}}},al="monospace";function Nv(e,t){const{point:n,rotateCenter:r,angle:a,text:i,color:o,background:s,fontSize:c,lineHeight:d}=t;_a(e,a,r,()=>{e.$setFont({fontWeight:"300",fontSize:c,fontFamily:al});const u=(d-c)/2,f=e.$undoPixelRatio(e.measureText(i).width),h={x:n.x-f/2-u,y:n.y},g={x:h.x+f+u*2,y:h.y+c+u},v={x:n.x-f/2,y:n.y};e.setLineDash([]),e.fillStyle=s,e.beginPath(),e.moveTo(h.x,h.y),e.lineTo(g.x,h.y),e.lineTo(g.x,g.y),e.lineTo(h.x,g.y),e.closePath(),e.fill(),e.fillStyle=o,e.textBaseline="top",e.fillText(i,v.x,v.y+u)})}function Lv(e,t){const{point:n,rotateCenter:r,angle:a,text:i,color:o,background:s,fontSize:c,lineHeight:d}=t;_a(e,a,r,()=>{e.$setFont({fontWeight:"300",fontSize:c,fontFamily:al});const u=(d-c)/2,f=e.$undoPixelRatio(e.measureText(i).width),h={x:n.x,y:n.y},g={x:h.x+f+u*2,y:h.y+c+u},v={x:n.x+u,y:n.y};e.setLineDash([]),e.fillStyle=s,e.beginPath(),e.moveTo(h.x,h.y),e.lineTo(g.x,h.y),e.lineTo(g.x,g.y),e.lineTo(h.x,g.y),e.closePath(),e.fill(),e.fillStyle=o,e.textBaseline="top",e.fillText(i,v.x,v.y+u)})}function jv(e,t){const{point:n,rotateCenter:r,angle:a,text:i,color:o,background:s,fontSize:c,lineHeight:d}=t;_a(e,a,r,()=>{e.$setFont({fontWeight:"300",fontSize:c,fontFamily:al});const u=(d-c)/2,f=e.$undoPixelRatio(e.measureText(i).width),h={x:n.x,y:n.y},g={x:h.x+f+u*2,y:h.y+c+u},v={x:n.x+u,y:n.y};e.setLineDash([]),e.fillStyle=s,e.beginPath(),e.moveTo(h.x,h.y),e.lineTo(g.x,h.y),e.lineTo(g.x,g.y),e.lineTo(h.x,g.y),e.closePath(),e.fill(),e.fillStyle=o,e.textBaseline="top",e.fillText(i,v.x,v.y+u)})}const Qo="#1973bac6",Jo="#ffffff",gn=10,qo=16,ed=e=>{const{boardContent:t,calculator:n}=e,{overlayContext:r}=t;return{name:"@middleware/info",beforeDrawFrame({snapshot:a}){const{sharedStore:i}=a,o=i[nn],s=i[Me],c=i[et]||[];if(o.length===1){const d=o[0];if(d&&["select","drag","resize"].includes(s)){const u=Ta(a),f=go(a),{x:h,y:g,w:v,h:p,angle:m}=d,b=[...c,{uuid:nt(),x:h,y:g,w:v,h:p,angle:m,type:"group",detail:{children:[]}}],x={viewScaleInfo:u,viewSizeInfo:f},w=n.calcViewRectInfoFromOrigin(d.uuid,x);let y=0;b.forEach(E=>{y+=E.angle||0});const _=Ht(Mt(0-y));if(w){const E=w==null?void 0:w.center,T={topLeft:Ie(E,w.topLeft,_),topRight:Ie(E,w.topRight,_),bottomRight:Ie(E,w.bottomRight,_),bottomLeft:Ie(E,w.bottomLeft,_),center:Ie(E,w.center,_),top:Ie(E,w.top,_),right:Ie(E,w.right,_),bottom:Ie(E,w.bottom,_),left:Ie(E,w.left,_)},P=ye(d.x,{decimalPlaces:2}),j=ye(d.y,{decimalPlaces:2}),D=ye(d.w,{decimalPlaces:2}),V=ye(d.h,{decimalPlaces:2}),z=`${ye(P,{decimalPlaces:0})},${ye(j,{decimalPlaces:0})}`,C=`${ye(D,{decimalPlaces:0})}x${ye(V,{decimalPlaces:0})}`,L=`${ye(d.angle||0,{decimalPlaces:0})}°`;Nv(r,{point:{x:T.bottom.x,y:T.bottom.y+gn},rotateCenter:T.center,angle:y,text:C,fontSize:gn,lineHeight:qo,color:Jo,background:Qo}),Lv(r,{point:{x:T.topLeft.x,y:T.topLeft.y-gn*2},rotateCenter:T.center,angle:y,text:z,fontSize:gn,lineHeight:qo,color:Jo,background:Qo}),jv(r,{point:{x:T.top.x+gn,y:T.top.y-gn*2},rotateCenter:T.center,angle:y,text:L,fontSize:gn,lineHeight:qo,color:Jo,background:Qo})}}}}}},il="LAYOUT_SELECT",xt=Symbol(`${il}_layoutActionType`),Kr=Symbol(`${il}_layoutControlType`),qa=Symbol(`${il}_layoutController`),eh="#1973ba",th="#5b5959b5";function ei(e,t){e.setLineDash([]),e.fillStyle="#FFFFFF",e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y),e.lineTo(t[2].x,t[2].y),e.lineTo(t[3].x,t[3].y),e.closePath(),e.fill(),e.strokeStyle=eh,e.lineWidth=2,e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y),e.lineTo(t[2].x,t[2].y),e.lineTo(t[3].x,t[3].y),e.closePath(),e.stroke()}function ua(e,t){const{vertexes:n,strokeStyle:r,lineWidth:a}=t;e.setLineDash([]),e.strokeStyle=r,e.lineWidth=a,e.beginPath(),e.moveTo(n[0].x,n[0].y),e.lineTo(n[2].x,n[2].y),e.closePath(),e.stroke(),e.beginPath(),e.moveTo(n[1].x,n[1].y),e.lineTo(n[3].x,n[3].y),e.closePath(),e.stroke()}function ti(e,t){const{start:n,end:r,centerVertexes:a,disabled:i}=t,o=i===!0?1:2,s=i===!0?th:eh;e.setLineDash([]),e.strokeStyle=s,e.lineWidth=o,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(r.x,r.y),e.closePath(),e.stroke(),i===!0&&ua(e,{vertexes:a,lineWidth:o,strokeStyle:s})}function kv(e,t){const{controller:n,operations:r}=t,{topLeft:a,topRight:i,bottomLeft:o,bottomRight:s,topMiddle:c,rightMiddle:d,bottomMiddle:u,leftMiddle:f}=n;ti(e,{start:a.center,end:i.center,centerVertexes:c.vertexes,disabled:!!(r!=null&&r.disabledTop)}),ti(e,{start:i.center,end:s.center,centerVertexes:d.vertexes,disabled:!!(r!=null&&r.disabledRight)}),ti(e,{start:s.center,end:o.center,centerVertexes:u.vertexes,disabled:!!(r!=null&&r.disabledBottom)}),ti(e,{start:o.center,end:a.center,centerVertexes:f.vertexes,disabled:!!(r!=null&&r.disabledLeft)});const h={lineWidth:1,strokeStyle:th};(r==null?void 0:r.disabledTopLeft)===!0?ua(e,Object.assign({vertexes:a.vertexes},h)):ei(e,a.vertexes),(r==null?void 0:r.disabledTopRight)===!0?ua(e,Object.assign({vertexes:i.vertexes},h)):ei(e,i.vertexes),(r==null?void 0:r.disabledBottomRight)===!0?ua(e,Object.assign({vertexes:s.vertexes},h)):ei(e,s.vertexes),(r==null?void 0:r.disabledBottomLeft)===!0?ua(e,Object.assign({vertexes:o.vertexes},h)):ei(e,o.vertexes)}const td=e=>{const{sharer:t,boardContent:n,calculator:r,viewer:a,eventHub:i}=e,{overlayContext:o}=n;let s=null;const c=()=>{s=null,t.setSharedStorage(xt,null),t.setSharedStorage(Kr,null),t.setSharedStorage(qa,null)},d=()=>!!t.getSharedStorage(Me),u=v=>{var p;const m=t.getActiveStorage("data");if(!((p=m==null?void 0:m.layout)===null||p===void 0)&&p.operations){const b=m.layout.operations;if(v==="left"&&b.disabledLeft===!0||v==="top"&&b.disabledTop===!0||v==="right"&&b.disabledRight===!0||v==="bottom"&&b.disabledBottom===!0||v==="top-left"&&b.disabledTopLeft===!0||v==="top-right"&&b.disabledTopRight===!0||v==="bottom-left"&&b.disabledBottomLeft===!0||v==="bottom-right"&&b.disabledBottomRight===!0)return!0}return!1},f=()=>{const v=t.getActiveStorage("data");if(v!=null&&v.layout){const{x:p,y:m,w:b,h:x}=v.layout;return{x:p,y:m,w:b,h:x}}return null},h=()=>{const v=t.getActiveViewScaleInfo(),p=f();if(p){const m=fc(p,{viewScaleInfo:v,controllerSize:10});t.setSharedStorage(qa,m)}else t.setSharedStorage(qa,null)},g=v=>{const p=t.getActiveStorage("data"),m=t.getSharedStorage(qa);if(m&&(p!=null&&p.layout)&&(v!=null&&v.point)){let b=null;if(m){const{topLeft:x,top:w,topRight:y,right:_,bottomRight:E,bottom:T,bottomLeft:P,left:j}=m,D=[x,w,y,_,E,T,P,j];for(let V=0;V<D.length;V++){const z=D[V];if(dp(v.point,z.vertexes)){b=`${z.type}`;break}}if(b)return t.setSharedStorage(Kr,b),i.trigger(Qi,{}),b}}return null};return{name:"@middleware/layout-selector",use:()=>{c(),h()},hover:v=>{if(d())return;const p=t.getSharedStorage(xt),m=t.getActiveStorage("data");if(m!=null&&m.layout&&p!=="resize"){h();const b=g(v);b?(t.setSharedStorage(xt,"hover"),u(b)||i.trigger("cursor",{type:`resize-${b}`,groupQueue:[],element:f()}),a.drawFrame()):t.setSharedStorage(xt,null)}if(["hover","resize"].includes(t.getSharedStorage(xt)))return!1;p==="hover"&&!t.getSharedStorage(xt)&&a.drawFrame()},pointStart:v=>{if(d())return;h();const p=g(v);if(s=v.point,p)return u(p)?void 0:(t.setSharedStorage(xt,"resize"),!1);const m=t.getSharedStorage(xt);if(["hover","resize"].includes(m))return!1},pointMove:v=>{if(d())return;const p=t.getSharedStorage(xt),m=t.getSharedStorage(Kr),b=t.getActiveStorage("data");if(!(m&&u(m))){if(p==="resize"&&m&&(b!=null&&b.layout)){if(s){const x=t.getActiveStorage("scale"),w=(v.point.x-s.x)/x,y=(v.point.y-s.y)/x,{x:_,y:E,w:T,h:P}=b.layout;m==="top"?(b.layout.y=r.toGridNum(E+y),b.layout.h=r.toGridNum(P-y)):m==="right"?b.layout.w=r.toGridNum(T+w):m==="bottom"?b.layout.h=r.toGridNum(P+y):m==="left"?(b.layout.x=r.toGridNum(_+w),b.layout.w=r.toGridNum(T-w)):m==="top-left"?(b.layout.x=r.toGridNum(_+w),b.layout.y=r.toGridNum(E+y),b.layout.w=r.toGridNum(T-w),b.layout.h=r.toGridNum(P-y)):m==="top-right"?(b.layout.y=r.toGridNum(E+y),b.layout.w=r.toGridNum(T+w),b.layout.h=r.toGridNum(P-y)):m==="bottom-right"?(b.layout.w=r.toGridNum(T+w),b.layout.h=r.toGridNum(P+y)):m==="bottom-left"&&(b.layout.x=r.toGridNum(_+w),b.layout.w=r.toGridNum(T-w),b.layout.h=r.toGridNum(P+y))}return s=v.point,h(),a.drawFrame(),!1}if(["hover","resize"].includes(p))return!1}},pointEnd:()=>{const v=t.getSharedStorage(xt),p=t.getSharedStorage(Kr),m=t.getActiveStorage("data");m&&v==="resize"&&p&&!u(p)&&i.trigger(rl,{type:"changeLayout",data:m}),c()},beforeDrawFrame:({snapshot:v})=>{var p;const{sharedStore:m,activeStore:b}=v,x=m[xt],w=m[Kr];if(!((p=b.data)===null||p===void 0)&&p.layout&&x&&w&&["hover","resize"].includes(x)){const y=Ta(v),{x:_,y:E,w:T,h:P}=b.data.layout,D=fc({x:_,y:E,w:T,h:P},{viewScaleInfo:y,controllerSize:10});kv(o,{controller:D,operations:b.data.layout.operations||{}})}},scrollX:()=>{c()},scrollY:()=>{c()},wheelScale:()=>{c()}}};var es=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Re=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Rs,De,ji,qi,nh;class Bv{constructor(t,n){Rs.add(this),De.set(this,void 0),ji.set(this,void 0),qi.set(this,void 0);const{devicePixelRatio:r=1,width:a,height:i,createCustomContext2D:o}=n;es(this,qi,t,"f");const s=document.createElement("canvas");es(this,ji,s,"f"),Re(this,Rs,"m",nh).call(this),t.appendChild(s);const c=ep(s,{width:a,height:i,devicePixelRatio:r,offscreen:!0,createCustomContext2D:o}),d=new qp({boardContent:c,container:t}),u=d.getSharer();u.setActiveViewSizeInfo({width:a,height:i,devicePixelRatio:r,contextWidth:a,contextHeight:i}),es(this,De,d,"f"),this.resize(u.getActiveViewSizeInfo());const f=d.getEventHub();new av(t,{eventHub:f})}isDestroyed(){return Re(this,De,"f").isDestroyed()}destroy(){Re(this,De,"f").destroy(),Re(this,ji,"f").remove()}use(t){Re(this,De,"f").use(t)}disuse(t){Re(this,De,"f").disuse(t)}setData(t,n){ff((t==null?void 0:t.elements)||[]),Re(this,De,"f").setData(t,n)}getData(){return Re(this,De,"f").getData()}scale(t){Re(this,De,"f").scale(t),Re(this,De,"f").getViewer().drawFrame()}resize(t){const n=Re(this,De,"f"),a=n.getSharer().getActiveViewSizeInfo();n.resize(Object.assign(Object.assign({},a),t))}clear(){Re(this,De,"f").clear()}on(t,n){Re(this,De,"f").getEventHub().on(t,n)}off(t,n){Re(this,De,"f").getEventHub().off(t,n)}trigger(t,n){Re(this,De,"f").getEventHub().trigger(t,n)}getViewInfo(){const n=Re(this,De,"f").getSharer(),r=n.getActiveViewSizeInfo(),a=n.getActiveViewScaleInfo();return{viewSizeInfo:r,viewScaleInfo:a}}refresh(){Re(this,De,"f").getViewer().drawFrame()}setViewScale(t){Re(this,De,"f").updateViewScaleInfo(t)}getLoadItemMap(){return Re(this,De,"f").getRenderer().getLoadItemMap()}onBoardWatcherEvents(){Re(this,De,"f").onWatcherEvents()}offBoardWatcherEvents(){Re(this,De,"f").offWatcherEvents()}}De=new WeakMap,ji=new WeakMap,qi=new WeakMap,Rs=new WeakSet,nh=function(){const t=Re(this,qi,"f");t.style.position="relative"};const eo="select",Fv={mode:eo};function Hv(){return{mode:eo,enableRuler:!1,enableScale:!1,enableScroll:!1,enableSelect:!1,enableTextEdit:!1,enableDrag:!1,enableInfo:!1}}var Vv=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})};function Wv(e){return Vv(this,void 0,void 0,function*(){const{data:t,width:n,height:r,devicePixelRatio:a,viewScaleInfo:i,viewSizeInfo:o,loadItemMap:s}=e;let c=mi({width:n,height:r,devicePixelRatio:a}),d=new Rf({viewContext:c}),u=new zf({viewContext:c,calculator:d});u.setLoadItemMap(s),u.drawData(t,{viewScaleInfo:i,viewSizeInfo:o,forceDrawAll:!0});let f=null,h=c.$getOffscreenCanvas();if(h){const g=yield h.convertToBlob();f=window.URL.createObjectURL(g)}return h=null,c=null,d=null,u=null,{blobURL:f,width:n,height:r,devicePixelRatio:a}})}const Gv=rl,nd={change:Gv,ruler:zs,scale:Xf,select:Di,clearSelect:Qi,textEdit:Ji,textChange:Ps},ve={};Object.keys(nd).forEach(e=>{Object.defineProperty(ve,e,{value:nd[e],writable:!1})});function Uv(e){return["select","drag","readOnly"].includes(e)}function rh(e,t){const{enableRuler:n,enableScale:r,enableScroll:a,enableSelect:i,enableTextEdit:o,enableDrag:s,enableInfo:c}=t.getSnapshot();a===!0?e.use(Yc):a===!1&&e.disuse(Yc),i===!0?(e.use(td),e.use(Hc)):i===!1&&(e.disuse(td),e.disuse(Hc)),r===!0?e.use(Xc):r===!1&&e.disuse(Xc),n===!0?e.use(Jc):n===!1&&e.disuse(Jc),o===!0?e.use(Fc):o===!1&&e.disuse(Fc),s===!0?e.use(qc):s===!1&&e.disuse(qc),c===!0?e.use(ed):c===!1&&e.disuse(ed)}function Ds(e,t,n){let r=!1,a=!1,i=!1,o=!1,s=!1,c=!1;const d=!0;let u="select";n.set("mode",u),Uv(e)?u=e:console.warn(`${e} is invalid mode of iDraw.js`),u==="select"?(r=!0,a=!0,i=!0,o=!0,s=!1,c=!0):u==="drag"?(r=!0,a=!0,i=!1,o=!1,s=!0,c=!0):u==="readOnly"&&(r=!1,a=!1,i=!1,o=!1,s=!1,c=!1),n.set("enableScale",r),n.set("enableScroll",a),n.set("enableSelect",i),n.set("enableTextEdit",o),n.set("enableDrag",s),n.set("enableRuler",c),n.set("enableInfo",d),rh(t,n)}var Yv=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})},ts=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},de=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},fa,pe,ha,Sn,ah,Ns;class Xv{constructor(t,n){fa.add(this),pe.set(this,void 0),ha.set(this,void 0),Sn.set(this,new Tn({defaultStorage:Hv()}));const r=Object.assign(Object.assign({},Fv),n),{width:a,height:i,devicePixelRatio:o,createCustomContext2D:s}=r,c=new Bv(t,{width:a,height:i,devicePixelRatio:o,createCustomContext2D:s});ts(this,pe,c,"f"),ts(this,ha,r,"f"),de(this,fa,"m",ah).call(this)}reset(t){const n=de(this,pe,"f"),r=de(this,Sn,"f");r.clear(),Ds(t.mode||eo,n,r),n.refresh(),ts(this,ha,Object.assign(Object.assign({},de(this,ha,"f")),t),"f")}setMode(t){const n=de(this,pe,"f"),r=de(this,Sn,"f");Ds(t||eo,n,r),n.refresh()}enable(t){de(this,fa,"m",Ns).call(this,t,!0)}disable(t){de(this,fa,"m",Ns).call(this,t,!1)}setData(t){const n=de(this,pe,"f");n.setData(t),n.trigger(ve.change,{data:t,type:"setData"})}getData(t){const n=de(this,pe,"f").getData();return n&&(t==null?void 0:t.compact)===!0?Ag(n,{loadItemMap:de(this,pe,"f").getLoadItemMap()}):n}getViewInfo(){return de(this,pe,"f").getViewInfo()}scale(t){de(this,pe,"f").scale(t)}setViewScale(t){const n=de(this,pe,"f");n.setViewScale(t),n.refresh()}centerContent(t){const n=(t==null?void 0:t.data)||de(this,pe,"f").getData(),{viewSizeInfo:r}=this.getViewInfo();if(n!=null&&n.layout||Array.isArray(n==null?void 0:n.elements)&&(n==null?void 0:n.elements.length)>0){const a=_p(n,{viewSizeInfo:r});this.setViewScale(a)}}resize(t){de(this,pe,"f").resize(t)}on(t,n){de(this,pe,"f").on(t,n)}off(t,n){de(this,pe,"f").off(t,n)}trigger(t,n){de(this,pe,"f").trigger(t,n)}selectElement(t){this.selectElements([t])}selectElements(t){this.trigger(ve.select,{uuids:t})}selectElementByPosition(t){this.selectElementsByPositions([t])}selectElementsByPositions(t){this.trigger(ve.select,{positions:t})}cancelElements(){this.trigger(ve.select,{uuids:[]})}createElement(t,n){const{viewScaleInfo:r,viewSizeInfo:a}=de(this,pe,"f").getViewInfo();return Mp(t,(n==null?void 0:n.element)||{},(n==null?void 0:n.viewCenter)===!0?{viewScaleInfo:r,viewSizeInfo:a}:void 0)}updateElement(t){const n=de(this,pe,"f"),r=n.getData()||{elements:[]};ln(t.uuid,t,r.elements),n.setData(r),n.refresh(),n.trigger(ve.change,{data:r,type:"updateElement"})}addElement(t,n){var r;const a=de(this,pe,"f"),i=a.getData()||{elements:[]};if(!n||!(!((r=n==null?void 0:n.position)===null||r===void 0)&&r.length))i.elements.push(t);else if(n!=null&&n.position){const o=[...n==null?void 0:n.position];Cf(t,o,i.elements)}return a.setData(i),a.refresh(),a.trigger(ve.change,{data:i,type:"addElement"}),i}deleteElement(t){const n=de(this,pe,"f"),r=n.getData()||{elements:[]};Ap(t,r.elements),n.setData(r),n.refresh(),n.trigger(ve.change,{data:r,type:"deleteElement"})}moveElement(t,n){const r=de(this,pe,"f"),a=r.getData()||{elements:[]},i=Ot(t,a.elements),{elements:o}=Yi(a.elements,{from:i,to:n});a.elements=o,r.setData(a),r.refresh(),r.trigger(ve.change,{data:a,type:"moveElement"})}getImageBlobURL(t){return Yv(this,void 0,void 0,function*(){const n=this.getData()||{elements:[]},{devicePixelRatio:r}=t||{devicePixelRatio:1},a=Ui(n.elements),{viewSizeInfo:i}=this.getViewInfo();return yield Wv({width:a.w,height:a.h,devicePixelRatio:r,data:n,viewScaleInfo:{scale:1,offsetLeft:-a.x,offsetTop:-a.y,offsetBottom:0,offsetRight:0},viewSizeInfo:Object.assign(Object.assign({},i),{devicePixelRatio:r}),loadItemMap:de(this,pe,"f").getLoadItemMap()})})}isDestroyed(){return de(this,pe,"f").isDestroyed()}destroy(){const t=de(this,pe,"f"),n=de(this,Sn,"f");t.destroy(),n.destroy()}getViewCenter(){const{viewScaleInfo:t,viewSizeInfo:n}=this.getViewInfo();return Op({viewScaleInfo:t,viewSizeInfo:n})}$onBoardWatcherEvents(){de(this,pe,"f").onBoardWatcherEvents()}$offBoardWatcherEvents(){de(this,pe,"f").offBoardWatcherEvents()}}pe=new WeakMap,ha=new WeakMap,Sn=new WeakMap,fa=new WeakSet,ah=function(){const t=de(this,pe,"f"),n=de(this,Sn,"f");Ds("select",t,n)},Ns=function(t,n){const r=de(this,Sn,"f");if(["ruler","scroll","scale","info"].includes(t)){const a={ruler:"enableRuler",scroll:"enableScroll",scale:"enableScale",info:"enableInfo"};r.set(a[t],!!n),rh(de(this,pe,"f"),r),de(this,pe,"f").refresh()}else t==="selectInGroup"?de(this,pe,"f").trigger(As,{enable:!!n}):t==="snapToGrid"&&de(this,pe,"f").trigger(Ts,{enable:!!n})};const Kv=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}),l.createElement("path",{d:"M921 867L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}))),ns="base-scale-selector",Zv=e=>{const{className:t,style:n,defaultValue:r,value:a,onChange:i}=e,o=Y(ns),s=Y(ns,"menu-item"),c=Y(ns,"input"),[d,u]=I.useState(100);I.useEffect(()=>{const p=ye(parseFloat(a||"1")*100);u(p)},[a]);const f=p=>{const{key:m}=p;i==null||i(m)},h=p=>{p.stopPropagation()},v={items:[{label:l.createElement("span",{className:s},l.createElement(ce,{className:c,size:"small",value:d,suffix:"%",onClick:h,step:1,min:10,max:1e4,controls:!1,onChange:p=>{if(p&&p>0){const m=ye(p/100);i==null||i(`${m}`)}}})),key:"custom"},...[.5,1,2,3].map(p=>({key:`${p}`,label:l.createElement("span",{className:s},`${ye(p*100)}%`)}))],onClick:f,selectedKeys:[`${a||r}`]};return I.useMemo(()=>l.createElement(Ir,{className:he(o,t),menu:v},l.createElement(Ve,{icon:l.createElement(Kv,null),size:"small"},`${ye(parseFloat(a||"1")*100)}%`)),[t,n,r,a,i,d])},ih=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M508 512m-112 0a112 112 0 1 0 224 0 112 112 0 1 0-224 0Z"}),l.createElement("path",{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3-7.7 16.2-7.7 35.2 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}))),oh=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M942.3 486.4l-0.1-0.1-0.1-0.1c-36.4-76.7-80-138.7-130.7-186L760.7 351c43.7 40.2 81.5 93.7 114.1 160.9C791.5 684.2 673.4 766 512 766c-51.3 0-98.3-8.3-141.2-25.1l-54.7 54.7C374.6 823.8 439.8 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0.1-51.3zM878.3 154.2l-42.4-42.4c-3.1-3.1-8.2-3.1-11.3 0L707.8 228.5C649.4 200.2 584.2 186 512 186c-192.2 0-335.4 100.5-430.2 300.3v0.1c-7.7 16.2-7.7 35.2 0 51.5 36.4 76.7 80 138.7 130.7 186.1L111.8 824.5c-3.1 3.1-3.1 8.2 0 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0l712.8-712.8c3.1-3 3.1-8.1 0-11.2zM398.9 537.4c-1.9-8.2-2.9-16.7-2.9-25.4 0-61.9 50.1-112 112-112 8.7 0 17.3 1 25.4 2.9L398.9 537.4z m184.5-184.5C560.5 342.1 535 336 508 336c-97.2 0-176 78.8-176 176 0 27 6.1 52.5 16.9 75.4L263.3 673c-43.7-40.2-81.5-93.7-114.1-160.9C232.6 339.8 350.7 258 512 258c51.3 0 98.3 8.3 141.2 25.1l-69.8 69.8z"}),l.createElement("path",{d:"M508 624c-6.4 0-12.7-0.5-18.8-1.6l-51.1 51.1c21.4 9.3 45.1 14.4 69.9 14.4 97.2 0 176-78.8 176-176 0-24.8-5.1-48.5-14.4-69.9l-51.1 51.1c1 6.1 1.6 12.4 1.6 18.8C620 573.9 569.9 624 508 624z"}))),sh=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"}))),lh=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}))),ch=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M853.333333 170.666667H170.666667a42.666667 42.666667 0 0 0-42.666667 42.666666v128a42.666667 42.666667 0 0 0 85.333333 0V256h256v554.666667H384a42.666667 42.666667 0 0 0 0 85.333333h256a42.666667 42.666667 0 0 0 0-85.333333h-85.333333V256h256v85.333333a42.666667 42.666667 0 0 0 85.333333 0V213.333333a42.666667 42.666667 0 0 0-42.666667-42.666666z"}))),dh=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M0.00592 521.157814v-103.646801l430.267025 235.101281c36.191582 13.567843 70.207188 15.615819 111.870706 0.191998l440.986902-258.365013v103.614802l-435.386966 258.877007c-42.175512 18.303788-91.326944 18.303788-126.398539 0L0.00592 521.157814z"}),l.createElement("path",{d:"M0.00592 743.651242v-104.798789l406.427301 221.43744c17.2798 9.439891 40.511532 17.599797 65.119247 20.383764h27.999676c32.511624-5.023942 47.103455-10.207882 67.615218-22.943735l415.931191-258.173014v98.974855l-430.875018 268.95689c-42.111513 17.439798-95.806892 18.079791-130.878487 0.575994L0.00592 743.619242zM20.069688 246.024995L399.073306 20.971598c41.279523-26.303696 90.430954-27.967677 133.342458-4.35195l421.083131 198.621703c35.743587 17.599797 37.18357 61.311291 2.655969 81.151062l-414.043212 226.205384a165.758083 165.758083 0 0 1-133.374458 4.415949L22.725657 327.208057C9.157814 318.664155 0.90191 303.56033 0.229917 285.000545c-0.607993-18.911781 10.719876-32.159628 19.807771-38.94355z"})," ")),uh=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3-12.3 12.7-12.1 32.9 0.6 45.3l183.7 179.1-43.4 252.9c-1.2 6.9-0.1 14.1 3.2 20.3 8.2 15.6 27.6 21.7 43.2 13.4L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}))),fh=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32z m-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792z m0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z"}),l.createElement("path",{d:"M304 456c48.6 0 88-39.4 88-88s-39.4-88-88-88-88 39.4-88 88 39.4 88 88 88z m0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z"}))),Qv=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M256 682.666667a85.333333 85.333333 0 1 0 0 170.666666 85.333333 85.333333 0 0 0 0-170.666666z m-170.666667 85.333333a170.666667 170.666667 0 1 1 341.333334 0 170.666667 170.666667 0 0 1-341.333334 0zM768 170.666667a85.333333 85.333333 0 1 0 0 170.666666 85.333333 85.333333 0 0 0 0-170.666666z m-170.666667 85.333333a170.666667 170.666667 0 1 1 341.333334 0 170.666667 170.666667 0 0 1-341.333334 0z"}),l.createElement("path",{d:"M707.84 316.16a42.666667 42.666667 0 0 1 0 60.330667l-331.178667 331.178666a42.666667 42.666667 0 0 1-60.330666-60.330666l331.178666-331.178667a42.666667 42.666667 0 0 1 60.330667 0z"}))),hh=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M145 96l66 746.6L511.8 928l299.6-85.4L878.7 96H145z m610.9 700.6l-244.1 69.6-245.2-69.6-56.7-641.2h603.8l-57.8 641.2z"}),l.createElement("path",{d:"M281 249l1.7 24.3 22.7 253.5h206.5v-0.1h112.9l-11.4 118.5L511 672.9v0.2h-0.8l-102.4-27.7-6.5-73.2h-91l11.3 144.7 188.6 52h1.7v-0.4l187.7-51.7 1.7-16.3 21.2-242.2 3.2-24.3H511v0.2H389.9l-8.2-94.2h352.1l1.7-19.5 4.8-47.2L742 249H511z"}))),Jv=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-0.7 5.2-2L869 536.2c14.7-12.8 14.7-35.6 0-48.4z"}))),gh=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 0.3L512 465.6l-99.3-118.4-66.1-0.3c-4.4 0-8 3.5-8 8 0 1.9 0.7 3.7 1.9 5.2l130.1 155L340.5 670c-1.2 1.5-1.9 3.3-1.9 5.2 0 4.4 3.6 8 8 8l66.1-0.3L512 564.4l99.3 118.4 66 0.3c4.4 0 8-3.5 8-8 0-1.9-0.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}),l.createElement("path",{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}))),pn="node",qv=e=>{const{className:t,style:n,type:r,uuid:a,nodeKey:i,title:o,position:s,parentModName:c,generateClassName:d,onTitleChange:u,onOperationToggle:f,onDelete:h,onSelect:g,onGoToGroup:v,operations:p,isSelected:m}=e,[b,x]=I.useState(!1),[w,y]=I.useState(!1),_=I.useRef(o),E=d(c,pn),T=d(c,pn,"icon"),P=d(c,pn,"title"),j=d(c,pn,"title","input"),D=d(c,pn,"title","icon"),V=d(c,pn,"action"),z=d(c,pn,"selected"),C=I.useRef(0),L=I.useRef(null);I.useEffect(()=>{var M;b===!0&&((M=L.current)===null||M===void 0||M.focus())},[b]);const G=M=>{x(!1),u==null||u({uuid:i,value:M.target.value||""})},$=M=>{_.current=M.target.value||""},S=M=>{var N;M.code==="Enter"&&(x(!1),u==null||u({uuid:i,value:((N=M==null?void 0:M.target)===null||N===void 0?void 0:N.value)||""}))},F=M=>{M.stopPropagation(),M.preventDefault()},O=M=>{M.stopPropagation(),y(!0)},B=M=>{M.stopPropagation(),y(!1)},W=M=>{const N=Date.now(),R=N-C.current;C.current=N,g==null||g({uuids:[a],positions:[s]}),R<=300&&R>0&&(M.stopPropagation(),M.preventDefault(),x(!0))},A=M=>{M.stopPropagation(),M.preventDefault(),h==null||h({uuid:i})},H=M=>{M.stopPropagation(),M.preventDefault(),f==null||f({uuid:i,operations:{invisible:!p.invisible}})},X=M=>{M.stopPropagation(),M.preventDefault(),v==null||v({uuid:a,position:s})};return I.useMemo(()=>{_.current=o;function M(N){return N==="rect"?l.createElement(sh,{className:D}):N==="circle"?l.createElement(lh,{className:D}):N==="text"?l.createElement(ch,{className:D}):N==="path"?l.createElement(Qv,{className:D}):N==="image"?l.createElement(fh,{className:D}):N==="svg"?l.createElement(uh,{className:D}):N==="group"?l.createElement(dh,{className:D}):N==="html"?l.createElement(hh,{className:D}):l.createElement("span",{className:D})}return l.createElement("span",{key:i,style:n,className:he(E,t,m?z:null),onClick:W,onMouseOver:O,onMouseLeave:B},l.createElement("span",{className:P},M(r),l.createElement("span",null,o)),w&&l.createElement("span",{className:V},r==="group"&&l.createElement(Jv,{className:T,onClick:X}),p.invisible?l.createElement(oh,{className:T,onClick:H}):l.createElement(ih,{className:T,onClick:H}),l.createElement(gh,{className:T,onClick:A})),b&&l.createElement("span",{className:j},l.createElement(cn,{ref:L,size:"small",defaultValue:o,onBlur:G,onClick:F,onKeyDown:S,onChange:$})))},[i,o,b,r,w,p,m])};function em(e,t){const n=[],{position:r}=t;if(Array.isArray(e)){const a=[...r];e.forEach((i,o)=>{a.push(o),n.push(ph(i,Object.assign(Object.assign({},t),{position:[...a]}))),a.pop()})}return n}const ph=(e,t)=>{const{parentModName:n,onTitleChange:r,onOperationToggle:a,onDelete:i,onSelect:o,onGoToGroup:s,position:c,selectedKeys:d}=t,u={key:e.key,title:l.createElement(qv,{parentModName:n,uuid:e.key,title:e.title,position:c,operations:e.operations,nodeKey:e.key,type:e.type,generateClassName:t.generateClassName,onTitleChange:r,onOperationToggle:a,onDelete:i,onSelect:o,onGoToGroup:s,isSelected:d==null?void 0:d.includes(e.key)}),children:[]};if(Array.isArray(e.children)){const f=[...c];e.children.forEach((h,g)=>{f.push(g),u.children.push(ph(h,Object.assign(Object.assign({},t),{position:[...f]}))),f.pop()})}return u},tm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"}),l.createElement("path",{d:"M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8C574.1 404.4 544.1 392 512 392z"}))),nm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M264 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM760 654c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}))),rm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM120 654h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}))),am=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 582H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}))),im=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16z m-52 268H212V212h200v200zM864 144H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16z m-52 268H612V212h200v200zM864 544H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16z m-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}))),om=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M554.666667 469.333333v85.333334h-85.333334v-85.333334z m85.333333 0v85.333334h85.333333v-85.333334z m170.666667 0v85.333334h85.333333v-85.333334z m0 170.666667v85.333333h85.333333v-85.333333zM128 469.333333v85.333334h85.333333v-85.333334z m170.666667 0v85.333334h85.333333v-85.333334z m170.666666-341.333333v85.333333h85.333334V128z m170.666667 0v85.333333h85.333333V128z m170.666667 0v85.333333h85.333333V128z m0 170.666667v85.333333h85.333333v-85.333333zM128 640v85.333333h85.333333v-85.333333z m0-341.333333v85.333333h85.333333v-85.333333z m341.333333 341.333333v85.333333h85.333334v-85.333333z m0-341.333333v85.333333h85.333334v-85.333333zM128 128v85.333333h85.333333V128z m170.666667 0v85.333333h85.333333V128zM128 810.666667v85.333333h768v-85.333333z"}))),sm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M592 928H432a48 48 0 1 0 0 96h160a48 48 0 1 0 0-96zM976 0H784a48 48 0 1 0 0 96h144v144.016a48 48 0 1 0 96 0V48a48 48 0 0 0-48-48zM240 928H96v-144a48 48 0 1 0-96 0v192a48 48 0 0 0 48 48h192a48 48 0 1 0 0-96zM48 640a48 48 0 0 0 48-48V432a48 48 0 1 0-96 0v160a48 48 0 0 0 48 48zM240 0H48a48 48 0 0 0-48 48v192a48 48 0 1 0 96 0V96h144a48 48 0 1 0 0-96z m784 592V432a48 48 0 1 0-96 0v160a48 48 0 1 0 96 0zM592 0H432a48 48 0 1 0 0 96h160a48 48 0 1 0 0-96z m384 736a48 48 0 0 0-48 48v144h-144a48 48 0 1 0 0 96h192a48 48 0 0 0 48-48V784a48 48 0 0 0-48-48z"}))),lm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M554.666667 469.333333v85.333334h-85.333334v-85.333334z m85.333333 0v85.333334h85.333333v-85.333334z m170.666667 0v85.333334h85.333333v-85.333334z m0 170.666667v85.333333h85.333333v-85.333333z m-512-170.666667v85.333334h85.333333v-85.333334z m170.666666-341.333333v85.333333h85.333334V128z m170.666667 0v85.333333h85.333333V128z m170.666667 0v85.333333h85.333333V128z m0 170.666667v85.333333h85.333333v-85.333333zM469.333333 640v85.333333h85.333334v-85.333333z m0-341.333333v85.333333h85.333334v-85.333333zM128 128v768h85.333333V128z m170.666667 0v85.333333h85.333333V128z m170.666666 682.666667v85.333333h85.333334v-85.333333z m170.666667 0v85.333333h85.333333v-85.333333z m170.666667 0v85.333333h85.333333v-85.333333z m-512 0v85.333333h85.333333v-85.333333z"}))),cm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M298.666667 896h85.333333v-85.333333h-85.333333v85.333333zM128 213.333333h85.333333V128H128v85.333333z m170.666667 0h85.333333V128h-85.333333v85.333333z m0 341.333334h85.333333v-85.333334h-85.333333v85.333334zM128 896h85.333333v-85.333333H128v85.333333z m341.333333 0h85.333334v-85.333333h-85.333334v85.333333zM128 554.666667h85.333333v-85.333334H128v85.333334z m0 170.666666h85.333333v-85.333333H128v85.333333z m0-341.333333h85.333333v-85.333333H128v85.333333z m341.333333 341.333333h85.333334v-85.333333h-85.333334v85.333333z m170.666667-170.666666h85.333333v-85.333334h-85.333333v85.333334z m170.666667-426.666667v768h85.333333V128h-85.333333z m-170.666667 768h85.333333v-85.333333h-85.333333v85.333333z m0-682.666667h85.333333V128h-85.333333v85.333333z m-170.666667 341.333334h85.333334v-85.333334h-85.333334v85.333334z m0-341.333334h85.333334V128h-85.333334v85.333333z m0 170.666667h85.333334v-85.333333h-85.333334v85.333333z"}))),dm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M298.666667 896h85.333333v-85.333333h-85.333333v85.333333z m0-341.333333h85.333333v-85.333334h-85.333333v85.333334z m170.666666 0h85.333334v-85.333334h-85.333334v85.333334z m0 341.333333h85.333334v-85.333333h-85.333334v85.333333zM128 725.333333h85.333333v-85.333333H128v85.333333z m0 170.666667h85.333333v-85.333333H128v85.333333z m0-341.333333h85.333333v-85.333334H128v85.333334z m0-170.666667h85.333333v-85.333333H128v85.333333z m341.333333 341.333333h85.333334v-85.333333h-85.333334v85.333333z m341.333334-341.333333h85.333333v-85.333333h-85.333333v85.333333z m0 170.666667h85.333333v-85.333334h-85.333333v85.333334zM128 128v85.333333h768V128H128z m682.666667 597.333333h85.333333v-85.333333h-85.333333v85.333333z m-170.666667 170.666667h85.333333v-85.333333h-85.333333v85.333333z m-170.666667-512h85.333334v-85.333333h-85.333334v85.333333z m341.333334 512h85.333333v-85.333333h-85.333333v85.333333z m-170.666667-341.333333h85.333333v-85.333334h-85.333333v85.333334z"}))),um=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M341.333333 512a42.666667 42.666667 0 0 0 42.666667 42.666667h256a42.666667 42.666667 0 0 0 0-85.333334H384a42.666667 42.666667 0 0 0-42.666667 42.666667z"}),l.createElement("path",{d:"M384 682.666667H307.626667A176.213333 176.213333 0 0 1 128 527.786667 170.666667 170.666667 0 0 1 298.666667 341.333333h85.333333a42.666667 42.666667 0 0 0 0-85.333333H307.626667a262.4 262.4 0 0 0-262.826667 222.293333A256 256 0 0 0 298.666667 768h85.333333a42.666667 42.666667 0 0 0 0-85.333333zM981.333333 479.573333A262.826667 262.826667 0 0 0 715.093333 256h-64.426666C616.106667 256 597.333333 275.2 597.333333 298.666667a42.666667 42.666667 0 0 0 42.666667 42.666666h76.373333A176.213333 176.213333 0 0 1 896 496.213333 170.666667 170.666667 0 0 1 725.333333 682.666667h-85.333333a42.666667 42.666667 0 0 0 0 85.333333h85.333333a256 256 0 0 0 256-288.426667z"}))),fm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M712 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM714 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM136 374h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM136 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM888 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 476h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 302h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM540 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM310 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM540 824H358c-87.3 0-158-70.7-158-158V484c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v182c0 127 103 230 230 230h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}))),hm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M368 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM310 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM888 302h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 476h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 302h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM484 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM658 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM888 476h-56c-4.4 0-8 3.6-8 8v182c0 87.3-70.7 158-158 158H484c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h182c127 0 230-103 230-230V484c0-4.4-3.6-8-8-8z"}))),gm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M656 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM714 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 302h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 476h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM540 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM366 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM540 128H358c-127 0-230 103-230 230v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-87.3 70.7-158 158-158h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}))),pm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M368 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM366 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 302h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 476h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM540 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM714 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM666 128H484c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h182c87.3 0 158 70.7 158 158v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-127-103-230-230-230z"}))),rd=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M896 810.666667v85.333333h-85.333333v-85.333333h85.333333z m-170.666667 0v85.333333h-85.333333v-85.333333h85.333333z m-170.666666 0v85.333333h-85.333334v-85.333333h85.333334z m-170.666667 0v85.333333H298.666667v-85.333333h85.333333z m-170.666667 0v85.333333H128v-85.333333h85.333333z m682.666667-170.666667v85.333333h-85.333333v-85.333333h85.333333zM213.333333 640v85.333333H128v-85.333333h85.333333z m0-170.666667v85.333334H128v-85.333334h85.333333z m469.333334-341.333333a213.418667 213.418667 0 0 1 213.12 204.074667L896 341.333333v213.333334h-85.333333V341.333333a128.426667 128.426667 0 0 0-120.490667-127.786666L682.666667 213.333333h-213.333334V128h213.333334zM213.333333 298.666667v85.333333H128V298.666667h85.333333z m0-170.666667v85.333333H128V128h85.333333z m170.666667 0v85.333333H298.666667V128h85.333333z"}))),vm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72z"}),l.createElement("path",{d:"M864 256H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}))),mm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M510.762667 970.666667A458.666667 458.666667 0 1 1 969.429333 512a459.178667 459.178667 0 0 1-458.666666 458.666667z m0-853.333334a394.666667 394.666667 0 1 0 394.666666 394.666667 395.093333 395.093333 0 0 0-394.666666-394.666667z"}),l.createElement("path",{d:"M512 724.48A212.48 212.48 0 1 1 724.48 512 212.736 212.736 0 0 1 512 724.48z m0-360.96A148.48 148.48 0 1 0 660.48 512 148.608 148.608 0 0 0 512 363.52z"}))),vh=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M272.9 512l265.4-339.1c4.1-5.2 0.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3c-9.1 11.6-9.1 27.9 0 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512z"}),l.createElement("path",{d:"M576.9 512l265.4-339.1c4.1-5.2 0.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3c-9.1 11.6-9.1 27.9 0 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}))),mo=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3 0.1-12.7-6.4-12.7z"}))),bm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M841.065412 337.317647v352.015059c0 46.802824-23.070118 74.752-39.936 95.111529-14.095059 17.106824-21.443765 26.684235-21.443765 41.803294V933.647059a30.117647 30.117647 0 0 1-60.235294 0v-107.39953c0-37.526588 19.576471-61.199059 35.297882-80.173176 14.576941-17.648941 26.142118-31.563294 26.142118-56.681412V337.317647c0-18.793412-16.143059-36.502588-33.189647-36.502588-19.817412 0-24.033882 3.072-24.214588 3.19247-3.975529 5.360941-3.855059 34.273882-3.794824 57.584942 0.060235 11.384471 0.120471 24.094118-0.12047 38.068705-0.240941 16.504471-12.830118 28.792471-30.358589 29.696a30.117647 30.117647 0 0 1-29.876706-30.117647v-127.698823c0-18.492235-13.372235-32.406588-31.081411-32.406588-16.263529 0-28.190118 12.107294-29.635765 29.394823v120.651294a30.117647 30.117647 0 0 1-60.235294 0V268.047059l-0.120471-0.602353v-46.561882c0-3.975529-0.843294-38.671059-28.551529-38.671059-27.105882 0-31.201882 24.214588-31.201883 38.671059v42.345411c0 1.686588-0.662588 3.252706-0.963764 4.879059v156.250353a30.117647 30.117647 0 0 1-60.235294 0V262.686118c-2.891294-11.685647-11.324235-23.491765-28.069647-23.491765-17.227294 0-31.744 15.721412-31.744 34.334118v201.788235c0 0.421647-0.361412 0.783059-0.361412 1.204706v66.319059a30.117647 30.117647 0 0 1-60.235294 0v-50.236236c-10.601412-3.855059-25.961412-6.987294-34.755765-4.999529-7.107765 1.385412-14.275765 7.649882-18.733176 16.323765a43.309176 43.309176 0 0 0-0.542118 38.369882L345.148235 766.192941a31.563294 31.563294 0 0 1 2.108236 6.505412 32.888471 32.888471 0 0 0 35.418353 25.961412 30.238118 30.238118 0 0 1 33.310117 29.936941V933.647059a30.117647 30.117647 0 0 1-60.235294 0v-77.462588a92.521412 92.521412 0 0 1-66.680471-67.764706L187.934118 567.055059a104.448 104.448 0 0 1 1.927529-90.774588c12.890353-24.877176 35.418353-42.706824 60.295529-47.766589 12.649412-2.590118 29.756235-1.867294 46.682353 1.566118v-43.369412c0-0.602353 0.301176-1.144471 0.361412-1.746823v-111.435294c0-52.163765 41.321412-94.569412 91.979294-94.569412 12.047059 0 23.612235 2.409412 34.093177 6.746353 11.986824-38.791529 44.152471-63.668706 86.317176-63.668706 40.237176 0 71.800471 25.419294 83.666824 63.909647 10.721882-4.517647 22.467765-6.987294 34.876235-6.987294 41.502118 0 75.776 26.744471 87.160471 64.572235 11.023059-2.409412 22.226824-2.951529 32.286117-2.951529 50.718118 0 93.485176 44.272941 93.485177 96.737882z"}))),ym=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326z m1.8 562H232V136h302v216c0 23.2 18.8 42 42 42h216v494z"}))),wm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326z m1.8 562H232V136h302v216c0 23.2 18.8 42 42 42h216v494z"}),l.createElement("path",{d:"M544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}))),xm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M170.666667 298.666667a42.666667 42.666667 0 1 1-85.333334 0V256a170.666667 170.666667 0 0 1 170.666667-170.666667h42.666667a42.666667 42.666667 0 1 1 0 85.333334H256a85.333333 85.333333 0 0 0-85.333333 85.333333v42.666667z m554.666666-128a42.666667 42.666667 0 0 1 0-85.333334h42.666667a170.666667 170.666667 0 0 1 170.666667 170.666667v42.666667a42.666667 42.666667 0 0 1-85.333334 0V256a85.333333 85.333333 0 0 0-85.333333-85.333333h-42.666667z m128 554.666666a42.666667 42.666667 0 0 1 85.333334 0v42.666667a170.666667 170.666667 0 0 1-170.666667 170.666667h-42.666667a42.666667 42.666667 0 0 1 0-85.333334h42.666667a85.333333 85.333333 0 0 0 85.333333-85.333333v-42.666667zM298.666667 853.333333a42.666667 42.666667 0 0 1 0 85.333334H256a170.666667 170.666667 0 0 1-170.666667-170.666667v-42.666667a42.666667 42.666667 0 0 1 85.333334 0v42.666667a85.333333 85.333333 0 0 0 85.333333 85.333333h42.666667z"}))),Em=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M118.979048 637.074286l137.99619 66.243047 255.171048 123.587048 246.076952-119.222857 147.163429-70.485334a73.142857 73.142857 0 0 1-34.230857 97.109334l-327.119239 158.427428a73.142857 73.142857 0 0 1-63.780571 0L153.136762 734.305524A73.142857 73.142857 0 0 1 118.979048 637.074286z m786.090666-153.063619a73.142857 73.142857 0 0 1-33.913904 97.767619L544.01219 740.205714a73.142857 73.142857 0 0 1-63.780571 0L153.136762 581.778286A73.142857 73.142857 0 0 1 117.51619 487.862857l362.300953 170.886095 32.329143 15.652572 327.119238-158.427429 65.80419-31.939047zM544.036571 139.190857l327.094858 158.403048a73.142857 73.142857 0 0 1 0 131.657143l-327.094858 158.427428a73.142857 73.142857 0 0 1-63.780571 0L153.136762 429.251048a73.142857 73.142857 0 0 1 0-131.657143L480.256 139.215238a73.142857 73.142857 0 0 1 63.780571 0z m-31.890285 65.828572L185.027048 363.422476l327.119238 158.427429 327.119238-158.427429L512.146286 205.04381z"}))),Sm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-696 72h136v656H184V184z m656 656H384V384h456v456zM384 320V184h456v136H384z"}))),mh=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8c-16.4 12.8-16.4 37.5 0 50.3l450.8 352.1c5.3 4.1 12.9 0.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}))),Cm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M512 42.666667a469.333333 469.333333 0 1 0 469.333333 469.333333A469.333333 469.333333 0 0 0 512 42.666667z m0 864a394.666667 394.666667 0 1 1 394.666667-394.666667 395.146667 395.146667 0 0 1-394.666667 394.666667z"}),l.createElement("path",{d:"M304.906667 512m-66.666667 0a66.666667 66.666667 0 1 0 133.333333 0 66.666667 66.666667 0 1 0-133.333333 0Z"}),l.createElement("path",{d:"M512 512m-66.666667 0a66.666667 66.666667 0 1 0 133.333334 0 66.666667 66.666667 0 1 0-133.333334 0Z"}),l.createElement("path",{d:"M719.093333 512m-66.666666 0a66.666667 66.666667 0 1 0 133.333333 0 66.666667 66.666667 0 1 0-133.333333 0Z"}))),Mm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M935.253333 111.786667a42.666667 42.666667 0 0 0-23.04-23.04A42.666667 42.666667 0 0 0 896 85.333333h-256a42.666667 42.666667 0 0 0 0 85.333334h153.173333L170.666667 793.173333V640a42.666667 42.666667 0 0 0-85.333334 0v256a42.666667 42.666667 0 0 0 3.413334 16.213333 42.666667 42.666667 0 0 0 23.04 23.04A42.666667 42.666667 0 0 0 128 938.666667h256a42.666667 42.666667 0 0 0 0-85.333334H230.826667L853.333333 230.826667V384a42.666667 42.666667 0 0 0 85.333334 0V128a42.666667 42.666667 0 0 0-3.413334-16.213333z"}))),Am=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M128 128h64v389.312A384.32 384.32 0 0 1 506.688 832H896v64H192a64 64 0 0 1-64-64V128z m313.6 704A320.384 320.384 0 0 0 192 582.4V832h249.6z"}))),Tm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M929.19 352.19c3.12 3.12 3.12 8.19 0 11.31L363.51 929.19c-3.12 3.12-8.19 3.12-11.31 0L94.81 671.81c-3.12-3.12-3.12-8.19 0-11.31L660.49 94.81c3.12-3.12 8.19-3.12 11.31 0l257.39 257.38z m-424.26 5.66l108.89 108.89c3.12 3.12 3.12 8.19 0 11.31l-36.77 36.77c-3.12 3.12-8.19 3.12-11.31 0L456.85 405.93l-50.91 50.91 62.23 62.23c3.12 3.12 3.12 8.19 0 11.31l-36.77 36.77c-3.12 3.12-8.19 3.12-11.31 0l-62.23-62.23-50.91 50.91 62.23 62.23c3.12 3.12 3.12 8.19 0 11.31l-36.77 36.77c-3.12 3.12-8.19 3.12-11.31 0l-62.23-62.23-62.23 62.23 161.22 161.22 469.52-469.52-161.23-161.21-62.23 62.23 62.23 62.23c3.12 3.12 3.12 8.19 0 11.31l-36.77 36.77c-3.12 3.12-8.19 3.12-11.31 0l-62.23-62.23-50.91 50.91z"}))),_m=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M725.333333 341.333333a128 128 0 1 1 128-128 128 128 0 0 1-128 128z m0-170.666666a42.666667 42.666667 0 1 0 42.666667 42.666666 42.666667 42.666667 0 0 0-42.666667-42.666666z"}),l.createElement("path",{d:"M640 256H85.333333a42.666667 42.666667 0 0 1 0-85.333333h554.666667a42.666667 42.666667 0 0 1 0 85.333333zM938.666667 256h-128a42.666667 42.666667 0 0 1 0-85.333333h128a42.666667 42.666667 0 0 1 0 85.333333zM512 640a128 128 0 1 1 128-128 128 128 0 0 1-128 128z m0-170.666667a42.666667 42.666667 0 1 0 42.666667 42.666667 42.666667 42.666667 0 0 0-42.666667-42.666667z"}),l.createElement("path",{d:"M426.666667 554.666667H85.333333a42.666667 42.666667 0 0 1 0-85.333334h341.333334a42.666667 42.666667 0 0 1 0 85.333334zM938.666667 554.666667h-341.333334a42.666667 42.666667 0 0 1 0-85.333334h341.333334a42.666667 42.666667 0 0 1 0 85.333334zM298.666667 938.666667a128 128 0 1 1 128-128 128 128 0 0 1-128 128z m0-170.666667a42.666667 42.666667 0 1 0 42.666666 42.666667 42.666667 42.666667 0 0 0-42.666666-42.666667z"}),l.createElement("path",{d:"M938.666667 853.333333H384a42.666667 42.666667 0 0 1 0-85.333333h554.666667a42.666667 42.666667 0 0 1 0 85.333333zM213.333333 853.333333H85.333333a42.666667 42.666667 0 0 1 0-85.333333h128a42.666667 42.666667 0 0 1 0 85.333333z"}))),Om=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M802.742857 777.485714c49.942857 0 90.742857-41.371429 90.742857-92 0-61.142857-90.742857-160.914286-90.742857-160.914285S712 624.342857 712 685.485714c0 50.628571 40.8 92 90.742857 92z m-430.971428-50.4c8.114286 8.114286 21.257143 8.114286 29.257142 0l292.685715-292.571428c8.114286-8.114286 8.114286-21.257143 0-29.257143l-292.571429-292.571429c-0.685714-0.685714-1.485714-1.371429-2.285714-1.942857l-89.371429-89.371428a10.411429 10.411429 0 0 0-14.628571 0l-54.857143 54.857142a10.411429 10.411429 0 0 0 0 14.628572l76.8 76.8-237.485714 237.6c-8.114286 8.114286-8.114286 21.257143 0 29.257143l292.457143 292.571428z m14.742857-512.685714l204.457143 204.457143H182.171429l204.342857-204.457143zM960 859.428571H64c-5.028571 0-9.142857 4.114286-9.142857 9.142858v91.428571c0 5.028571 4.114286 9.142857 9.142857 9.142857h896c5.028571 0 9.142857-4.114286 9.142857-9.142857v-91.428571c0-5.028571-4.114286-9.142857-9.142857-9.142858z"}))),Pm=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669c3.2 4.1 9.4 4.1 12.6 0l112-141.7c4.1-5.2 0.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}))),Im=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M859.9 474H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM506.3 399.3c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7 0.4-11.7-5.7-11.7H550V104c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v156h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.6zM517.7 624.7c-2.9-3.7-8.5-3.7-11.3 0L405.6 752.3c-3.7 4.7-0.4 11.7 5.7 11.7H474v156c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V764h62.8c6 0 9.4-7 5.7-11.7L517.7 624.7z"}))),$m=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355c-3.2-4.1-9.4-4.1-12.6 0l-112 141.7c-4.1 5.2-0.4 12.9 6.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}))),{DirectoryTree:zm}=Ju,ad="base-element-tree",rs=e=>{const t=e.split("-").map(n=>parseInt(n));return t.shift(),t},bh=l.forwardRef((e,t)=>{const{height:n,className:r,style:a,treeData:i,onTitleChange:o,onOperationToggle:s,onSelect:c,selectedKeys:d,onDrop:u,defaultExpandedKeys:f,expandedKeys:h,onDelete:g,onExpand:v,onGoToGroup:p}=e,m=(x,w)=>{const _=[rs(w.node.pos)],E=[x[0]];c==null||c({uuids:E,positions:_})},b=({uuid:x})=>{g==null||g({uuid:x})};return I.useMemo(()=>{const x=em(i||[],{parentModName:ad,generateClassName:Y,onTitleChange:o,onOperationToggle:s,onDelete:b,onGoToGroup:p,position:[],selectedKeys:d||[]});return l.createElement(zm,{ref:t,height:n,style:a,className:he(Y(ad),r),showLine:!0,blockNode:!0,selectedKeys:d,switcherIcon:l.createElement(mo,null),icon:null,onSelect:m,treeData:x,defaultExpandedKeys:f,expandedKeys:h,onExpand:v,draggable:{icon:!1,nodeDraggable:()=>!0},onDrop:w=>{const{dragNode:y,node:_,dropToGap:E,dropPosition:T}=w,P=rs(y.pos),j=rs(_.pos);E===!0&&T>=0?j[j.length-1]=T:_.dragOverGapBottom===!0?j[j.length-1]=j[j.length-1]+1:_.dragOverGapTop===!0?j[j.length-1]=Math.max(0,j[j.length-1]-1):_.dragOver===!0&&j.push(0),u==null||u({from:P,to:j})}})},[r,a,m,i,d])}),vn="node",Rm=e=>{const{className:t,style:n,type:r,uuid:a,nodeKey:i,title:o,position:s,parentModName:c,generateClassName:d,onTitleChange:u,onOperationToggle:f,onDelete:h,onSelect:g,operations:v,isSelected:p}=e,[m,b]=I.useState(!1),[x,w]=I.useState(!1),y=I.useRef(o),_=d(c,vn),E=d(c,vn,"icon"),T=d(c,vn,"title"),P=d(c,vn,"title","input"),j=d(c,vn,"title","icon"),D=d(c,vn,"action"),V=d(c,vn,"selected"),z=I.useRef(0),C=I.useRef(null);I.useEffect(()=>{var H;m===!0&&((H=C.current)===null||H===void 0||H.focus())},[m]);const L=H=>{b(!1),u==null||u({uuid:i,value:H.target.value||""})},G=H=>{y.current=H.target.value||""},$=H=>{var X;H.code==="Enter"&&(b(!1),u==null||u({uuid:i,value:((X=H==null?void 0:H.target)===null||X===void 0?void 0:X.value)||""}))},S=H=>{H.stopPropagation(),H.preventDefault()},F=H=>{H.stopPropagation(),w(!0)},O=H=>{H.stopPropagation(),w(!1)},B=H=>{const X=Date.now(),M=X-z.current;z.current=X,g==null||g({uuids:[a],positions:[s]}),M<=300&&M>0&&(H.stopPropagation(),H.preventDefault(),b(!0))},W=H=>{H.stopPropagation(),H.preventDefault(),h==null||h({uuid:i})},A=H=>{H.stopPropagation(),H.preventDefault(),f==null||f({uuid:i,operations:{invisible:!v.invisible}})};return I.useMemo(()=>(y.current=o,l.createElement("span",{key:i,style:n,className:he(_,t,p?V:null),onClick:B,onMouseOver:F,onMouseLeave:O},l.createElement("span",{className:T},l.createElement(ym,{className:j}),l.createElement("span",null,o)),x&&l.createElement("span",{className:D},v.invisible?l.createElement(oh,{className:E,onClick:A}):l.createElement(ih,{className:E,onClick:A}),l.createElement(gh,{className:E,onClick:W})),m&&l.createElement("span",{className:P},l.createElement(cn,{ref:C,size:"small",defaultValue:o,onBlur:L,onClick:S,onKeyDown:$,onChange:G})))),[i,o,m,r,x,v,p])};function Dm(e,t){const n=[],{position:r}=t;if(Array.isArray(e)){const a=[...r];e.forEach((i,o)=>{a.push(o),n.push(Nm(i,Object.assign(Object.assign({},t),{position:[...a]}))),a.pop()})}return n}const Nm=(e,t)=>{const{parentModName:n,onTitleChange:r,onOperationToggle:a,onDelete:i,onSelect:o,position:s,selectedKeys:c}=t;return{key:e.key,title:l.createElement(Rm,{parentModName:n,uuid:e.key,title:e.title,position:s,operations:e.operations,nodeKey:e.key,type:e.type,generateClassName:t.generateClassName,onTitleChange:r,onOperationToggle:a,onDelete:i,onSelect:o,isSelected:c==null?void 0:c.includes(e.key)})}},{DirectoryTree:Lm}=Ju,id="base-page-tree",as=e=>{const t=e.split("-").map(n=>parseInt(n));return t.shift(),t},jm=l.forwardRef((e,t)=>{const{height:n,className:r,style:a,treeData:i,onTitleChange:o,onOperationToggle:s,onSelect:c,selectedKeys:d,onDrop:u,defaultExpandedKeys:f,expandedKeys:h,onDelete:g}=e,v=(m,b)=>{const w=[as(b.node.pos)],y=[m[0]];c==null||c({uuids:y,positions:w})},p=({uuid:m})=>{g==null||g({uuid:m})};return I.useMemo(()=>{const m=Dm(i||[],{parentModName:id,generateClassName:Y,onTitleChange:o,onOperationToggle:s,onDelete:p,position:[],selectedKeys:d||[]});return l.createElement(Lm,{ref:t,height:n,style:a,className:he(Y(id),r),showLine:!0,blockNode:!0,multiple:!0,selectedKeys:d,switcherIcon:l.createElement(mo,null),icon:null,onSelect:v,treeData:m,defaultExpandedKeys:f,expandedKeys:h,draggable:{icon:!1,nodeDraggable:()=>!0},onDrop:b=>{const{dragNode:x,node:w,dropToGap:y,dropPosition:_}=b,E=as(x.pos),T=as(w.pos);y===!0&&_>=0?T[T.length-1]=_:w.dragOverGapBottom===!0?T[T.length-1]=T[T.length-1]+1:w.dragOverGapTop===!0?T[T.length-1]=Math.max(0,T[T.length-1]-1):w.dragOver===!0&&T.push(0),u==null||u({from:E,to:T})}})},[r,a,v,i,d])});var km=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Bm=e=>{const{value:t,onChange:n}=e,r=km(e,["value","onChange"]),a=o=>{n==null||n(o)},i=()=>{a(!t)};return l.createElement(Ve,Object.assign({},r,{type:t?"primary":"default",onClick:i}))},Fm="ElementDetail",$n=()=>{const[e]=nf(Fm);return e},Zr="base-element-basic-attribute",Jt=e=>Te.number(e*1)?ye(e*1):e,od=e=>{if(Te.number(e*1)){const t=ye(e*1);return Mt(t)}return e},Hm=e=>{const{className:t,style:n,element:r,onChange:a,disabled:i}=e,o=I.useRef(null),s=Y(Zr),c=Y(Zr,"row"),d=Y(Zr,"col"),u=Y(Zr,"input"),f=Y(Zr,"form-item"),h=$n(),g=v=>{var p;((p=r==null?void 0:r.operations)===null||p===void 0?void 0:p.limitRatio)===!0&&(v!=null&&v.hasOwnProperty("w")?v.h=ye(v.w/r.w*r.h):v!=null&&v.hasOwnProperty("h")&&(v.w=ye(v.h/r.h*r.w))),a==null||a(v)};return I.useEffect(()=>{var v;const{type:p,x:m,y:b,w:x,h:w,angle:y=0,operations:_={}}=r||{},E={x:m,y:b,w:x,h:w,angle:y,operations:{limitRatio:_.limitRatio}};p==="group"&&(E.operations.deepResize=_.deepResize),(v=o.current)===null||v===void 0||v.setFieldsValue(E)},[r]),I.useMemo(()=>l.createElement(te,{ref:o,style:n,className:he(s,t),onValuesChange:g},l.createElement(fe,{className:c},l.createElement(ee,{span:10,className:d},l.createElement(te.Item,{className:f,name:"x"},l.createElement(ce,{className:u,size:"small",placeholder:"X",prefix:"X",disabled:i,formatter:Jt,parser:Jt}))),l.createElement(ee,{span:10,className:d},l.createElement(te.Item,{className:f,name:"y"},l.createElement(ce,{className:u,size:"small",placeholder:"Y",prefix:"Y",disabled:i,formatter:Jt,parser:Jt})))),l.createElement(fe,{className:c},l.createElement(ee,{span:10,className:d},l.createElement(te.Item,{className:f,name:"w"},l.createElement(ce,{className:u,size:"small",placeholder:"Width",prefix:h.w,disabled:i,formatter:Jt,parser:Jt}))),l.createElement(ee,{span:10,className:d},l.createElement(te.Item,{className:f,name:"h"},l.createElement(ce,{className:u,size:"small",placeholder:"Height",prefix:h.h,disabled:i,formatter:Jt,parser:Jt}))),l.createElement(ee,{span:4,className:d},l.createElement(te.Item,{className:f,name:["operations","limitRatio"]},l.createElement(Bm,{icon:l.createElement(um,null),size:"small",disabled:i})))),l.createElement(fe,{className:c},l.createElement(ee,{span:10,className:d},l.createElement(te.Item,{className:f,name:"angle"},l.createElement(ce,{className:u,size:"small",placeholder:"Angle",prefix:l.createElement(Am,{style:{fontSize:14}}),disabled:i,formatter:od,parser:od,suffix:"°"})))),(r==null?void 0:r.type)==="group"&&l.createElement(fe,{className:c},l.createElement(ee,{span:18,className:d},h.deepResizeInGroup),l.createElement(ee,{span:6,className:d},l.createElement(te.Item,{className:f,name:["operations","deepResize"]},l.createElement(Qu,{size:"small"}))))),[h,i,r])};var vt={},za={},Vm=typeof Va=="object"&&Va&&Va.Object===Object&&Va,yh=Vm,Wm=yh,Gm=typeof self=="object"&&self&&self.Object===Object&&self,Um=Wm||Gm||Function("return this")(),$t=Um,Ym=$t,Xm=Ym.Symbol,Ra=Xm,sd=Ra,wh=Object.prototype,Km=wh.hasOwnProperty,Zm=wh.toString,Qr=sd?sd.toStringTag:void 0;function Qm(e){var t=Km.call(e,Qr),n=e[Qr];try{e[Qr]=void 0;var r=!0}catch{}var a=Zm.call(e);return r&&(t?e[Qr]=n:delete e[Qr]),a}var Jm=Qm,qm=Object.prototype,e3=qm.toString;function t3(e){return e3.call(e)}var n3=t3,ld=Ra,r3=Jm,a3=n3,i3="[object Null]",o3="[object Undefined]",cd=ld?ld.toStringTag:void 0;function s3(e){return e==null?e===void 0?o3:i3:cd&&cd in Object(e)?r3(e):a3(e)}var zn=s3,l3=Array.isArray,At=l3;function c3(e){return e!=null&&typeof e=="object"}var Vt=c3,d3=zn,u3=At,f3=Vt,h3="[object String]";function g3(e){return typeof e=="string"||!u3(e)&&f3(e)&&d3(e)==h3}var p3=g3;function v3(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++a];if(n(i[c],c,i)===!1)break}return t}}var m3=v3,b3=m3,y3=b3(),w3=y3;function x3(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var E3=x3,S3=zn,C3=Vt,M3="[object Arguments]";function A3(e){return C3(e)&&S3(e)==M3}var T3=A3,dd=T3,_3=Vt,xh=Object.prototype,O3=xh.hasOwnProperty,P3=xh.propertyIsEnumerable,I3=dd(function(){return arguments}())?dd:function(e){return _3(e)&&O3.call(e,"callee")&&!P3.call(e,"callee")},Eh=I3,to={exports:{}};function $3(){return!1}var z3=$3;to.exports;(function(e,t){var n=$t,r=z3,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?n.Buffer:void 0,c=s?s.isBuffer:void 0,d=c||r;e.exports=d})(to,to.exports);var ol=to.exports,R3=9007199254740991,D3=/^(?:0|[1-9]\d*)$/;function N3(e,t){var n=typeof e;return t=t??R3,!!t&&(n=="number"||n!="symbol"&&D3.test(e))&&e>-1&&e%1==0&&e<t}var Sh=N3,L3=9007199254740991;function j3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=L3}var sl=j3,k3=zn,B3=sl,F3=Vt,H3="[object Arguments]",V3="[object Array]",W3="[object Boolean]",G3="[object Date]",U3="[object Error]",Y3="[object Function]",X3="[object Map]",K3="[object Number]",Z3="[object Object]",Q3="[object RegExp]",J3="[object Set]",q3="[object String]",e6="[object WeakMap]",t6="[object ArrayBuffer]",n6="[object DataView]",r6="[object Float32Array]",a6="[object Float64Array]",i6="[object Int8Array]",o6="[object Int16Array]",s6="[object Int32Array]",l6="[object Uint8Array]",c6="[object Uint8ClampedArray]",d6="[object Uint16Array]",u6="[object Uint32Array]",Oe={};Oe[r6]=Oe[a6]=Oe[i6]=Oe[o6]=Oe[s6]=Oe[l6]=Oe[c6]=Oe[d6]=Oe[u6]=!0;Oe[H3]=Oe[V3]=Oe[t6]=Oe[W3]=Oe[n6]=Oe[G3]=Oe[U3]=Oe[Y3]=Oe[X3]=Oe[K3]=Oe[Z3]=Oe[Q3]=Oe[J3]=Oe[q3]=Oe[e6]=!1;function f6(e){return F3(e)&&B3(e.length)&&!!Oe[k3(e)]}var h6=f6;function g6(e){return function(t){return e(t)}}var ll=g6,no={exports:{}};no.exports;(function(e,t){var n=yh,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,s=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(no,no.exports);var cl=no.exports,p6=h6,v6=ll,ud=cl,fd=ud&&ud.isTypedArray,m6=fd?v6(fd):p6,Ch=m6,b6=E3,y6=Eh,w6=At,x6=ol,E6=Sh,S6=Ch,C6=Object.prototype,M6=C6.hasOwnProperty;function A6(e,t){var n=w6(e),r=!n&&y6(e),a=!n&&!r&&x6(e),i=!n&&!r&&!a&&S6(e),o=n||r||a||i,s=o?b6(e.length,String):[],c=s.length;for(var d in e)(t||M6.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||E6(d,c)))&&s.push(d);return s}var Mh=A6,T6=Object.prototype;function _6(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||T6;return e===n}var dl=_6;function O6(e,t){return function(n){return e(t(n))}}var Ah=O6,P6=Ah,I6=P6(Object.keys,Object),$6=I6,z6=dl,R6=$6,D6=Object.prototype,N6=D6.hasOwnProperty;function L6(e){if(!z6(e))return R6(e);var t=[];for(var n in Object(e))N6.call(e,n)&&n!="constructor"&&t.push(n);return t}var j6=L6;function k6(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Rr=k6,B6=zn,F6=Rr,H6="[object AsyncFunction]",V6="[object Function]",W6="[object GeneratorFunction]",G6="[object Proxy]";function U6(e){if(!F6(e))return!1;var t=B6(e);return t==V6||t==W6||t==H6||t==G6}var Th=U6,Y6=Th,X6=sl;function K6(e){return e!=null&&X6(e.length)&&!Y6(e)}var bo=K6,Z6=Mh,Q6=j6,J6=bo;function q6(e){return J6(e)?Z6(e):Q6(e)}var Da=q6,e1=w3,t1=Da;function n1(e,t){return e&&e1(e,t,t1)}var _h=n1;function r1(e){return e}var Oh=r1,a1=Oh;function i1(e){return typeof e=="function"?e:a1}var o1=i1,s1=_h,l1=o1;function c1(e,t){return e&&s1(e,l1(t))}var ul=c1,d1=Ah,u1=d1(Object.getPrototypeOf,Object),fl=u1,f1=zn,h1=fl,g1=Vt,p1="[object Object]",v1=Function.prototype,m1=Object.prototype,Ph=v1.toString,b1=m1.hasOwnProperty,y1=Ph.call(Object);function w1(e){if(!g1(e)||f1(e)!=p1)return!1;var t=h1(e);if(t===null)return!0;var n=b1.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Ph.call(n)==y1}var x1=w1;function E1(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Ih=E1;function S1(){this.__data__=[],this.size=0}var C1=S1;function M1(e,t){return e===t||e!==e&&t!==t}var hl=M1,A1=hl;function T1(e,t){for(var n=e.length;n--;)if(A1(e[n][0],t))return n;return-1}var yo=T1,_1=yo,O1=Array.prototype,P1=O1.splice;function I1(e){var t=this.__data__,n=_1(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():P1.call(t,n,1),--this.size,!0}var $1=I1,z1=yo;function R1(e){var t=this.__data__,n=z1(t,e);return n<0?void 0:t[n][1]}var D1=R1,N1=yo;function L1(e){return N1(this.__data__,e)>-1}var j1=L1,k1=yo;function B1(e,t){var n=this.__data__,r=k1(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var F1=B1,H1=C1,V1=$1,W1=D1,G1=j1,U1=F1;function Dr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dr.prototype.clear=H1;Dr.prototype.delete=V1;Dr.prototype.get=W1;Dr.prototype.has=G1;Dr.prototype.set=U1;var wo=Dr,Y1=wo;function X1(){this.__data__=new Y1,this.size=0}var K1=X1;function Z1(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Q1=Z1;function J1(e){return this.__data__.get(e)}var q1=J1;function eb(e){return this.__data__.has(e)}var tb=eb,nb=$t,rb=nb["__core-js_shared__"],ab=rb,is=ab,hd=function(){var e=/[^.]+$/.exec(is&&is.keys&&is.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ib(e){return!!hd&&hd in e}var ob=ib,sb=Function.prototype,lb=sb.toString;function cb(e){if(e!=null){try{return lb.call(e)}catch{}try{return e+""}catch{}}return""}var $h=cb,db=Th,ub=ob,fb=Rr,hb=$h,gb=/[\\^$.*+?()[\]{}|]/g,pb=/^\[object .+?Constructor\]$/,vb=Function.prototype,mb=Object.prototype,bb=vb.toString,yb=mb.hasOwnProperty,wb=RegExp("^"+bb.call(yb).replace(gb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xb(e){if(!fb(e)||ub(e))return!1;var t=db(e)?wb:pb;return t.test(hb(e))}var Eb=xb;function Sb(e,t){return e==null?void 0:e[t]}var Cb=Sb,Mb=Eb,Ab=Cb;function Tb(e,t){var n=Ab(e,t);return Mb(n)?n:void 0}var Rn=Tb,_b=Rn,Ob=$t,Pb=_b(Ob,"Map"),gl=Pb,Ib=Rn,$b=Ib(Object,"create"),xo=$b,gd=xo;function zb(){this.__data__=gd?gd(null):{},this.size=0}var Rb=zb;function Db(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Nb=Db,Lb=xo,jb="__lodash_hash_undefined__",kb=Object.prototype,Bb=kb.hasOwnProperty;function Fb(e){var t=this.__data__;if(Lb){var n=t[e];return n===jb?void 0:n}return Bb.call(t,e)?t[e]:void 0}var Hb=Fb,Vb=xo,Wb=Object.prototype,Gb=Wb.hasOwnProperty;function Ub(e){var t=this.__data__;return Vb?t[e]!==void 0:Gb.call(t,e)}var Yb=Ub,Xb=xo,Kb="__lodash_hash_undefined__";function Zb(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xb&&t===void 0?Kb:t,this}var Qb=Zb,Jb=Rb,qb=Nb,ey=Hb,ty=Yb,ny=Qb;function Nr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Nr.prototype.clear=Jb;Nr.prototype.delete=qb;Nr.prototype.get=ey;Nr.prototype.has=ty;Nr.prototype.set=ny;var ry=Nr,pd=ry,ay=wo,iy=gl;function oy(){this.size=0,this.__data__={hash:new pd,map:new(iy||ay),string:new pd}}var sy=oy;function ly(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var cy=ly,dy=cy;function uy(e,t){var n=e.__data__;return dy(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Eo=uy,fy=Eo;function hy(e){var t=fy(this,e).delete(e);return this.size-=t?1:0,t}var gy=hy,py=Eo;function vy(e){return py(this,e).get(e)}var my=vy,by=Eo;function yy(e){return by(this,e).has(e)}var wy=yy,xy=Eo;function Ey(e,t){var n=xy(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Sy=Ey,Cy=sy,My=gy,Ay=my,Ty=wy,_y=Sy;function Lr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Lr.prototype.clear=Cy;Lr.prototype.delete=My;Lr.prototype.get=Ay;Lr.prototype.has=Ty;Lr.prototype.set=_y;var pl=Lr,Oy=wo,Py=gl,Iy=pl,$y=200;function zy(e,t){var n=this.__data__;if(n instanceof Oy){var r=n.__data__;if(!Py||r.length<$y-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Iy(r)}return n.set(e,t),this.size=n.size,this}var Ry=zy,Dy=wo,Ny=K1,Ly=Q1,jy=q1,ky=tb,By=Ry;function jr(e){var t=this.__data__=new Dy(e);this.size=t.size}jr.prototype.clear=Ny;jr.prototype.delete=Ly;jr.prototype.get=jy;jr.prototype.has=ky;jr.prototype.set=By;var vl=jr,Fy="__lodash_hash_undefined__";function Hy(e){return this.__data__.set(e,Fy),this}var Vy=Hy;function Wy(e){return this.__data__.has(e)}var Gy=Wy,Uy=pl,Yy=Vy,Xy=Gy;function ro(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Uy;++t<n;)this.add(e[t])}ro.prototype.add=ro.prototype.push=Yy;ro.prototype.has=Xy;var Ky=ro;function Zy(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Qy=Zy;function Jy(e,t){return e.has(t)}var qy=Jy,e2=Ky,t2=Qy,n2=qy,r2=1,a2=2;function i2(e,t,n,r,a,i){var o=n&r2,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,h=!0,g=n&a2?new e2:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var v=e[f],p=t[f];if(r)var m=o?r(p,v,f,t,e,i):r(v,p,f,e,t,i);if(m!==void 0){if(m)continue;h=!1;break}if(g){if(!t2(t,function(b,x){if(!n2(g,x)&&(v===b||a(v,b,n,r,i)))return g.push(x)})){h=!1;break}}else if(!(v===p||a(v,p,n,r,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var zh=i2,o2=$t,s2=o2.Uint8Array,Rh=s2;function l2(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var c2=l2;function d2(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var u2=d2,vd=Ra,md=Rh,f2=hl,h2=zh,g2=c2,p2=u2,v2=1,m2=2,b2="[object Boolean]",y2="[object Date]",w2="[object Error]",x2="[object Map]",E2="[object Number]",S2="[object RegExp]",C2="[object Set]",M2="[object String]",A2="[object Symbol]",T2="[object ArrayBuffer]",_2="[object DataView]",bd=vd?vd.prototype:void 0,os=bd?bd.valueOf:void 0;function O2(e,t,n,r,a,i,o){switch(n){case _2:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T2:return!(e.byteLength!=t.byteLength||!i(new md(e),new md(t)));case b2:case y2:case E2:return f2(+e,+t);case w2:return e.name==t.name&&e.message==t.message;case S2:case M2:return e==t+"";case x2:var s=g2;case C2:var c=r&v2;if(s||(s=p2),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;r|=m2,o.set(e,t);var u=h2(s(e),s(t),r,a,i,o);return o.delete(e),u;case A2:if(os)return os.call(e)==os.call(t)}return!1}var P2=O2;function I2(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var Dh=I2,$2=Dh,z2=At;function R2(e,t,n){var r=t(e);return z2(e)?r:$2(r,n(e))}var Nh=R2;function D2(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var N2=D2;function L2(){return[]}var Lh=L2,j2=N2,k2=Lh,B2=Object.prototype,F2=B2.propertyIsEnumerable,yd=Object.getOwnPropertySymbols,H2=yd?function(e){return e==null?[]:(e=Object(e),j2(yd(e),function(t){return F2.call(e,t)}))}:k2,ml=H2,V2=Nh,W2=ml,G2=Da;function U2(e){return V2(e,G2,W2)}var jh=U2,wd=jh,Y2=1,X2=Object.prototype,K2=X2.hasOwnProperty;function Z2(e,t,n,r,a,i){var o=n&Y2,s=wd(e),c=s.length,d=wd(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in t:K2.call(t,h)))return!1}var g=i.get(e),v=i.get(t);if(g&&v)return g==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var m=o;++f<c;){h=s[f];var b=e[h],x=t[h];if(r)var w=o?r(x,b,h,t,e,i):r(b,x,h,e,t,i);if(!(w===void 0?b===x||a(b,x,n,r,i):w)){p=!1;break}m||(m=h=="constructor")}if(p&&!m){var y=e.constructor,_=t.constructor;y!=_&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return i.delete(e),i.delete(t),p}var Q2=Z2,J2=Rn,q2=$t,ew=J2(q2,"DataView"),tw=ew,nw=Rn,rw=$t,aw=nw(rw,"Promise"),iw=aw,ow=Rn,sw=$t,lw=ow(sw,"Set"),cw=lw,dw=Rn,uw=$t,fw=dw(uw,"WeakMap"),hw=fw,Ls=tw,js=gl,ks=iw,Bs=cw,Fs=hw,kh=zn,kr=$h,xd="[object Map]",gw="[object Object]",Ed="[object Promise]",Sd="[object Set]",Cd="[object WeakMap]",Md="[object DataView]",pw=kr(Ls),vw=kr(js),mw=kr(ks),bw=kr(Bs),yw=kr(Fs),En=kh;(Ls&&En(new Ls(new ArrayBuffer(1)))!=Md||js&&En(new js)!=xd||ks&&En(ks.resolve())!=Ed||Bs&&En(new Bs)!=Sd||Fs&&En(new Fs)!=Cd)&&(En=function(e){var t=kh(e),n=t==gw?e.constructor:void 0,r=n?kr(n):"";if(r)switch(r){case pw:return Md;case vw:return xd;case mw:return Ed;case bw:return Sd;case yw:return Cd}return t});var So=En,ss=vl,ww=zh,xw=P2,Ew=Q2,Ad=So,Td=At,_d=ol,Sw=Ch,Cw=1,Od="[object Arguments]",Pd="[object Array]",ni="[object Object]",Mw=Object.prototype,Id=Mw.hasOwnProperty;function Aw(e,t,n,r,a,i){var o=Td(e),s=Td(t),c=o?Pd:Ad(e),d=s?Pd:Ad(t);c=c==Od?ni:c,d=d==Od?ni:d;var u=c==ni,f=d==ni,h=c==d;if(h&&_d(e)){if(!_d(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new ss),o||Sw(e)?ww(e,t,n,r,a,i):xw(e,t,c,n,r,a,i);if(!(n&Cw)){var g=u&&Id.call(e,"__wrapped__"),v=f&&Id.call(t,"__wrapped__");if(g||v){var p=g?e.value():e,m=v?t.value():t;return i||(i=new ss),a(p,m,n,r,i)}}return h?(i||(i=new ss),Ew(e,t,n,r,a,i)):!1}var Tw=Aw,_w=Tw,$d=Vt;function Bh(e,t,n,r,a){return e===t?!0:e==null||t==null||!$d(e)&&!$d(t)?e!==e&&t!==t:_w(e,t,n,r,Bh,a)}var Fh=Bh,Ow=vl,Pw=Fh,Iw=1,$w=2;function zw(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var s=n[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=n[a];var c=s[0],d=e[c],u=s[1];if(o&&s[2]){if(d===void 0&&!(c in e))return!1}else{var f=new Ow;if(r)var h=r(d,u,c,e,t,f);if(!(h===void 0?Pw(u,d,Iw|$w,r,f):h))return!1}}return!0}var Rw=zw,Dw=Rr;function Nw(e){return e===e&&!Dw(e)}var Hh=Nw,Lw=Hh,jw=Da;function kw(e){for(var t=jw(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,Lw(a)]}return t}var Bw=kw;function Fw(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Vh=Fw,Hw=Rw,Vw=Bw,Ww=Vh;function Gw(e){var t=Vw(e);return t.length==1&&t[0][2]?Ww(t[0][0],t[0][1]):function(n){return n===e||Hw(n,e,t)}}var Uw=Gw,Yw=zn,Xw=Vt,Kw="[object Symbol]";function Zw(e){return typeof e=="symbol"||Xw(e)&&Yw(e)==Kw}var bl=Zw,Qw=At,Jw=bl,qw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e4=/^\w*$/;function t4(e,t){if(Qw(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Jw(e)?!0:e4.test(e)||!qw.test(e)||t!=null&&e in Object(t)}var yl=t4,Wh=pl,n4="Expected a function";function wl(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(n4);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(wl.Cache||Wh),n}wl.Cache=Wh;var r4=wl,a4=r4,i4=500;function o4(e){var t=a4(e,function(r){return n.size===i4&&n.clear(),r}),n=t.cache;return t}var s4=o4,l4=s4,c4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d4=/\\(\\)?/g,u4=l4(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(c4,function(n,r,a,i){t.push(a?i.replace(d4,"$1"):r||n)}),t}),f4=u4,zd=Ra,h4=Ih,g4=At,p4=bl,v4=1/0,Rd=zd?zd.prototype:void 0,Dd=Rd?Rd.toString:void 0;function Gh(e){if(typeof e=="string")return e;if(g4(e))return h4(e,Gh)+"";if(p4(e))return Dd?Dd.call(e):"";var t=e+"";return t=="0"&&1/e==-v4?"-0":t}var m4=Gh,b4=m4;function y4(e){return e==null?"":b4(e)}var w4=y4,x4=At,E4=yl,S4=f4,C4=w4;function M4(e,t){return x4(e)?e:E4(e,t)?[e]:S4(C4(e))}var Uh=M4,A4=bl,T4=1/0;function _4(e){if(typeof e=="string"||A4(e))return e;var t=e+"";return t=="0"&&1/e==-T4?"-0":t}var Co=_4,O4=Uh,P4=Co;function I4(e,t){t=O4(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[P4(t[n++])];return n&&n==r?e:void 0}var Yh=I4,$4=Yh;function z4(e,t,n){var r=e==null?void 0:$4(e,t);return r===void 0?n:r}var R4=z4;function D4(e,t){return e!=null&&t in Object(e)}var N4=D4,L4=Uh,j4=Eh,k4=At,B4=Sh,F4=sl,H4=Co;function V4(e,t,n){t=L4(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=H4(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&F4(a)&&B4(o,a)&&(k4(e)||j4(e)))}var W4=V4,G4=N4,U4=W4;function Y4(e,t){return e!=null&&U4(e,t,G4)}var X4=Y4,K4=Fh,Z4=R4,Q4=X4,J4=yl,q4=Hh,e8=Vh,t8=Co,n8=1,r8=2;function a8(e,t){return J4(e)&&q4(t)?e8(t8(e),t):function(n){var r=Z4(n,e);return r===void 0&&r===t?Q4(n,e):K4(t,r,n8|r8)}}var i8=a8;function o8(e){return function(t){return t==null?void 0:t[e]}}var s8=o8,l8=Yh;function c8(e){return function(t){return l8(t,e)}}var d8=c8,u8=s8,f8=d8,h8=yl,g8=Co;function p8(e){return h8(e)?u8(g8(e)):f8(e)}var v8=p8,m8=Uw,b8=i8,y8=Oh,w8=At,x8=v8;function E8(e){return typeof e=="function"?e:e==null?y8:typeof e=="object"?w8(e)?b8(e[0],e[1]):m8(e):x8(e)}var S8=E8,C8=bo;function M8(e,t){return function(n,r){if(n==null)return n;if(!C8(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var A8=M8,T8=_h,_8=A8,O8=_8(T8),P8=O8,I8=P8,$8=bo;function z8(e,t){var n=-1,r=$8(e)?Array(e.length):[];return I8(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var R8=z8,D8=Ih,N8=S8,L8=R8,j8=At;function k8(e,t){var n=j8(e)?D8:L8;return n(e,N8(t))}var B8=k8;Object.defineProperty(za,"__esModule",{value:!0});za.flattenNames=void 0;var F8=p3,H8=Mo(F8),V8=ul,W8=Mo(V8),G8=x1,U8=Mo(G8),Y8=B8,X8=Mo(Y8);function Mo(e){return e&&e.__esModule?e:{default:e}}var K8=za.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,X8.default)(t,function(r){Array.isArray(r)?e(r).map(function(a){return n.push(a)}):(0,U8.default)(r)?(0,W8.default)(r,function(a,i){a===!0&&n.push(i),n.push(i+"-"+a)}):(0,H8.default)(r)&&n.push(r)}),n};za.default=K8;var Na={};function Z8(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Q8=Z8,J8=Rn,q8=function(){try{var e=J8(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ex=q8,Nd=ex;function tx(e,t,n){t=="__proto__"&&Nd?Nd(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Xh=tx,nx=Xh,rx=hl,ax=Object.prototype,ix=ax.hasOwnProperty;function ox(e,t,n){var r=e[t];(!(ix.call(e,t)&&rx(r,n))||n===void 0&&!(t in e))&&nx(e,t,n)}var Kh=ox,sx=Kh,lx=Xh;function cx(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;c===void 0&&(c=e[s]),a?lx(n,s,c):sx(n,s,c)}return n}var Ao=cx,dx=Ao,ux=Da;function fx(e,t){return e&&dx(t,ux(t),e)}var hx=fx;function gx(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var px=gx,vx=Rr,mx=dl,bx=px,yx=Object.prototype,wx=yx.hasOwnProperty;function xx(e){if(!vx(e))return bx(e);var t=mx(e),n=[];for(var r in e)r=="constructor"&&(t||!wx.call(e,r))||n.push(r);return n}var Ex=xx,Sx=Mh,Cx=Ex,Mx=bo;function Ax(e){return Mx(e)?Sx(e,!0):Cx(e)}var xl=Ax,Tx=Ao,_x=xl;function Ox(e,t){return e&&Tx(t,_x(t),e)}var Px=Ox,ao={exports:{}};ao.exports;(function(e,t){var n=$t,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(d,u){if(u)return d.slice();var f=d.length,h=s?s(f):new d.constructor(f);return d.copy(h),h}e.exports=c})(ao,ao.exports);var Ix=ao.exports;function $x(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var zx=$x,Rx=Ao,Dx=ml;function Nx(e,t){return Rx(e,Dx(e),t)}var Lx=Nx,jx=Dh,kx=fl,Bx=ml,Fx=Lh,Hx=Object.getOwnPropertySymbols,Vx=Hx?function(e){for(var t=[];e;)jx(t,Bx(e)),e=kx(e);return t}:Fx,Zh=Vx,Wx=Ao,Gx=Zh;function Ux(e,t){return Wx(e,Gx(e),t)}var Yx=Ux,Xx=Nh,Kx=Zh,Zx=xl;function Qx(e){return Xx(e,Zx,Kx)}var Jx=Qx,qx=Object.prototype,eE=qx.hasOwnProperty;function tE(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&eE.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var nE=tE,Ld=Rh;function rE(e){var t=new e.constructor(e.byteLength);return new Ld(t).set(new Ld(e)),t}var El=rE,aE=El;function iE(e,t){var n=t?aE(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var oE=iE,sE=/\w*$/;function lE(e){var t=new e.constructor(e.source,sE.exec(e));return t.lastIndex=e.lastIndex,t}var cE=lE,jd=Ra,kd=jd?jd.prototype:void 0,Bd=kd?kd.valueOf:void 0;function dE(e){return Bd?Object(Bd.call(e)):{}}var uE=dE,fE=El;function hE(e,t){var n=t?fE(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var gE=hE,pE=El,vE=oE,mE=cE,bE=uE,yE=gE,wE="[object Boolean]",xE="[object Date]",EE="[object Map]",SE="[object Number]",CE="[object RegExp]",ME="[object Set]",AE="[object String]",TE="[object Symbol]",_E="[object ArrayBuffer]",OE="[object DataView]",PE="[object Float32Array]",IE="[object Float64Array]",$E="[object Int8Array]",zE="[object Int16Array]",RE="[object Int32Array]",DE="[object Uint8Array]",NE="[object Uint8ClampedArray]",LE="[object Uint16Array]",jE="[object Uint32Array]";function kE(e,t,n){var r=e.constructor;switch(t){case _E:return pE(e);case wE:case xE:return new r(+e);case OE:return vE(e,n);case PE:case IE:case $E:case zE:case RE:case DE:case NE:case LE:case jE:return yE(e,n);case EE:return new r;case SE:case AE:return new r(e);case CE:return mE(e);case ME:return new r;case TE:return bE(e)}}var BE=kE,FE=Rr,Fd=Object.create,HE=function(){function e(){}return function(t){if(!FE(t))return{};if(Fd)return Fd(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),VE=HE,WE=VE,GE=fl,UE=dl;function YE(e){return typeof e.constructor=="function"&&!UE(e)?WE(GE(e)):{}}var XE=YE,KE=So,ZE=Vt,QE="[object Map]";function JE(e){return ZE(e)&&KE(e)==QE}var qE=JE,eS=qE,tS=ll,Hd=cl,Vd=Hd&&Hd.isMap,nS=Vd?tS(Vd):eS,rS=nS,aS=So,iS=Vt,oS="[object Set]";function sS(e){return iS(e)&&aS(e)==oS}var lS=sS,cS=lS,dS=ll,Wd=cl,Gd=Wd&&Wd.isSet,uS=Gd?dS(Gd):cS,fS=uS,hS=vl,gS=Q8,pS=Kh,vS=hx,mS=Px,bS=Ix,yS=zx,wS=Lx,xS=Yx,ES=jh,SS=Jx,CS=So,MS=nE,AS=BE,TS=XE,_S=At,OS=ol,PS=rS,IS=Rr,$S=fS,zS=Da,RS=xl,DS=1,NS=2,LS=4,Qh="[object Arguments]",jS="[object Array]",kS="[object Boolean]",BS="[object Date]",FS="[object Error]",Jh="[object Function]",HS="[object GeneratorFunction]",VS="[object Map]",WS="[object Number]",qh="[object Object]",GS="[object RegExp]",US="[object Set]",YS="[object String]",XS="[object Symbol]",KS="[object WeakMap]",ZS="[object ArrayBuffer]",QS="[object DataView]",JS="[object Float32Array]",qS="[object Float64Array]",e5="[object Int8Array]",t5="[object Int16Array]",n5="[object Int32Array]",r5="[object Uint8Array]",a5="[object Uint8ClampedArray]",i5="[object Uint16Array]",o5="[object Uint32Array]",Ae={};Ae[Qh]=Ae[jS]=Ae[ZS]=Ae[QS]=Ae[kS]=Ae[BS]=Ae[JS]=Ae[qS]=Ae[e5]=Ae[t5]=Ae[n5]=Ae[VS]=Ae[WS]=Ae[qh]=Ae[GS]=Ae[US]=Ae[YS]=Ae[XS]=Ae[r5]=Ae[a5]=Ae[i5]=Ae[o5]=!0;Ae[FS]=Ae[Jh]=Ae[KS]=!1;function ki(e,t,n,r,a,i){var o,s=t&DS,c=t&NS,d=t&LS;if(n&&(o=a?n(e,r,a,i):n(e)),o!==void 0)return o;if(!IS(e))return e;var u=_S(e);if(u){if(o=MS(e),!s)return yS(e,o)}else{var f=CS(e),h=f==Jh||f==HS;if(OS(e))return bS(e,s);if(f==qh||f==Qh||h&&!a){if(o=c||h?{}:TS(e),!s)return c?xS(e,mS(o,e)):wS(e,vS(o,e))}else{if(!Ae[f])return a?e:{};o=AS(e,f,s)}}i||(i=new hS);var g=i.get(e);if(g)return g;i.set(e,o),$S(e)?e.forEach(function(m){o.add(ki(m,t,n,m,e,i))}):PS(e)&&e.forEach(function(m,b){o.set(b,ki(m,t,n,b,e,i))});var v=d?c?SS:ES:c?RS:zS,p=u?void 0:v(e);return gS(p||e,function(m,b){p&&(b=m,m=e[b]),pS(o,b,ki(m,t,n,b,e,i))}),o}var s5=ki,l5=s5,c5=1,d5=4;function u5(e){return l5(e,c5|d5)}var f5=u5;Object.defineProperty(Na,"__esModule",{value:!0});Na.mergeClasses=void 0;var h5=ul,g5=e0(h5),p5=f5,v5=e0(p5),m5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function e0(e){return e&&e.__esModule?e:{default:e}}var b5=Na.mergeClasses=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.default&&(0,v5.default)(t.default)||{};return n.map(function(a){var i=t[a];return i&&(0,g5.default)(i,function(o,s){r[s]||(r[s]={}),r[s]=m5({},r[s],i[s])}),a}),r};Na.default=b5;var La={};Object.defineProperty(La,"__esModule",{value:!0});La.autoprefix=void 0;var y5=ul,Ud=x5(y5),w5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function x5(e){return e&&e.__esModule?e:{default:e}}var E5={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var n=t&&t.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(t,n){var r=n[t];return r||{extend:t}}},S5=La.autoprefix=function(t){var n={};return(0,Ud.default)(t,function(r,a){var i={};(0,Ud.default)(r,function(o,s){var c=E5[s];c?i=w5({},i,c(o)):i[s]=o}),n[a]=i}),n};La.default=S5;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.hover=void 0;var C5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M5=I,ls=A5(M5);function A5(e){return e&&e.__esModule?e:{default:e}}function T5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O5=ja.hover=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){_5(a,r);function a(){var i,o,s,c;T5(this,a);for(var d=arguments.length,u=Array(d),f=0;f<d;f++)u[f]=arguments[f];return c=(o=(s=Yd(this,(i=a.__proto__||Object.getPrototypeOf(a)).call.apply(i,[this].concat(u))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return ls.default.createElement(n,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},ls.default.createElement(t,C5({},s.props,s.state)))},o),Yd(s,c)}return a}(ls.default.Component)};ja.default=O5;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.active=void 0;var P5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I5=I,cs=$5(I5);function $5(e){return e&&e.__esModule?e:{default:e}}function z5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function R5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D5=ka.active=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){R5(a,r);function a(){var i,o,s,c;z5(this,a);for(var d=arguments.length,u=Array(d),f=0;f<d;f++)u[f]=arguments[f];return c=(o=(s=Xd(this,(i=a.__proto__||Object.getPrototypeOf(a)).call.apply(i,[this].concat(u))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return cs.default.createElement(n,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},cs.default.createElement(t,P5({},s.props,s.state)))},o),Xd(s,c)}return a}(cs.default.Component)};ka.default=D5;var Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});var N5=function(t,n){var r={},a=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=s};return t===0&&a("first-child"),t===n-1&&a("last-child"),(t===0||t%2===0)&&a("even"),Math.abs(t%2)===1&&a("odd"),a("nth-child",t),r};Sl.default=N5;Object.defineProperty(vt,"__esModule",{value:!0});vt.ReactCSS=vt.loop=vt.handleActive=Cl=vt.handleHover=vt.hover=void 0;var L5=za,j5=Br(L5),k5=Na,B5=Br(k5),F5=La,H5=Br(F5),V5=ja,t0=Br(V5),W5=ka,G5=Br(W5),U5=Sl,Y5=Br(U5);function Br(e){return e&&e.__esModule?e:{default:e}}vt.hover=t0.default;var Cl=vt.handleHover=t0.default;vt.handleActive=G5.default;vt.loop=Y5.default;var X5=vt.ReactCSS=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=(0,j5.default)(r),o=(0,B5.default)(t,i);return(0,H5.default)(o)},le=vt.default=X5,K5=function(t,n,r,a,i){var o=i.clientWidth,s=i.clientHeight,c=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,d=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,u=c-(i.getBoundingClientRect().left+window.pageXOffset),f=d-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(f<0?h=0:f>s?h=1:h=Math.round(f*100/s)/100,n.a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}else{var g=void 0;if(u<0?g=0:u>o?g=1:g=Math.round(u*100/o)/100,a!==g)return{h:n.h,s:n.s,l:n.l,a:g,source:"rgb"}}return null},ds={},Z5=function(t,n,r,a){if(typeof document>"u"&&!a)return null;var i=a?new a:document.createElement("canvas");i.width=r*2,i.height=r*2;var o=i.getContext("2d");return o?(o.fillStyle=t,o.fillRect(0,0,i.width,i.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),i.toDataURL()):null},Q5=function(t,n,r,a){var i=t+"-"+n+"-"+r+(a?"-server":"");if(ds[i])return ds[i];var o=Z5(t,n,r,a);return ds[i]=o,o},Kd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fr=function(t){var n=t.white,r=t.grey,a=t.size,i=t.renderers,o=t.borderRadius,s=t.boxShadow,c=t.children,d=le({default:{grid:{borderRadius:o,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+Q5(n,r,a,i.canvas)+") center left"}}});return I.isValidElement(c)?l.cloneElement(c,Kd({},c.props,{style:Kd({},c.props.style,d.grid)})):l.createElement("div",{style:d.grid})};Fr.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var J5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q5=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function e7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function t7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ml=function(e){t7(t,e);function t(){var n,r,a,i;e7(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return i=(r=(a=Zd(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),a),a.handleChange=function(d){var u=K5(d,a.props.hsl,a.props.direction,a.props.a,a.container);u&&typeof a.props.onChange=="function"&&a.props.onChange(u,d)},a.handleMouseDown=function(d){a.handleChange(d),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},a.unbindEventListeners=function(){window.removeEventListener("mousemove",a.handleChange),window.removeEventListener("mouseup",a.handleMouseUp)},r),Zd(a,i)}return q5(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,a=this.props.rgb,i=le({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+a.r+","+a.g+","+a.b+`, 0) 0%,
           rgba(`+a.r+","+a.g+","+a.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:a.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+a.r+","+a.g+","+a.b+`, 0) 0%,
           rgba(`+a.r+","+a.g+","+a.b+", 1) 100%)"},pointer:{left:0,top:a.a*100+"%"}},overwrite:J5({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return l.createElement("div",{style:i.alpha},l.createElement("div",{style:i.checkboard},l.createElement(Fr,{renderers:this.props.renderers})),l.createElement("div",{style:i.gradient}),l.createElement("div",{style:i.container,ref:function(s){return r.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.createElement("div",{style:i.pointer},this.props.pointer?l.createElement(this.props.pointer,this.props):l.createElement("div",{style:i.slider}))))}}]),t}(I.PureComponent||I.Component),n7=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function r7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i7(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function o7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s7=1,n0=38,l7=40,c7=[n0,l7],d7=function(t){return c7.indexOf(t)>-1},u7=function(t){return Number(String(t).replace(/%/g,""))},f7=1,ue=function(e){o7(t,e);function t(n){a7(this,t);var r=i7(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(a){r.setUpdatedValue(a.target.value,a)},r.handleKeyDown=function(a){var i=u7(a.target.value);if(!isNaN(i)&&d7(a.keyCode)){var o=r.getArrowOffset(),s=a.keyCode===n0?i+o:i-o;r.setUpdatedValue(s,a)}},r.handleDrag=function(a){if(r.props.dragLabel){var i=Math.round(r.props.value+a.movementX);i>=0&&i<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(i),a)}},r.handleMouseDown=function(a){r.props.dragLabel&&(a.preventDefault(),r.handleDrag(a),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+f7++,r}return n7(t,[{key:"componentDidUpdate",value:function(r,a){this.props.value!==this.state.value&&(r.value!==this.props.value||a.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return r7({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||s7}},{key:"setUpdatedValue",value:function(r,a){var i=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(i,a),this.setState({value:r})}},{key:"render",value:function(){var r=this,a=le({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return l.createElement("div",{style:a.wrap},l.createElement("input",{id:this.inputId,style:a.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?l.createElement("label",{htmlFor:this.inputId,style:a.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(I.PureComponent||I.Component),h7=function(t,n,r,a){var i=a.clientWidth,o=a.clientHeight,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,c=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,d=s-(a.getBoundingClientRect().left+window.pageXOffset),u=c-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(u<0)f=359;else if(u>o)f=0;else{var h=-(u*100/o)+100;f=360*h/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var g=void 0;if(d<0)g=0;else if(d>i)g=359;else{var v=d*100/i;g=360*v/100}if(r.h!==g)return{h:g,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},g7=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function p7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function v7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Hr=function(e){v7(t,e);function t(){var n,r,a,i;p7(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return i=(r=(a=Qd(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),a),a.handleChange=function(d){var u=h7(d,a.props.direction,a.props.hsl,a.container);u&&typeof a.props.onChange=="function"&&a.props.onChange(u,d)},a.handleMouseDown=function(d){a.handleChange(d),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},r),Qd(a,i)}return g7(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,a=this.props.direction,i=a===void 0?"horizontal":a,o=le({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:i==="vertical"});return l.createElement("div",{style:o.hue},l.createElement("div",{className:"hue-"+i,style:o.container,ref:function(c){return r.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),l.createElement("div",{style:o.pointer},this.props.pointer?l.createElement(this.props.pointer,this.props):l.createElement("div",{style:o.slider}))))}}]),t}(I.PureComponent||I.Component),r0={exports:{}},a0={exports:{}},we={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,g=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,p=e?Symbol.for("react.block"):60121,m=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,x=e?Symbol.for("react.scope"):60119;function w(Z){return typeof Z=="string"||typeof Z=="function"||Z===r||Z===d||Z===i||Z===a||Z===f||Z===h||typeof Z=="object"&&Z!==null&&(Z.$$typeof===v||Z.$$typeof===g||Z.$$typeof===o||Z.$$typeof===s||Z.$$typeof===u||Z.$$typeof===m||Z.$$typeof===b||Z.$$typeof===x||Z.$$typeof===p)}function y(Z){if(typeof Z=="object"&&Z!==null){var We=Z.$$typeof;switch(We){case t:var Be=Z.type;switch(Be){case c:case d:case r:case i:case a:case f:return Be;default:var Xt=Be&&Be.$$typeof;switch(Xt){case s:case u:case v:case g:case o:return Xt;default:return We}}case n:return We}}}var _=c,E=d,T=s,P=o,j=t,D=u,V=r,z=v,C=g,L=n,G=i,$=a,S=f,F=!1;function O(Z){return F||(F=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),B(Z)||y(Z)===c}function B(Z){return y(Z)===d}function W(Z){return y(Z)===s}function A(Z){return y(Z)===o}function H(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function X(Z){return y(Z)===u}function M(Z){return y(Z)===r}function N(Z){return y(Z)===v}function R(Z){return y(Z)===g}function U(Z){return y(Z)===n}function k(Z){return y(Z)===i}function J(Z){return y(Z)===a}function se(Z){return y(Z)===f}we.AsyncMode=_,we.ConcurrentMode=E,we.ContextConsumer=T,we.ContextProvider=P,we.Element=j,we.ForwardRef=D,we.Fragment=V,we.Lazy=z,we.Memo=C,we.Portal=L,we.Profiler=G,we.StrictMode=$,we.Suspense=S,we.isAsyncMode=O,we.isConcurrentMode=B,we.isContextConsumer=W,we.isContextProvider=A,we.isElement=H,we.isForwardRef=X,we.isFragment=M,we.isLazy=N,we.isMemo=R,we.isPortal=U,we.isProfiler=k,we.isStrictMode=J,we.isSuspense=se,we.isValidElementType=w,we.typeOf=y})();a0.exports=we;var i0=a0.exports;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Jd=Object.getOwnPropertySymbols,m7=Object.prototype.hasOwnProperty,b7=Object.prototype.propertyIsEnumerable;function y7(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function w7(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var x7=w7()?Object.assign:function(e,t){for(var n,r=y7(e),a,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)m7.call(n,o)&&(r[o]=n[o]);if(Jd){a=Jd(n);for(var s=0;s<a.length;s++)b7.call(n,a[s])&&(r[a[s]]=n[a[s]])}}return r},E7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",o0=E7,s0=Function.call.bind(Object.prototype.hasOwnProperty),Hs=function(){};{var S7=o0,Vs={},C7=s0;Hs=function(e){var t="Warning: "+e;typeof console<"u"&&console.error(t);try{throw new Error(t)}catch{}}}function l0(e,t,n,r,a){for(var i in e)if(C7(e,i)){var o;try{if(typeof e[i]!="function"){var s=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw s.name="Invariant Violation",s}o=e[i](t,i,r,n,null,S7)}catch(d){o=d}if(o&&!(o instanceof Error)&&Hs((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof o+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),o instanceof Error&&!(o.message in Vs)){Vs[o.message]=!0;var c=a?a():"";Hs("Failed "+n+" type: "+o.message+(c??""))}}}l0.resetWarningCache=function(){Vs={}};var M7=l0,A7=i0,T7=x7,Gn=o0,us=s0,qd=M7,sr=function(){};sr=function(e){var t="Warning: "+e;typeof console<"u"&&console.error(t);try{throw new Error(t)}catch{}};function ri(){return null}var _7=function(e,t){var n=typeof Symbol=="function"&&Symbol.iterator,r="@@iterator";function a(C){var L=C&&(n&&C[n]||C[r]);if(typeof L=="function")return L}var i="<<anonymous>>",o={array:u("array"),bigint:u("bigint"),bool:u("boolean"),func:u("function"),number:u("number"),object:u("object"),string:u("string"),symbol:u("symbol"),any:f(),arrayOf:h,element:g(),elementType:v(),instanceOf:p,node:w(),objectOf:b,oneOf:m,oneOfType:x,shape:_,exact:E};function s(C,L){return C===L?C!==0||1/C===1/L:C!==C&&L!==L}function c(C,L){this.message=C,this.data=L&&typeof L=="object"?L:{},this.stack=""}c.prototype=Error.prototype;function d(C){var L={},G=0;function $(F,O,B,W,A,H,X){if(W=W||i,H=H||B,X!==Gn){if(t){var M=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw M.name="Invariant Violation",M}else if(typeof console<"u"){var N=W+":"+B;!L[N]&&G<3&&(sr("You are manually calling a React.PropTypes validation function for the `"+H+"` prop on `"+W+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),L[N]=!0,G++)}}return O[B]==null?F?O[B]===null?new c("The "+A+" `"+H+"` is marked as required "+("in `"+W+"`, but its value is `null`.")):new c("The "+A+" `"+H+"` is marked as required in "+("`"+W+"`, but its value is `undefined`.")):null:C(O,B,W,A,H)}var S=$.bind(null,!1);return S.isRequired=$.bind(null,!0),S}function u(C){function L(G,$,S,F,O,B){var W=G[$],A=j(W);if(A!==C){var H=D(W);return new c("Invalid "+F+" `"+O+"` of type "+("`"+H+"` supplied to `"+S+"`, expected ")+("`"+C+"`."),{expectedType:C})}return null}return d(L)}function f(){return d(ri)}function h(C){function L(G,$,S,F,O){if(typeof C!="function")return new c("Property `"+O+"` of component `"+S+"` has invalid PropType notation inside arrayOf.");var B=G[$];if(!Array.isArray(B)){var W=j(B);return new c("Invalid "+F+" `"+O+"` of type "+("`"+W+"` supplied to `"+S+"`, expected an array."))}for(var A=0;A<B.length;A++){var H=C(B,A,S,F,O+"["+A+"]",Gn);if(H instanceof Error)return H}return null}return d(L)}function g(){function C(L,G,$,S,F){var O=L[G];if(!e(O)){var B=j(O);return new c("Invalid "+S+" `"+F+"` of type "+("`"+B+"` supplied to `"+$+"`, expected a single ReactElement."))}return null}return d(C)}function v(){function C(L,G,$,S,F){var O=L[G];if(!A7.isValidElementType(O)){var B=j(O);return new c("Invalid "+S+" `"+F+"` of type "+("`"+B+"` supplied to `"+$+"`, expected a single ReactElement type."))}return null}return d(C)}function p(C){function L(G,$,S,F,O){if(!(G[$]instanceof C)){var B=C.name||i,W=z(G[$]);return new c("Invalid "+F+" `"+O+"` of type "+("`"+W+"` supplied to `"+S+"`, expected ")+("instance of `"+B+"`."))}return null}return d(L)}function m(C){if(!Array.isArray(C))return arguments.length>1?sr("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):sr("Invalid argument supplied to oneOf, expected an array."),ri;function L(G,$,S,F,O){for(var B=G[$],W=0;W<C.length;W++)if(s(B,C[W]))return null;var A=JSON.stringify(C,function(X,M){var N=D(M);return N==="symbol"?String(M):M});return new c("Invalid "+F+" `"+O+"` of value `"+String(B)+"` "+("supplied to `"+S+"`, expected one of "+A+"."))}return d(L)}function b(C){function L(G,$,S,F,O){if(typeof C!="function")return new c("Property `"+O+"` of component `"+S+"` has invalid PropType notation inside objectOf.");var B=G[$],W=j(B);if(W!=="object")return new c("Invalid "+F+" `"+O+"` of type "+("`"+W+"` supplied to `"+S+"`, expected an object."));for(var A in B)if(us(B,A)){var H=C(B,A,S,F,O+"."+A,Gn);if(H instanceof Error)return H}return null}return d(L)}function x(C){if(!Array.isArray(C))return sr("Invalid argument supplied to oneOfType, expected an instance of array."),ri;for(var L=0;L<C.length;L++){var G=C[L];if(typeof G!="function")return sr("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+V(G)+" at index "+L+"."),ri}function $(S,F,O,B,W){for(var A=[],H=0;H<C.length;H++){var X=C[H],M=X(S,F,O,B,W,Gn);if(M==null)return null;M.data&&us(M.data,"expectedType")&&A.push(M.data.expectedType)}var N=A.length>0?", expected one of type ["+A.join(", ")+"]":"";return new c("Invalid "+B+" `"+W+"` supplied to "+("`"+O+"`"+N+"."))}return d($)}function w(){function C(L,G,$,S,F){return T(L[G])?null:new c("Invalid "+S+" `"+F+"` supplied to "+("`"+$+"`, expected a ReactNode."))}return d(C)}function y(C,L,G,$,S){return new c((C||"React class")+": "+L+" type `"+G+"."+$+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+S+"`.")}function _(C){function L(G,$,S,F,O){var B=G[$],W=j(B);if(W!=="object")return new c("Invalid "+F+" `"+O+"` of type `"+W+"` "+("supplied to `"+S+"`, expected `object`."));for(var A in C){var H=C[A];if(typeof H!="function")return y(S,F,O,A,D(H));var X=H(B,A,S,F,O+"."+A,Gn);if(X)return X}return null}return d(L)}function E(C){function L(G,$,S,F,O){var B=G[$],W=j(B);if(W!=="object")return new c("Invalid "+F+" `"+O+"` of type `"+W+"` "+("supplied to `"+S+"`, expected `object`."));var A=T7({},G[$],C);for(var H in A){var X=C[H];if(us(C,H)&&typeof X!="function")return y(S,F,O,H,D(X));if(!X)return new c("Invalid "+F+" `"+O+"` key `"+H+"` supplied to `"+S+"`.\nBad object: "+JSON.stringify(G[$],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(C),null,"  "));var M=X(B,H,S,F,O+"."+H,Gn);if(M)return M}return null}return d(L)}function T(C){switch(typeof C){case"number":case"string":case"undefined":return!0;case"boolean":return!C;case"object":if(Array.isArray(C))return C.every(T);if(C===null||e(C))return!0;var L=a(C);if(L){var G=L.call(C),$;if(L!==C.entries){for(;!($=G.next()).done;)if(!T($.value))return!1}else for(;!($=G.next()).done;){var S=$.value;if(S&&!T(S[1]))return!1}}else return!1;return!0;default:return!1}}function P(C,L){return C==="symbol"?!0:L?L["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&L instanceof Symbol:!1}function j(C){var L=typeof C;return Array.isArray(C)?"array":C instanceof RegExp?"object":P(L,C)?"symbol":L}function D(C){if(typeof C>"u"||C===null)return""+C;var L=j(C);if(L==="object"){if(C instanceof Date)return"date";if(C instanceof RegExp)return"regexp"}return L}function V(C){var L=D(C);switch(L){case"array":case"object":return"an "+L;case"boolean":case"date":case"regexp":return"a "+L;default:return L}}function z(C){return!C.constructor||!C.constructor.name?i:C.constructor.name}return o.checkPropTypes=qd,o.resetWarningCache=qd.resetWarningCache,o.PropTypes=o,o};{var O7=i0,P7=!0;r0.exports=_7(O7.isElement,P7)}var I7=r0.exports;const Q=K0(I7);function $7(){this.__data__=[],this.size=0}function Ba(e,t){return e===t||e!==e&&t!==t}function To(e,t){for(var n=e.length;n--;)if(Ba(e[n][0],t))return n;return-1}var z7=Array.prototype,R7=z7.splice;function D7(e){var t=this.__data__,n=To(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():R7.call(t,n,1),--this.size,!0}function N7(e){var t=this.__data__,n=To(t,e);return n<0?void 0:t[n][1]}function L7(e){return To(this.__data__,e)>-1}function j7(e,t){var n=this.__data__,r=To(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Wt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wt.prototype.clear=$7;Wt.prototype.delete=D7;Wt.prototype.get=N7;Wt.prototype.has=L7;Wt.prototype.set=j7;function k7(){this.__data__=new Wt,this.size=0}function B7(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function F7(e){return this.__data__.get(e)}function H7(e){return this.__data__.has(e)}var c0=typeof global=="object"&&global&&global.Object===Object&&global,V7=typeof self=="object"&&self&&self.Object===Object&&self,Tt=c0||V7||Function("return this")(),dn=Tt.Symbol,d0=Object.prototype,W7=d0.hasOwnProperty,G7=d0.toString,Jr=dn?dn.toStringTag:void 0;function U7(e){var t=W7.call(e,Jr),n=e[Jr];try{e[Jr]=void 0;var r=!0}catch{}var a=G7.call(e);return r&&(t?e[Jr]=n:delete e[Jr]),a}var Y7=Object.prototype,X7=Y7.toString;function K7(e){return X7.call(e)}var Z7="[object Null]",Q7="[object Undefined]",eu=dn?dn.toStringTag:void 0;function Dn(e){return e==null?e===void 0?Q7:Z7:eu&&eu in Object(e)?U7(e):K7(e)}function bt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var J7="[object AsyncFunction]",q7="[object Function]",eC="[object GeneratorFunction]",tC="[object Proxy]";function Al(e){if(!bt(e))return!1;var t=Dn(e);return t==q7||t==eC||t==J7||t==tC}var fs=Tt["__core-js_shared__"],tu=function(){var e=/[^.]+$/.exec(fs&&fs.keys&&fs.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nC(e){return!!tu&&tu in e}var rC=Function.prototype,aC=rC.toString;function Nn(e){if(e!=null){try{return aC.call(e)}catch{}try{return e+""}catch{}}return""}var iC=/[\\^$.*+?()[\]{}|]/g,oC=/^\[object .+?Constructor\]$/,sC=Function.prototype,lC=Object.prototype,cC=sC.toString,dC=lC.hasOwnProperty,uC=RegExp("^"+cC.call(dC).replace(iC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fC(e){if(!bt(e)||nC(e))return!1;var t=Al(e)?uC:oC;return t.test(Nn(e))}function hC(e,t){return e==null?void 0:e[t]}function Ln(e,t){var n=hC(e,t);return fC(n)?n:void 0}var Sa=Ln(Tt,"Map"),Ca=Ln(Object,"create");function gC(){this.__data__=Ca?Ca(null):{},this.size=0}function pC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vC="__lodash_hash_undefined__",mC=Object.prototype,bC=mC.hasOwnProperty;function yC(e){var t=this.__data__;if(Ca){var n=t[e];return n===vC?void 0:n}return bC.call(t,e)?t[e]:void 0}var wC=Object.prototype,xC=wC.hasOwnProperty;function EC(e){var t=this.__data__;return Ca?t[e]!==void 0:xC.call(t,e)}var SC="__lodash_hash_undefined__";function CC(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ca&&t===void 0?SC:t,this}function On(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}On.prototype.clear=gC;On.prototype.delete=pC;On.prototype.get=yC;On.prototype.has=EC;On.prototype.set=CC;function MC(){this.size=0,this.__data__={hash:new On,map:new(Sa||Wt),string:new On}}function AC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function _o(e,t){var n=e.__data__;return AC(t)?n[typeof t=="string"?"string":"hash"]:n.map}function TC(e){var t=_o(this,e).delete(e);return this.size-=t?1:0,t}function _C(e){return _o(this,e).get(e)}function OC(e){return _o(this,e).has(e)}function PC(e,t){var n=_o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Gt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gt.prototype.clear=MC;Gt.prototype.delete=TC;Gt.prototype.get=_C;Gt.prototype.has=OC;Gt.prototype.set=PC;var IC=200;function $C(e,t){var n=this.__data__;if(n instanceof Wt){var r=n.__data__;if(!Sa||r.length<IC-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gt(r)}return n.set(e,t),this.size=n.size,this}function Pt(e){var t=this.__data__=new Wt(e);this.size=t.size}Pt.prototype.clear=k7;Pt.prototype.delete=B7;Pt.prototype.get=F7;Pt.prototype.has=H7;Pt.prototype.set=$C;var io=function(){try{var e=Ln(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Tl(e,t,n){t=="__proto__"&&io?io(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ws(e,t,n){(n!==void 0&&!Ba(e[t],n)||n===void 0&&!(t in e))&&Tl(e,t,n)}function zC(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var c=o[++a];if(n(i[c],c,i)===!1)break}return t}}var u0=zC(),f0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nu=f0&&typeof module=="object"&&module&&!module.nodeType&&module,RC=nu&&nu.exports===f0,ru=RC?Tt.Buffer:void 0;ru&&ru.allocUnsafe;function DC(e,t){return e.slice()}var oo=Tt.Uint8Array;function NC(e){var t=new e.constructor(e.byteLength);return new oo(t).set(new oo(e)),t}function LC(e,t){var n=NC(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}function jC(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var au=Object.create,kC=function(){function e(){}return function(t){if(!bt(t))return{};if(au)return au(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function h0(e,t){return function(n){return e(t(n))}}var g0=h0(Object.getPrototypeOf,Object),BC=Object.prototype;function _l(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||BC;return e===n}function FC(e){return typeof e.constructor=="function"&&!_l(e)?kC(g0(e)):{}}function un(e){return e!=null&&typeof e=="object"}var HC="[object Arguments]";function iu(e){return un(e)&&Dn(e)==HC}var p0=Object.prototype,VC=p0.hasOwnProperty,WC=p0.propertyIsEnumerable,so=iu(function(){return arguments}())?iu:function(e){return un(e)&&VC.call(e,"callee")&&!WC.call(e,"callee")},dt=Array.isArray,GC=9007199254740991;function Ol(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=GC}function Vr(e){return e!=null&&Ol(e.length)&&!Al(e)}function UC(e){return un(e)&&Vr(e)}function YC(){return!1}var v0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ou=v0&&typeof module=="object"&&module&&!module.nodeType&&module,XC=ou&&ou.exports===v0,su=XC?Tt.Buffer:void 0,KC=su?su.isBuffer:void 0,lo=KC||YC,ZC="[object Object]",QC=Function.prototype,JC=Object.prototype,m0=QC.toString,qC=JC.hasOwnProperty,eM=m0.call(Object);function tM(e){if(!un(e)||Dn(e)!=ZC)return!1;var t=g0(e);if(t===null)return!0;var n=qC.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&m0.call(n)==eM}var nM="[object Arguments]",rM="[object Array]",aM="[object Boolean]",iM="[object Date]",oM="[object Error]",sM="[object Function]",lM="[object Map]",cM="[object Number]",dM="[object Object]",uM="[object RegExp]",fM="[object Set]",hM="[object String]",gM="[object WeakMap]",pM="[object ArrayBuffer]",vM="[object DataView]",mM="[object Float32Array]",bM="[object Float64Array]",yM="[object Int8Array]",wM="[object Int16Array]",xM="[object Int32Array]",EM="[object Uint8Array]",SM="[object Uint8ClampedArray]",CM="[object Uint16Array]",MM="[object Uint32Array]",Pe={};Pe[mM]=Pe[bM]=Pe[yM]=Pe[wM]=Pe[xM]=Pe[EM]=Pe[SM]=Pe[CM]=Pe[MM]=!0;Pe[nM]=Pe[rM]=Pe[pM]=Pe[aM]=Pe[vM]=Pe[iM]=Pe[oM]=Pe[sM]=Pe[lM]=Pe[cM]=Pe[dM]=Pe[uM]=Pe[fM]=Pe[hM]=Pe[gM]=!1;function AM(e){return un(e)&&Ol(e.length)&&!!Pe[Dn(e)]}function TM(e){return function(t){return e(t)}}var b0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xa=b0&&typeof module=="object"&&module&&!module.nodeType&&module,_M=xa&&xa.exports===b0,hs=_M&&c0.process,lu=function(){try{var e=xa&&xa.require&&xa.require("util").types;return e||hs&&hs.binding&&hs.binding("util")}catch{}}(),cu=lu&&lu.isTypedArray,Pl=cu?TM(cu):AM;function Gs(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var OM=Object.prototype,PM=OM.hasOwnProperty;function IM(e,t,n){var r=e[t];(!(PM.call(e,t)&&Ba(r,n))||n===void 0&&!(t in e))&&Tl(e,t,n)}function $M(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],c=void 0;c===void 0&&(c=e[s]),a?Tl(n,s,c):IM(n,s,c)}return n}function zM(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var RM=9007199254740991,DM=/^(?:0|[1-9]\d*)$/;function Il(e,t){var n=typeof e;return t=t??RM,!!t&&(n=="number"||n!="symbol"&&DM.test(e))&&e>-1&&e%1==0&&e<t}var NM=Object.prototype,LM=NM.hasOwnProperty;function y0(e,t){var n=dt(e),r=!n&&so(e),a=!n&&!r&&lo(e),i=!n&&!r&&!a&&Pl(e),o=n||r||a||i,s=o?zM(e.length,String):[],c=s.length;for(var d in e)(t||LM.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Il(d,c)))&&s.push(d);return s}function jM(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var kM=Object.prototype,BM=kM.hasOwnProperty;function FM(e){if(!bt(e))return jM(e);var t=_l(e),n=[];for(var r in e)r=="constructor"&&(t||!BM.call(e,r))||n.push(r);return n}function w0(e){return Vr(e)?y0(e,!0):FM(e)}function HM(e){return $M(e,w0(e))}function VM(e,t,n,r,a,i,o){var s=Gs(e,n),c=Gs(t,n),d=o.get(c);if(d){Ws(e,n,d);return}var u=i?i(s,c,n+"",e,t,o):void 0,f=u===void 0;if(f){var h=dt(c),g=!h&&lo(c),v=!h&&!g&&Pl(c);u=c,h||g||v?dt(s)?u=s:UC(s)?u=jC(s):g?(f=!1,u=DC(c)):v?(f=!1,u=LC(c)):u=[]:tM(c)||so(c)?(u=s,so(s)?u=HM(s):(!bt(s)||Al(s))&&(u=FC(c))):f=!1}f&&(o.set(c,u),a(u,c,r,i,o),o.delete(c)),Ws(e,n,u)}function x0(e,t,n,r,a){e!==t&&u0(t,function(i,o){if(a||(a=new Pt),bt(i))VM(e,t,o,n,x0,r,a);else{var s=r?r(Gs(e,o),i,o+"",e,t,a):void 0;s===void 0&&(s=i),Ws(e,o,s)}},w0)}function Oo(e){return e}function WM(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var du=Math.max;function GM(e,t,n){return t=du(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=du(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(o),WM(e,this,s)}}function UM(e){return function(){return e}}var YM=io?function(e,t){return io(e,"toString",{configurable:!0,enumerable:!1,value:UM(t),writable:!0})}:Oo,XM=800,KM=16,ZM=Date.now;function QM(e){var t=0,n=0;return function(){var r=ZM(),a=KM-(r-n);if(n=r,a>0){if(++t>=XM)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var JM=QM(YM);function qM(e,t){return JM(GM(e,t,Oo),e+"")}function eA(e,t,n){if(!bt(n))return!1;var r=typeof t;return(r=="number"?Vr(n)&&Il(t,n.length):r=="string"&&t in n)?Ba(n[t],e):!1}function tA(e){return qM(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&eA(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var s=n[r];s&&e(t,s,r,i)}return t})}var at=tA(function(e,t,n){x0(e,t,n)}),Fa=function(t){var n=t.zDepth,r=t.radius,a=t.background,i=t.children,o=t.styles,s=o===void 0?{}:o,c=le(at({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:a}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":n===1});return l.createElement("div",{style:c.wrap},l.createElement("div",{style:c.bg}),l.createElement("div",{style:c.content},i))};Fa.propTypes={background:Q.string,zDepth:Q.oneOf([0,1,2,3,4,5]),radius:Q.number,styles:Q.object};Fa.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var gs=function(){return Tt.Date.now()},nA=/\s/;function rA(e){for(var t=e.length;t--&&nA.test(e.charAt(t)););return t}var aA=/^\s+/;function iA(e){return e&&e.slice(0,rA(e)+1).replace(aA,"")}var oA="[object Symbol]";function Po(e){return typeof e=="symbol"||un(e)&&Dn(e)==oA}var uu=NaN,sA=/^[-+]0x[0-9a-f]+$/i,lA=/^0b[01]+$/i,cA=/^0o[0-7]+$/i,dA=parseInt;function fu(e){if(typeof e=="number")return e;if(Po(e))return uu;if(bt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=bt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=iA(e);var n=lA.test(e);return n||cA.test(e)?dA(e.slice(2),n?2:8):sA.test(e)?uu:+e}var uA="Expected a function",fA=Math.max,hA=Math.min;function E0(e,t,n){var r,a,i,o,s,c,d=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(uA);t=fu(t)||0,bt(n)&&(u=!!n.leading,f="maxWait"in n,i=f?fA(fu(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h);function g(E){var T=r,P=a;return r=a=void 0,d=E,o=e.apply(P,T),o}function v(E){return d=E,s=setTimeout(b,t),u?g(E):o}function p(E){var T=E-c,P=E-d,j=t-T;return f?hA(j,i-P):j}function m(E){var T=E-c,P=E-d;return c===void 0||T>=t||T<0||f&&P>=i}function b(){var E=gs();if(m(E))return x(E);s=setTimeout(b,p(E))}function x(E){return s=void 0,h&&r?g(E):(r=a=void 0,o)}function w(){s!==void 0&&clearTimeout(s),d=0,r=c=a=s=void 0}function y(){return s===void 0?o:x(gs())}function _(){var E=gs(),T=m(E);if(r=arguments,a=this,c=E,T){if(s===void 0)return v(c);if(f)return clearTimeout(s),s=setTimeout(b,t),g(c)}return s===void 0&&(s=setTimeout(b,t)),o}return _.cancel=w,_.flush=y,_}var gA="Expected a function";function pA(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(gA);return bt(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),E0(e,t,{leading:r,maxWait:t,trailing:a})}var vA=function(t,n,r){var a=r.getBoundingClientRect(),i=a.width,o=a.height,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,c=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,d=s-(r.getBoundingClientRect().left+window.pageXOffset),u=c-(r.getBoundingClientRect().top+window.pageYOffset);d<0?d=0:d>i&&(d=i),u<0?u=0:u>o&&(u=o);var f=d/i,h=1-u/o;return{h:n.h,s:f,v:h,a:n.a,source:"hsv"}},mA=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function bA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function wA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Io=function(e){wA(t,e);function t(n){bA(this,t);var r=yA(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.handleChange=function(a){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,vA(a,r.props.hsl,r.container),a)},r.handleMouseDown=function(a){r.handleChange(a);var i=r.getContainerRenderWindow();i.addEventListener("mousemove",r.handleChange),i.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=pA(function(a,i,o){a(i,o)},50),r}return mA(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,a=window;!a.document.contains(r)&&a.parent!==a;)a=a.parent;return a}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,a=this.props.style||{},i=a.color,o=a.white,s=a.black,c=a.pointer,d=a.circle,u=le({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:i,white:o,black:s,pointer:c,circle:d}},{custom:!!this.props.style});return l.createElement("div",{style:u.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),l.createElement("div",{style:u.white,className:"saturation-white"},l.createElement("div",{style:u.black,className:"saturation-black"}),l.createElement("div",{style:u.pointer},this.props.pointer?l.createElement(this.props.pointer,this.props):l.createElement("div",{style:u.circle}))))}}]),t}(I.PureComponent||I.Component);function xA(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var EA=h0(Object.keys,Object),SA=Object.prototype,CA=SA.hasOwnProperty;function MA(e){if(!_l(e))return EA(e);var t=[];for(var n in Object(e))CA.call(e,n)&&n!="constructor"&&t.push(n);return t}function $l(e){return Vr(e)?y0(e):MA(e)}function AA(e,t){return e&&u0(e,t,$l)}function TA(e,t){return function(n,r){if(n==null)return n;if(!Vr(n))return e(n,r);for(var a=n.length,i=-1,o=Object(n);++i<a&&r(o[i],i,o)!==!1;);return n}}var S0=TA(AA);function _A(e){return typeof e=="function"?e:Oo}function OA(e,t){var n=dt(e)?xA:S0;return n(e,_A(t))}function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}var PA=/^\s+/,IA=/\s+$/;function re(e,t){if(e=e||"",t=t||{},e instanceof re)return e;if(!(this instanceof re))return new re(e,t);var n=$A(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}re.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,a,i,o,s;return n=t.r/255,r=t.g/255,a=t.b/255,n<=.03928?i=n/12.92:i=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*i+.7152*o+.0722*s},setAlpha:function(t){return this._a=C0(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=gu(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=gu(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+a+"%)":"hsva("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=hu(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=hu(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+a+"%)":"hsla("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return pu(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return NA(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round($e(this._r,255)*100)+"%",g:Math.round($e(this._g,255)*100)+"%",b:Math.round($e(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round($e(this._r,255)*100)+"%, "+Math.round($e(this._g,255)*100)+"%, "+Math.round($e(this._b,255)*100)+"%)":"rgba("+Math.round($e(this._r,255)*100)+"%, "+Math.round($e(this._g,255)*100)+"%, "+Math.round($e(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:XA[pu(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+vu(this._r,this._g,this._b,this._a),r=n,a=this._gradientType?"GradientType = 1, ":"";if(t){var i=re(t);r="#"+vu(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,a=this._a<1&&this._a>=0,i=!n&&a&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return re(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(BA,arguments)},brighten:function(){return this._applyModification(FA,arguments)},darken:function(){return this._applyModification(HA,arguments)},desaturate:function(){return this._applyModification(LA,arguments)},saturate:function(){return this._applyModification(jA,arguments)},greyscale:function(){return this._applyModification(kA,arguments)},spin:function(){return this._applyModification(VA,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(UA,arguments)},complement:function(){return this._applyCombination(WA,arguments)},monochromatic:function(){return this._applyCombination(YA,arguments)},splitcomplement:function(){return this._applyCombination(GA,arguments)},triad:function(){return this._applyCombination(mu,[3])},tetrad:function(){return this._applyCombination(mu,[4])}};re.fromRatio=function(e,t){if(co(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=ga(e[r]));e=n}return re(e,t)};function $A(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,i=null,o=!1,s=!1;return typeof e=="string"&&(e=JA(e)),co(e)=="object"&&(zt(e.r)&&zt(e.g)&&zt(e.b)?(t=zA(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):zt(e.h)&&zt(e.s)&&zt(e.v)?(r=ga(e.s),a=ga(e.v),t=DA(e.h,r,a),o=!0,s="hsv"):zt(e.h)&&zt(e.s)&&zt(e.l)&&(r=ga(e.s),i=ga(e.l),t=RA(e.h,r,i),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=C0(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function zA(e,t,n){return{r:$e(e,255)*255,g:$e(t,255)*255,b:$e(n,255)*255}}function hu(e,t,n){e=$e(e,255),t=$e(t,255),n=$e(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i,o,s=(r+a)/2;if(r==a)i=o=0;else{var c=r-a;switch(o=s>.5?c/(2-r-a):c/(r+a),r){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i/=6}return{h:i,s:o,l:s}}function RA(e,t,n){var r,a,i;e=$e(e,360),t=$e(t,100),n=$e(n,100);function o(d,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?d+(u-d)*6*f:f<1/2?u:f<2/3?d+(u-d)*(2/3-f)*6:d}if(t===0)r=a=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;r=o(c,s,e+1/3),a=o(c,s,e),i=o(c,s,e-1/3)}return{r:r*255,g:a*255,b:i*255}}function gu(e,t,n){e=$e(e,255),t=$e(t,255),n=$e(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i,o,s=r,c=r-a;if(o=r===0?0:c/r,r==a)i=0;else{switch(r){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i/=6}return{h:i,s:o,v:s}}function DA(e,t,n){e=$e(e,360)*6,t=$e(t,100),n=$e(n,100);var r=Math.floor(e),a=e-r,i=n*(1-t),o=n*(1-a*t),s=n*(1-(1-a)*t),c=r%6,d=[n,o,i,i,s,n][c],u=[s,n,n,o,i,i][c],f=[i,i,s,n,n,o][c];return{r:d*255,g:u*255,b:f*255}}function pu(e,t,n,r){var a=[Ct(Math.round(e).toString(16)),Ct(Math.round(t).toString(16)),Ct(Math.round(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function NA(e,t,n,r,a){var i=[Ct(Math.round(e).toString(16)),Ct(Math.round(t).toString(16)),Ct(Math.round(n).toString(16)),Ct(M0(r))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function vu(e,t,n,r){var a=[Ct(M0(r)),Ct(Math.round(e).toString(16)),Ct(Math.round(t).toString(16)),Ct(Math.round(n).toString(16))];return a.join("")}re.equals=function(e,t){return!e||!t?!1:re(e).toRgbString()==re(t).toRgbString()};re.random=function(){return re.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function LA(e,t){t=t===0?0:t||10;var n=re(e).toHsl();return n.s-=t/100,n.s=$o(n.s),re(n)}function jA(e,t){t=t===0?0:t||10;var n=re(e).toHsl();return n.s+=t/100,n.s=$o(n.s),re(n)}function kA(e){return re(e).desaturate(100)}function BA(e,t){t=t===0?0:t||10;var n=re(e).toHsl();return n.l+=t/100,n.l=$o(n.l),re(n)}function FA(e,t){t=t===0?0:t||10;var n=re(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),re(n)}function HA(e,t){t=t===0?0:t||10;var n=re(e).toHsl();return n.l-=t/100,n.l=$o(n.l),re(n)}function VA(e,t){var n=re(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,re(n)}function WA(e){var t=re(e).toHsl();return t.h=(t.h+180)%360,re(t)}function mu(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=re(e).toHsl(),r=[re(e)],a=360/t,i=1;i<t;i++)r.push(re({h:(n.h+i*a)%360,s:n.s,l:n.l}));return r}function GA(e){var t=re(e).toHsl(),n=t.h;return[re(e),re({h:(n+72)%360,s:t.s,l:t.l}),re({h:(n+216)%360,s:t.s,l:t.l})]}function UA(e,t,n){t=t||6,n=n||30;var r=re(e).toHsl(),a=360/n,i=[re(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(re(r));return i}function YA(e,t){t=t||6;for(var n=re(e).toHsv(),r=n.h,a=n.s,i=n.v,o=[],s=1/t;t--;)o.push(re({h:r,s:a,v:i})),i=(i+s)%1;return o}re.mix=function(e,t,n){n=n===0?0:n||50;var r=re(e).toRgb(),a=re(t).toRgb(),i=n/100,o={r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a};return re(o)};re.readability=function(e,t){var n=re(e),r=re(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};re.isReadable=function(e,t,n){var r=re.readability(e,t),a,i;switch(i=!1,a=qA(n),a.level+a.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7;break}return i};re.mostReadable=function(e,t,n){var r=null,a=0,i,o,s,c;n=n||{},o=n.includeFallbackColors,s=n.level,c=n.size;for(var d=0;d<t.length;d++)i=re.readability(e,t[d]),i>a&&(a=i,r=re(t[d]));return re.isReadable(e,r,{level:s,size:c})||!o?r:(n.includeFallbackColors=!1,re.mostReadable(e,["#fff","#000"],n))};var Us=re.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},XA=re.hexNames=KA(Us);function KA(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function C0(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function $e(e,t){ZA(e)&&(e="100%");var n=QA(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function $o(e){return Math.min(1,Math.max(0,e))}function st(e){return parseInt(e,16)}function ZA(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function QA(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ct(e){return e.length==1?"0"+e:""+e}function ga(e){return e<=1&&(e=e*100+"%"),e}function M0(e){return Math.round(parseFloat(e)*255).toString(16)}function bu(e){return st(e)/255}var St=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function zt(e){return!!St.CSS_UNIT.exec(e)}function JA(e){e=e.replace(PA,"").replace(IA,"").toLowerCase();var t=!1;if(Us[e])e=Us[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=St.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=St.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=St.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=St.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=St.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=St.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=St.hex8.exec(e))?{r:st(n[1]),g:st(n[2]),b:st(n[3]),a:bu(n[4]),format:t?"name":"hex8"}:(n=St.hex6.exec(e))?{r:st(n[1]),g:st(n[2]),b:st(n[3]),format:t?"name":"hex"}:(n=St.hex4.exec(e))?{r:st(n[1]+""+n[1]),g:st(n[2]+""+n[2]),b:st(n[3]+""+n[3]),a:bu(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=St.hex3.exec(e))?{r:st(n[1]+""+n[1]),g:st(n[2]+""+n[2]),b:st(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function qA(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}var yu=function(t){var n=["r","g","b","a","h","s","l","v"],r=0,a=0;return OA(n,function(i){if(t[i]&&(r+=1,isNaN(t[i])||(a+=1),i==="s"||i==="l")){var o=/^\d+%$/;o.test(t[i])&&(a+=1)}}),r===a?t:!1},pa=function(t,n){var r=t.hex?re(t.hex):re(t),a=r.toHsl(),i=r.toHsv(),o=r.toRgb(),s=r.toHex();a.s===0&&(a.h=n||0,i.h=n||0);var c=s==="000000"&&o.a===0;return{hsl:a,hex:c?"transparent":"#"+s,rgb:o,hsv:i,oldHue:t.h||n||a.h,source:t.source}},fn=function(t){if(t==="transparent")return!0;var n=String(t).charAt(0)==="#"?1:0;return t.length!==4+n&&t.length<7+n&&re(t).isValid()},zl=function(t){if(!t)return"#fff";var n=pa(t);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},ps=function(t,n){var r=t.replace("°","");return re(n+" ("+r+")")._ok},qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eT=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function tT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nT(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function rT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var it=function(t){var n=function(r){rT(a,r);function a(i){tT(this,a);var o=nT(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return o.handleChange=function(s,c){var d=yu(s);if(d){var u=pa(s,s.h||o.state.oldHue);o.setState(u),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,u,c),o.props.onChange&&o.props.onChange(u,c)}},o.handleSwatchHover=function(s,c){var d=yu(s);if(d){var u=pa(s,s.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(u,c)}},o.state=qr({},pa(i.color,0)),o.debounce=E0(function(s,c,d){s(c,d)},100),o}return eT(a,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),l.createElement(t,qr({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,s){return qr({},pa(o.color,s.oldHue))}}]),a}(I.PureComponent||I.Component);return n.propTypes=qr({},t.propTypes),n.defaultProps=qr({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},aT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iT=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function oT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function sT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lT=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){sT(a,r);function a(){var i,o,s,c;oT(this,a);for(var d=arguments.length,u=Array(d),f=0;f<d;f++)u[f]=arguments[f];return c=(o=(s=wu(this,(i=a.__proto__||Object.getPrototypeOf(a)).call.apply(i,[this].concat(u))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},o),wu(s,c)}return iT(a,[{key:"render",value:function(){return l.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},l.createElement(t,aT({},this.props,this.state)))}}]),a}(l.Component)},xu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cT=13,dT=function(t){var n=t.color,r=t.style,a=t.onClick,i=a===void 0?function(){}:a,o=t.onHover,s=t.title,c=s===void 0?n:s,d=t.children,u=t.focus,f=t.focusStyle,h=f===void 0?{}:f,g=n==="transparent",v=le({default:{swatch:xu({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?h:{})}}),p=function(y){return i(n,y)},m=function(y){return y.keyCode===cT&&i(n,y)},b=function(y){return o(n,y)},x={};return o&&(x.onMouseOver=b),l.createElement("div",xu({style:v.swatch,onClick:p,title:c,tabIndex:0,onKeyDown:m},x),d,g&&l.createElement(Fr,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const jn=lT(dT);var uT=function(t){var n=t.direction,r=le({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return l.createElement("div",{style:r.picker})},fT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0=function(t){var n=t.rgb,r=t.hsl,a=t.width,i=t.height,o=t.onChange,s=t.direction,c=t.style,d=t.renderers,u=t.pointer,f=t.className,h=f===void 0?"":f,g=le({default:{picker:{position:"relative",width:a,height:i},alpha:{radius:"2px",style:c}}});return l.createElement("div",{style:g.picker,className:"alpha-picker "+h},l.createElement(Ml,fT({},g.alpha,{rgb:n,hsl:r,pointer:u,renderers:d,onChange:o,direction:s})))};A0.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:uT};it(A0);function T0(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var hT="__lodash_hash_undefined__";function gT(e){return this.__data__.set(e,hT),this}function pT(e){return this.__data__.has(e)}function uo(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Gt;++t<n;)this.add(e[t])}uo.prototype.add=uo.prototype.push=gT;uo.prototype.has=pT;function vT(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function mT(e,t){return e.has(t)}var bT=1,yT=2;function _0(e,t,n,r,a,i){var o=n&bT,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,h=!0,g=n&yT?new uo:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var v=e[f],p=t[f];if(r)var m=o?r(p,v,f,t,e,i):r(v,p,f,e,t,i);if(m!==void 0){if(m)continue;h=!1;break}if(g){if(!vT(t,function(b,x){if(!mT(g,x)&&(v===b||a(v,b,n,r,i)))return g.push(x)})){h=!1;break}}else if(!(v===p||a(v,p,n,r,i))){h=!1;break}}return i.delete(e),i.delete(t),h}function wT(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}function xT(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var ET=1,ST=2,CT="[object Boolean]",MT="[object Date]",AT="[object Error]",TT="[object Map]",_T="[object Number]",OT="[object RegExp]",PT="[object Set]",IT="[object String]",$T="[object Symbol]",zT="[object ArrayBuffer]",RT="[object DataView]",Eu=dn?dn.prototype:void 0,vs=Eu?Eu.valueOf:void 0;function DT(e,t,n,r,a,i,o){switch(n){case RT:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zT:return!(e.byteLength!=t.byteLength||!i(new oo(e),new oo(t)));case CT:case MT:case _T:return Ba(+e,+t);case AT:return e.name==t.name&&e.message==t.message;case OT:case IT:return e==t+"";case TT:var s=wT;case PT:var c=r&ET;if(s||(s=xT),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;r|=ST,o.set(e,t);var u=_0(s(e),s(t),r,a,i,o);return o.delete(e),u;case $T:if(vs)return vs.call(e)==vs.call(t)}return!1}function NT(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function LT(e,t,n){var r=t(e);return dt(e)?r:NT(r,n(e))}function jT(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function kT(){return[]}var BT=Object.prototype,FT=BT.propertyIsEnumerable,Su=Object.getOwnPropertySymbols,HT=Su?function(e){return e==null?[]:(e=Object(e),jT(Su(e),function(t){return FT.call(e,t)}))}:kT;function Cu(e){return LT(e,$l,HT)}var VT=1,WT=Object.prototype,GT=WT.hasOwnProperty;function UT(e,t,n,r,a,i){var o=n&VT,s=Cu(e),c=s.length,d=Cu(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in t:GT.call(t,h)))return!1}var g=i.get(e),v=i.get(t);if(g&&v)return g==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var m=o;++f<c;){h=s[f];var b=e[h],x=t[h];if(r)var w=o?r(x,b,h,t,e,i):r(b,x,h,e,t,i);if(!(w===void 0?b===x||a(b,x,n,r,i):w)){p=!1;break}m||(m=h=="constructor")}if(p&&!m){var y=e.constructor,_=t.constructor;y!=_&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return i.delete(e),i.delete(t),p}var Ys=Ln(Tt,"DataView"),Xs=Ln(Tt,"Promise"),Ks=Ln(Tt,"Set"),Zs=Ln(Tt,"WeakMap"),Mu="[object Map]",YT="[object Object]",Au="[object Promise]",Tu="[object Set]",_u="[object WeakMap]",Ou="[object DataView]",XT=Nn(Ys),KT=Nn(Sa),ZT=Nn(Xs),QT=Nn(Ks),JT=Nn(Zs),rn=Dn;(Ys&&rn(new Ys(new ArrayBuffer(1)))!=Ou||Sa&&rn(new Sa)!=Mu||Xs&&rn(Xs.resolve())!=Au||Ks&&rn(new Ks)!=Tu||Zs&&rn(new Zs)!=_u)&&(rn=function(e){var t=Dn(e),n=t==YT?e.constructor:void 0,r=n?Nn(n):"";if(r)switch(r){case XT:return Ou;case KT:return Mu;case ZT:return Au;case QT:return Tu;case JT:return _u}return t});var qT=1,Pu="[object Arguments]",Iu="[object Array]",ai="[object Object]",e_=Object.prototype,$u=e_.hasOwnProperty;function t_(e,t,n,r,a,i){var o=dt(e),s=dt(t),c=o?Iu:rn(e),d=s?Iu:rn(t);c=c==Pu?ai:c,d=d==Pu?ai:d;var u=c==ai,f=d==ai,h=c==d;if(h&&lo(e)){if(!lo(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new Pt),o||Pl(e)?_0(e,t,n,r,a,i):DT(e,t,c,n,r,a,i);if(!(n&qT)){var g=u&&$u.call(e,"__wrapped__"),v=f&&$u.call(t,"__wrapped__");if(g||v){var p=g?e.value():e,m=v?t.value():t;return i||(i=new Pt),a(p,m,n,r,i)}}return h?(i||(i=new Pt),UT(e,t,n,r,a,i)):!1}function Rl(e,t,n,r,a){return e===t?!0:e==null||t==null||!un(e)&&!un(t)?e!==e&&t!==t:t_(e,t,n,r,Rl,a)}var n_=1,r_=2;function a_(e,t,n,r){var a=n.length,i=a;if(e==null)return!i;for(e=Object(e);a--;){var o=n[a];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=n[a];var s=o[0],c=e[s],d=o[1];if(o[2]){if(c===void 0&&!(s in e))return!1}else{var u=new Pt,f;if(!(f===void 0?Rl(d,c,n_|r_,r,u):f))return!1}}return!0}function O0(e){return e===e&&!bt(e)}function i_(e){for(var t=$l(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,O0(a)]}return t}function P0(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function o_(e){var t=i_(e);return t.length==1&&t[0][2]?P0(t[0][0],t[0][1]):function(n){return n===e||a_(n,e,t)}}var s_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l_=/^\w*$/;function Dl(e,t){if(dt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Po(e)?!0:l_.test(e)||!s_.test(e)||t!=null&&e in Object(t)}var c_="Expected a function";function Nl(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(c_);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Nl.Cache||Gt),n}Nl.Cache=Gt;var d_=500;function u_(e){var t=Nl(e,function(r){return n.size===d_&&n.clear(),r}),n=t.cache;return t}var f_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h_=/\\(\\)?/g,g_=u_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(f_,function(n,r,a,i){t.push(a?i.replace(h_,"$1"):r||n)}),t}),p_=1/0,zu=dn?dn.prototype:void 0,Ru=zu?zu.toString:void 0;function I0(e){if(typeof e=="string")return e;if(dt(e))return T0(e,I0)+"";if(Po(e))return Ru?Ru.call(e):"";var t=e+"";return t=="0"&&1/e==-p_?"-0":t}function v_(e){return e==null?"":I0(e)}function $0(e,t){return dt(e)?e:Dl(e,t)?[e]:g_(v_(e))}var m_=1/0;function zo(e){if(typeof e=="string"||Po(e))return e;var t=e+"";return t=="0"&&1/e==-m_?"-0":t}function z0(e,t){t=$0(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[zo(t[n++])];return n&&n==r?e:void 0}function b_(e,t,n){var r=e==null?void 0:z0(e,t);return r===void 0?n:r}function y_(e,t){return e!=null&&t in Object(e)}function w_(e,t,n){t=$0(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=zo(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&Ol(a)&&Il(o,a)&&(dt(e)||so(e)))}function x_(e,t){return e!=null&&w_(e,t,y_)}var E_=1,S_=2;function C_(e,t){return Dl(e)&&O0(t)?P0(zo(e),t):function(n){var r=b_(n,e);return r===void 0&&r===t?x_(n,e):Rl(t,r,E_|S_)}}function M_(e){return function(t){return t==null?void 0:t[e]}}function A_(e){return function(t){return z0(t,e)}}function T_(e){return Dl(e)?M_(zo(e)):A_(e)}function __(e){return typeof e=="function"?e:e==null?Oo:typeof e=="object"?dt(e)?C_(e[0],e[1]):o_(e):T_(e)}function O_(e,t){var n=-1,r=Vr(e)?Array(e.length):[];return S0(e,function(a,i,o){r[++n]=t(a,i,o)}),r}function kn(e,t){var n=dt(e)?T0:O_;return n(e,__(t))}var P_=function(t){var n=t.colors,r=t.onClick,a=t.onSwatchHover,i=le({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return l.createElement("div",{style:i.swatches},kn(n,function(o){return l.createElement(jn,{key:o,color:o,style:i.swatch,onClick:r,onHover:a,focusStyle:{boxShadow:"0 0 4px "+o}})}),l.createElement("div",{style:i.clear}))},Ll=function(t){var n=t.onChange,r=t.onSwatchHover,a=t.hex,i=t.colors,o=t.width,s=t.triangle,c=t.styles,d=c===void 0?{}:c,u=t.className,f=u===void 0?"":u,h=a==="transparent",g=function(m,b){fn(m)&&n({hex:m,source:"hex"},b)},v=le(at({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:a,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:zl(a),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+a+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},d),{"hide-triangle":s==="hide"});return l.createElement("div",{style:v.card,className:"block-picker "+f},l.createElement("div",{style:v.triangle}),l.createElement("div",{style:v.head},h&&l.createElement(Fr,{borderRadius:"6px 6px 0 0"}),l.createElement("div",{style:v.label},a)),l.createElement("div",{style:v.body},l.createElement(P_,{colors:i,onClick:g,onSwatchHover:r}),l.createElement(ue,{style:{input:v.input},value:a,onChange:g})))};Ll.propTypes={width:Q.oneOfType([Q.string,Q.number]),colors:Q.arrayOf(Q.string),triangle:Q.oneOf(["top","hide"]),styles:Q.object};Ll.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};it(Ll);var lr={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},cr={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},dr={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},ur={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},fr={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},hr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},gr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},pr={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},vr={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},va={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},mr={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},br={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},yr={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},wr={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},xr={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Er={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Sr={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Cr={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},R0=function(t){var n=t.color,r=t.onClick,a=t.onSwatchHover,i=t.hover,o=t.active,s=t.circleSize,c=t.circleSpacing,d=le({default:{swatch:{width:s,height:s,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:i,active:o});return l.createElement("div",{style:d.swatch},l.createElement(jn,{style:d.Swatch,color:n,onClick:r,onHover:a,focusStyle:{boxShadow:d.Swatch.boxShadow+", 0 0 5px "+n}}))};R0.defaultProps={circleSize:28,circleSpacing:14};const I_=Cl(R0);var jl=function(t){var n=t.width,r=t.onChange,a=t.onSwatchHover,i=t.colors,o=t.hex,s=t.circleSize,c=t.styles,d=c===void 0?{}:c,u=t.circleSpacing,f=t.className,h=f===void 0?"":f,g=le(at({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},d)),v=function(m,b){return r({hex:m,source:"hex"},b)};return l.createElement("div",{style:g.card,className:"circle-picker "+h},kn(i,function(p){return l.createElement(I_,{key:p,color:p,onClick:v,onSwatchHover:a,active:o===p.toLowerCase(),circleSize:s,circleSpacing:u})}))};jl.propTypes={width:Q.oneOfType([Q.string,Q.number]),circleSize:Q.number,circleSpacing:Q.number,styles:Q.object};jl.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[lr[500],cr[500],dr[500],ur[500],fr[500],hr[500],gr[500],pr[500],vr[500],va[500],mr[500],br[500],yr[500],wr[500],xr[500],Er[500],Sr[500],Cr[500]],styles:{}};it(jl);function Du(e){return e===void 0}var D0={};Object.defineProperty(D0,"__esModule",{value:!0});var Nu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$_=I,Lu=z_($_);function z_(e){return e&&e.__esModule?e:{default:e}}function R_(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var ii=24,D_=D0.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,a=r===void 0?ii:r,i=e.height,o=i===void 0?ii:i,s=e.style,c=s===void 0?{}:s,d=R_(e,["fill","width","height","style"]);return Lu.default.createElement("svg",Nu({viewBox:"0 0 "+ii+" "+ii,style:Nu({fill:n,width:a,height:o},c)},d),Lu.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},N_=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function L_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j_(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function k_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N0=function(e){k_(t,e);function t(n){L_(this,t);var r=j_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(a,i){a.hex?fn(a.hex)&&r.props.onChange({hex:a.hex,source:"hex"},i):a.r||a.g||a.b?r.props.onChange({r:a.r||r.props.rgb.r,g:a.g||r.props.rgb.g,b:a.b||r.props.rgb.b,source:"rgb"},i):a.a?(a.a<0?a.a=0:a.a>1&&(a.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(a.a*100)/100,source:"rgb"},i)):(a.h||a.s||a.l)&&(typeof a.s=="string"&&a.s.includes("%")&&(a.s=a.s.replace("%","")),typeof a.l=="string"&&a.l.includes("%")&&(a.l=a.l.replace("%","")),a.s==1?a.s=.01:a.l==1&&(a.l=.01),r.props.onChange({h:a.h||r.props.hsl.h,s:Number(Du(a.s)?r.props.hsl.s:a.s),l:Number(Du(a.l)?r.props.hsl.l:a.l),source:"hsl"},i))},r.showHighlight=function(a){a.currentTarget.style.background="#eee"},r.hideHighlight=function(a){a.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return N_(t,[{key:"render",value:function(){var r=this,a=le({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),i=void 0;return this.state.view==="hex"?i=l.createElement("div",{style:a.fields,className:"flexbox-fix"},l.createElement("div",{style:a.field},l.createElement(ue,{style:{input:a.input,label:a.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?i=l.createElement("div",{style:a.fields,className:"flexbox-fix"},l.createElement("div",{style:a.field},l.createElement(ue,{style:{input:a.input,label:a.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),l.createElement("div",{style:a.field},l.createElement(ue,{style:{input:a.input,label:a.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),l.createElement("div",{style:a.field},l.createElement(ue,{style:{input:a.input,label:a.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),l.createElement("div",{style:a.alpha},l.createElement(ue,{style:{input:a.input,label:a.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(i=l.createElement("div",{style:a.fields,className:"flexbox-fix"},l.createElement("div",{style:a.field},l.createElement(ue,{style:{input:a.input,label:a.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),l.createElement("div",{style:a.field},l.createElement(ue,{style:{input:a.input,label:a.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),l.createElement("div",{style:a.field},l.createElement(ue,{style:{input:a.input,label:a.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),l.createElement("div",{style:a.alpha},l.createElement(ue,{style:{input:a.input,label:a.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),l.createElement("div",{style:a.wrap,className:"flexbox-fix"},i,l.createElement("div",{style:a.toggle},l.createElement("div",{style:a.icon,onClick:this.toggleViews,ref:function(s){return r.icon=s}},l.createElement(D_,{style:a.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.hsl.a!==1&&a.view==="hex"?{view:"rgb"}:null}}]),t}(l.Component);N0.defaultProps={view:"hex"};var ju=function(){var t=le({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return l.createElement("div",{style:t.picker})},B_=function(){var t=le({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return l.createElement("div",{style:t.picker})},kl=function(t){var n=t.width,r=t.onChange,a=t.disableAlpha,i=t.rgb,o=t.hsl,s=t.hsv,c=t.hex,d=t.renderers,u=t.styles,f=u===void 0?{}:u,h=t.className,g=h===void 0?"":h,v=t.defaultView,p=le(at({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:a});return l.createElement("div",{style:p.picker,className:"chrome-picker "+g},l.createElement("div",{style:p.saturation},l.createElement(Io,{style:p.Saturation,hsl:o,hsv:s,pointer:B_,onChange:r})),l.createElement("div",{style:p.body},l.createElement("div",{style:p.controls,className:"flexbox-fix"},l.createElement("div",{style:p.color},l.createElement("div",{style:p.swatch},l.createElement("div",{style:p.active}),l.createElement(Fr,{renderers:d}))),l.createElement("div",{style:p.toggles},l.createElement("div",{style:p.hue},l.createElement(Hr,{style:p.Hue,hsl:o,pointer:ju,onChange:r})),l.createElement("div",{style:p.alpha},l.createElement(Ml,{style:p.Alpha,rgb:i,hsl:o,pointer:ju,renderers:d,onChange:r})))),l.createElement(N0,{rgb:i,hsl:o,hex:c,view:v,onChange:r,disableAlpha:a})))};kl.propTypes={width:Q.oneOfType([Q.string,Q.number]),disableAlpha:Q.bool,styles:Q.object,defaultView:Q.oneOf(["hex","rgb","hsl"])};kl.defaultProps={width:225,disableAlpha:!1,styles:{}};const F_=it(kl);var H_=function(t){var n=t.color,r=t.onClick,a=r===void 0?function(){}:r,i=t.onSwatchHover,o=t.active,s=le({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:zl(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return l.createElement(jn,{style:s.color,color:n,onClick:a,onHover:i,focusStyle:{boxShadow:"0 0 4px "+n}},l.createElement("div",{style:s.dot}))},V_=function(t){var n=t.hex,r=t.rgb,a=t.onChange,i=le({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(c,d){c.r||c.g||c.b?a({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},d):a({hex:c.hex,source:"hex"},d)};return l.createElement("div",{style:i.fields,className:"flexbox-fix"},l.createElement("div",{style:i.active}),l.createElement(ue,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:n,onChange:o}),l.createElement(ue,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:o}),l.createElement(ue,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:o}),l.createElement(ue,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:o}))},Bl=function(t){var n=t.onChange,r=t.onSwatchHover,a=t.colors,i=t.hex,o=t.rgb,s=t.styles,c=s===void 0?{}:s,d=t.className,u=d===void 0?"":d,f=le(at({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},c)),h=function(v,p){v.hex?fn(v.hex)&&n({hex:v.hex,source:"hex"},p):n(v,p)};return l.createElement(Fa,{style:f.Compact,styles:c},l.createElement("div",{style:f.compact,className:"compact-picker "+u},l.createElement("div",null,kn(a,function(g){return l.createElement(H_,{key:g,color:g,active:g.toLowerCase()===i,onClick:h,onSwatchHover:r})}),l.createElement("div",{style:f.clear})),l.createElement(V_,{hex:i,rgb:o,onChange:h})))};Bl.propTypes={colors:Q.arrayOf(Q.string),styles:Q.object};Bl.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};it(Bl);var W_=function(t){var n=t.hover,r=t.color,a=t.onClick,i=t.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=le({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return l.createElement("div",{style:s.swatch},l.createElement(jn,{color:r,onClick:a,onHover:i,focusStyle:o}))};const G_=Cl(W_);var Fl=function(t){var n=t.width,r=t.colors,a=t.onChange,i=t.onSwatchHover,o=t.triangle,s=t.styles,c=s===void 0?{}:s,d=t.className,u=d===void 0?"":d,f=le(at({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},c),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),h=function(v,p){return a({hex:v,source:"hex"},p)};return l.createElement("div",{style:f.card,className:"github-picker "+u},l.createElement("div",{style:f.triangleShadow}),l.createElement("div",{style:f.triangle}),kn(r,function(g){return l.createElement(G_,{color:g,key:g,onClick:h,onSwatchHover:i})}))};Fl.propTypes={width:Q.oneOfType([Q.string,Q.number]),colors:Q.arrayOf(Q.string),triangle:Q.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Q.object};Fl.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};it(Fl);var U_=function(t){var n=t.direction,r=le({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return l.createElement("div",{style:r.picker})},Y_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hl=function(t){var n=t.width,r=t.height,a=t.onChange,i=t.hsl,o=t.direction,s=t.pointer,c=t.styles,d=c===void 0?{}:c,u=t.className,f=u===void 0?"":u,h=le(at({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},d)),g=function(p){return a({a:1,h:p.h,l:.5,s:1})};return l.createElement("div",{style:h.picker,className:"hue-picker "+f},l.createElement(Hr,Y_({},h.hue,{hsl:i,pointer:s,onChange:g,direction:o})))};Hl.propTypes={styles:Q.object};Hl.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:U_,styles:{}};it(Hl);var X_=function(t){var n=t.onChange,r=t.hex,a=t.rgb,i=t.styles,o=i===void 0?{}:i,s=t.className,c=s===void 0?"":s,d=le(at({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),u=function(h,g){h.hex?fn(h.hex)&&n({hex:h.hex,source:"hex"},g):(h.r||h.g||h.b)&&n({r:h.r||a.r,g:h.g||a.g,b:h.b||a.b,source:"rgb"},g)};return l.createElement(Fa,{styles:o},l.createElement("div",{style:d.material,className:"material-picker "+c},l.createElement(ue,{style:{wrap:d.HEXwrap,input:d.HEXinput,label:d.HEXlabel},label:"hex",value:r,onChange:u}),l.createElement("div",{style:d.split,className:"flexbox-fix"},l.createElement("div",{style:d.third},l.createElement(ue,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"r",value:a.r,onChange:u})),l.createElement("div",{style:d.third},l.createElement(ue,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"g",value:a.g,onChange:u})),l.createElement("div",{style:d.third},l.createElement(ue,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"b",value:a.b,onChange:u})))))};it(X_);var K_=function(t){var n=t.onChange,r=t.rgb,a=t.hsv,i=t.hex,o=le({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(d,u){d["#"]?fn(d["#"])&&n({hex:d["#"],source:"hex"},u):d.r||d.g||d.b?n({r:d.r||r.r,g:d.g||r.g,b:d.b||r.b,source:"rgb"},u):(d.h||d.s||d.v)&&n({h:d.h||a.h,s:d.s||a.s,v:d.v||a.v,source:"hsv"},u)};return l.createElement("div",{style:o.fields},l.createElement(ue,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(a.h),onChange:s}),l.createElement(ue,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(a.s*100),onChange:s}),l.createElement(ue,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(a.v*100),onChange:s}),l.createElement("div",{style:o.divider}),l.createElement(ue,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),l.createElement(ue,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),l.createElement(ue,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}),l.createElement("div",{style:o.divider}),l.createElement(ue,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:i.replace("#",""),onChange:s}),l.createElement("div",{style:o.fieldSymbols},l.createElement("div",{style:o.symbol},"°"),l.createElement("div",{style:o.symbol},"%"),l.createElement("div",{style:o.symbol},"%")))},Z_=function(t){var n=t.hsl,r=le({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return l.createElement("div",{style:r.picker})},Q_=function(){var t=le({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return l.createElement("div",{style:t.pointer},l.createElement("div",{style:t.left},l.createElement("div",{style:t.leftInside})),l.createElement("div",{style:t.right},l.createElement("div",{style:t.rightInside})))},ku=function(t){var n=t.onClick,r=t.label,a=t.children,i=t.active,o=le({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return l.createElement("div",{style:o.button,onClick:n},r||a)},J_=function(t){var n=t.rgb,r=t.currentColor,a=le({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return l.createElement("div",null,l.createElement("div",{style:a.label},"new"),l.createElement("div",{style:a.swatches},l.createElement("div",{style:a.new}),l.createElement("div",{style:a.current})),l.createElement("div",{style:a.label},"current"))},q_=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function eO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function nO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Vl=function(e){nO(t,e);function t(n){eO(this,t);var r=tO(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={currentColor:n.hex},r}return q_(t,[{key:"render",value:function(){var r=this.props,a=r.styles,i=a===void 0?{}:a,o=r.className,s=o===void 0?"":o,c=le(at({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},i));return l.createElement("div",{style:c.picker,className:"photoshop-picker "+s},l.createElement("div",{style:c.head},this.props.header),l.createElement("div",{style:c.body,className:"flexbox-fix"},l.createElement("div",{style:c.saturation},l.createElement(Io,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Z_,onChange:this.props.onChange})),l.createElement("div",{style:c.hue},l.createElement(Hr,{direction:"vertical",hsl:this.props.hsl,pointer:Q_,onChange:this.props.onChange})),l.createElement("div",{style:c.controls},l.createElement("div",{style:c.top,className:"flexbox-fix"},l.createElement("div",{style:c.previews},l.createElement(J_,{rgb:this.props.rgb,currentColor:this.state.currentColor})),l.createElement("div",{style:c.actions},l.createElement(ku,{label:"OK",onClick:this.props.onAccept,active:!0}),l.createElement(ku,{label:"Cancel",onClick:this.props.onCancel}),l.createElement(K_,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(l.Component);Vl.propTypes={header:Q.string,styles:Q.object};Vl.defaultProps={header:"Color Picker",styles:{}};it(Vl);var rO=function(t){var n=t.onChange,r=t.rgb,a=t.hsl,i=t.hex,o=t.disableAlpha,s=le({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),c=function(u,f){u.hex?fn(u.hex)&&n({hex:u.hex,source:"hex"},f):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},f):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:a.h,s:a.s,l:a.l,a:u.a,source:"rgb"},f))};return l.createElement("div",{style:s.fields,className:"flexbox-fix"},l.createElement("div",{style:s.double},l.createElement(ue,{style:{input:s.input,label:s.label},label:"hex",value:i.replace("#",""),onChange:c})),l.createElement("div",{style:s.single},l.createElement(ue,{style:{input:s.input,label:s.label},label:"r",value:r.r,onChange:c,dragLabel:"true",dragMax:"255"})),l.createElement("div",{style:s.single},l.createElement(ue,{style:{input:s.input,label:s.label},label:"g",value:r.g,onChange:c,dragLabel:"true",dragMax:"255"})),l.createElement("div",{style:s.single},l.createElement(ue,{style:{input:s.input,label:s.label},label:"b",value:r.b,onChange:c,dragLabel:"true",dragMax:"255"})),l.createElement("div",{style:s.alpha},l.createElement(ue,{style:{input:s.input,label:s.label},label:"a",value:Math.round(r.a*100),onChange:c,dragLabel:"true",dragMax:"100"})))},aO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L0=function(t){var n=t.colors,r=t.onClick,a=r===void 0?function(){}:r,i=t.onSwatchHover,o=le({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),s=function(d,u){a({hex:d,source:"hex"},u)};return l.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(c){var d=typeof c=="string"?{color:c}:c,u=""+d.color+(d.title||"");return l.createElement("div",{key:u,style:o.swatchWrap},l.createElement(jn,aO({},d,{style:o.swatch,onClick:s,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+d.color}})))}))};L0.propTypes={colors:Q.arrayOf(Q.oneOfType([Q.string,Q.shape({color:Q.string,title:Q.string})])).isRequired};var iO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wl=function(t){var n=t.width,r=t.rgb,a=t.hex,i=t.hsv,o=t.hsl,s=t.onChange,c=t.onSwatchHover,d=t.disableAlpha,u=t.presetColors,f=t.renderers,h=t.styles,g=h===void 0?{}:h,v=t.className,p=v===void 0?"":v,m=le(at({default:iO({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},g),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},g),{disableAlpha:d});return l.createElement("div",{style:m.picker,className:"sketch-picker "+p},l.createElement("div",{style:m.saturation},l.createElement(Io,{style:m.Saturation,hsl:o,hsv:i,onChange:s})),l.createElement("div",{style:m.controls,className:"flexbox-fix"},l.createElement("div",{style:m.sliders},l.createElement("div",{style:m.hue},l.createElement(Hr,{style:m.Hue,hsl:o,onChange:s})),l.createElement("div",{style:m.alpha},l.createElement(Ml,{style:m.Alpha,rgb:r,hsl:o,renderers:f,onChange:s}))),l.createElement("div",{style:m.color},l.createElement(Fr,null),l.createElement("div",{style:m.activeColor}))),l.createElement(rO,{rgb:r,hsl:o,hex:a,onChange:s,disableAlpha:d}),l.createElement(L0,{colors:u,onClick:s,onSwatchHover:c}))};Wl.propTypes={disableAlpha:Q.bool,width:Q.oneOfType([Q.string,Q.number]),styles:Q.object};Wl.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};it(Wl);var ea=function(t){var n=t.hsl,r=t.offset,a=t.onClick,i=a===void 0?function(){}:a,o=t.active,s=t.first,c=t.last,d=le({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:s,last:c}),u=function(h){return i({h:n.h,s:.5,l:r,source:"hsl"},h)};return l.createElement("div",{style:d.swatch,onClick:u})},oO=function(t){var n=t.onClick,r=t.hsl,a=le({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return l.createElement("div",{style:a.swatches},l.createElement("div",{style:a.swatch},l.createElement(ea,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<i&&Math.abs(r.s-.5)<i,onClick:n,first:!0})),l.createElement("div",{style:a.swatch},l.createElement(ea,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<i&&Math.abs(r.s-.5)<i,onClick:n})),l.createElement("div",{style:a.swatch},l.createElement(ea,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<i&&Math.abs(r.s-.5)<i,onClick:n})),l.createElement("div",{style:a.swatch},l.createElement(ea,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<i&&Math.abs(r.s-.5)<i,onClick:n})),l.createElement("div",{style:a.swatch},l.createElement(ea,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<i&&Math.abs(r.s-.5)<i,onClick:n,last:!0})),l.createElement("div",{style:a.clear}))},sO=function(){var t=le({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return l.createElement("div",{style:t.picker})},Gl=function(t){var n=t.hsl,r=t.onChange,a=t.pointer,i=t.styles,o=i===void 0?{}:i,s=t.className,c=s===void 0?"":s,d=le(at({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return l.createElement("div",{style:d.wrap||{},className:"slider-picker "+c},l.createElement("div",{style:d.hue},l.createElement(Hr,{style:d.Hue,hsl:n,pointer:a,onChange:r})),l.createElement("div",{style:d.swatches},l.createElement(oO,{hsl:n,onClick:r})))};Gl.propTypes={styles:Q.object};Gl.defaultProps={pointer:sO,styles:{}};it(Gl);var j0={};Object.defineProperty(j0,"__esModule",{value:!0});var Bu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lO=I,Fu=cO(lO);function cO(e){return e&&e.__esModule?e:{default:e}}function dO(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var oi=24,uO=j0.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,a=r===void 0?oi:r,i=e.height,o=i===void 0?oi:i,s=e.style,c=s===void 0?{}:s,d=dO(e,["fill","width","height","style"]);return Fu.default.createElement("svg",Bu({viewBox:"0 0 "+oi+" "+oi,style:Bu({fill:n,width:a,height:o},c)},d),Fu.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},fO=function(t){var n=t.color,r=t.onClick,a=r===void 0?function(){}:r,i=t.onSwatchHover,o=t.first,s=t.last,c=t.active,d=le({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:zl(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:s,active:c,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return l.createElement(jn,{color:n,style:d.color,onClick:a,onHover:i,focusStyle:{boxShadow:"0 0 4px "+n}},l.createElement("div",{style:d.check},l.createElement(uO,null)))},hO=function(t){var n=t.onClick,r=t.onSwatchHover,a=t.group,i=t.active,o=le({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return l.createElement("div",{style:o.group},kn(a,function(s,c){return l.createElement(fO,{key:s,color:s,active:s.toLowerCase()===i,first:c===0,last:c===a.length-1,onClick:n,onSwatchHover:r})}))},Ul=function(t){var n=t.width,r=t.height,a=t.onChange,i=t.onSwatchHover,o=t.colors,s=t.hex,c=t.styles,d=c===void 0?{}:c,u=t.className,f=u===void 0?"":u,h=le(at({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},d)),g=function(p,m){return a({hex:p,source:"hex"},m)};return l.createElement("div",{style:h.picker,className:"swatches-picker "+f},l.createElement(Fa,null,l.createElement("div",{style:h.overflow},l.createElement("div",{style:h.body},kn(o,function(v){return l.createElement(hO,{key:v.toString(),group:v,active:s,onClick:g,onSwatchHover:i})}),l.createElement("div",{style:h.clear})))))};Ul.propTypes={width:Q.oneOfType([Q.string,Q.number]),height:Q.oneOfType([Q.string,Q.number]),colors:Q.arrayOf(Q.arrayOf(Q.string)),styles:Q.object};Ul.defaultProps={width:320,height:240,colors:[[lr[900],lr[700],lr[500],lr[300],lr[100]],[cr[900],cr[700],cr[500],cr[300],cr[100]],[dr[900],dr[700],dr[500],dr[300],dr[100]],[ur[900],ur[700],ur[500],ur[300],ur[100]],[fr[900],fr[700],fr[500],fr[300],fr[100]],[hr[900],hr[700],hr[500],hr[300],hr[100]],[gr[900],gr[700],gr[500],gr[300],gr[100]],[pr[900],pr[700],pr[500],pr[300],pr[100]],[vr[900],vr[700],vr[500],vr[300],vr[100]],["#194D33",va[700],va[500],va[300],va[100]],[mr[900],mr[700],mr[500],mr[300],mr[100]],[br[900],br[700],br[500],br[300],br[100]],[yr[900],yr[700],yr[500],yr[300],yr[100]],[wr[900],wr[700],wr[500],wr[300],wr[100]],[xr[900],xr[700],xr[500],xr[300],xr[100]],[Er[900],Er[700],Er[500],Er[300],Er[100]],[Sr[900],Sr[700],Sr[500],Sr[300],Sr[100]],[Cr[900],Cr[700],Cr[500],Cr[300],Cr[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};it(Ul);var Yl=function(t){var n=t.onChange,r=t.onSwatchHover,a=t.hex,i=t.colors,o=t.width,s=t.triangle,c=t.styles,d=c===void 0?{}:c,u=t.className,f=u===void 0?"":u,h=le(at({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},d),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),g=function(p,m){fn(p)&&n({hex:p,source:"hex"},m)};return l.createElement("div",{style:h.card,className:"twitter-picker "+f},l.createElement("div",{style:h.triangleShadow}),l.createElement("div",{style:h.triangle}),l.createElement("div",{style:h.body},kn(i,function(v,p){return l.createElement(jn,{key:p,color:v,hex:v,style:h.swatch,onClick:g,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),l.createElement("div",{style:h.hash},"#"),l.createElement(ue,{label:null,style:{input:h.input},value:a.replace("#",""),onChange:g}),l.createElement("div",{style:h.clear})))};Yl.propTypes={width:Q.oneOfType([Q.string,Q.number]),triangle:Q.oneOf(["hide","top-left","top-right"]),colors:Q.arrayOf(Q.string),styles:Q.object};Yl.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};it(Yl);var Xl=function(t){var n=le({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return l.createElement("div",{style:n.picker})};Xl.propTypes={hsl:Q.shape({h:Q.number,s:Q.number,l:Q.number,a:Q.number})};Xl.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Kl=function(t){var n=le({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return l.createElement("div",{style:n.picker})};Kl.propTypes={hsl:Q.shape({h:Q.number,s:Q.number,l:Q.number,a:Q.number})};Kl.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var gO=function(t){var n=t.onChange,r=t.rgb,a=t.hsl,i=t.hex,o=t.hsv,s=function(g,v){if(g.hex)fn(g.hex)&&n({hex:g.hex,source:"hex"},v);else if(g.rgb){var p=g.rgb.split(",");ps(g.rgb,"rgb")&&n({r:p[0],g:p[1],b:p[2],a:1,source:"rgb"},v)}else if(g.hsv){var m=g.hsv.split(",");ps(g.hsv,"hsv")&&(m[2]=m[2].replace("%",""),m[1]=m[1].replace("%",""),m[0]=m[0].replace("°",""),m[1]==1?m[1]=.01:m[2]==1&&(m[2]=.01),n({h:Number(m[0]),s:Number(m[1]),v:Number(m[2]),source:"hsv"},v))}else if(g.hsl){var b=g.hsl.split(",");ps(g.hsl,"hsl")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsl"},v))}},c=le({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),d=r.r+", "+r.g+", "+r.b,u=Math.round(a.h)+"°, "+Math.round(a.s*100)+"%, "+Math.round(a.l*100)+"%",f=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return l.createElement("div",{style:c.wrap,className:"flexbox-fix"},l.createElement("div",{style:c.fields},l.createElement("div",{style:c.double},l.createElement(ue,{style:{input:c.input,label:c.label},label:"hex",value:i,onChange:s})),l.createElement("div",{style:c.column},l.createElement("div",{style:c.single},l.createElement(ue,{style:{input:c.input2,label:c.label2},label:"rgb",value:d,onChange:s})),l.createElement("div",{style:c.single},l.createElement(ue,{style:{input:c.input2,label:c.label2},label:"hsv",value:f,onChange:s})),l.createElement("div",{style:c.single},l.createElement(ue,{style:{input:c.input2,label:c.label2},label:"hsl",value:u,onChange:s})))))},Zl=function(t){var n=t.width,r=t.onChange,a=t.rgb,i=t.hsl,o=t.hsv,s=t.hex,c=t.header,d=t.styles,u=d===void 0?{}:d,f=t.className,h=f===void 0?"":f,g=le(at({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+a.r+", "+a.g+", "+a.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return l.createElement("div",{style:g.picker,className:"google-picker "+h},l.createElement("div",{style:g.head},c),l.createElement("div",{style:g.swatch}),l.createElement("div",{style:g.saturation},l.createElement(Io,{hsl:i,hsv:o,pointer:Xl,onChange:r})),l.createElement("div",{style:g.body},l.createElement("div",{style:g.controls,className:"flexbox-fix"},l.createElement("div",{style:g.hue},l.createElement(Hr,{style:g.Hue,hsl:i,radius:"4px",pointer:Kl,onChange:r}))),l.createElement(gO,{rgb:a,hsl:i,hex:s,hsv:o,onChange:r})))};Zl.propTypes={width:Q.oneOfType([Q.string,Q.number]),styles:Q.object,header:Q.string};Zl.defaultProps={width:652,styles:{},header:"Color picker"};it(Zl);function pO(e){let t=e.toLocaleUpperCase();const n={r:0,g:0,b:0,a:1};return/^\#[0-9a-f]{3,3}$/i.test(t)?t=`#${t[1]}${t[1]}${t[2]}${t[2]}${t[3]}${t[3]}FF`:/^\#[0-9a-f]{6,6}$/i.test(t)&&(t=`${t}FF`),/^\#[0-9a-f]{8,8}$/i.test(t)&&(n.r=parseInt(`${t[1]}${t[2]}`,16),n.g=parseInt(`${t[3]}${t[4]}`,16),n.b=parseInt(`${t[5]}${t[6]}`,16),n.a=parseInt(`${t[7]}${t[8]}`,16)/255),n}function vO(e){const t=[];return t.push(e.r.toString(16).padStart(2,"0").toLocaleUpperCase()),t.push(e.g.toString(16).padStart(2,"0").toLocaleUpperCase()),t.push(e.b.toString(16).padStart(2,"0").toLocaleUpperCase()),e.a<1&&t.push(Math.floor(e.a*255).toString(16).padStart(2,"0").toLocaleUpperCase()),`#${t.join("")}`}const mO=({value:e="",onChange:t,className:n})=>l.createElement(F_,{className:n,color:pO(e),onChangeComplete:r=>{const a=vO(r==null?void 0:r.rgb);t==null||t(a)}}),tt="base-element-field-multiple-color-picker",k0=16,Hu=e=>{var t,n;const r=(t=e.currentTarget.parentElement)===null||t===void 0?void 0:t.getBoundingClientRect(),a=e.currentTarget.getBoundingClientRect(),i=e.clientX-r.x-k0/2;let o=parseFloat((n=i/a.width)===null||n===void 0?void 0:n.toFixed(2));return o=Math.min(Math.max(o,0),1),o};function bO(e){const{mode:t,value:n,internalColor:r,internalLinearGradient:a,internalRadialGradient:i,currentPickedColor:o,onChange:s,onSelectStop:c}=e,[d,u]=I.useState(Vi(n)),[f,h]=I.useState(null),g=I.useRef(!1),v=Y(tt,"gradient-root"),p=Y(tt,"gradient-delete"),m=Y(tt,"gradient"),b=Y(tt,"gradient-bar"),x=Y(tt,"gradient-point"),w=Y(tt,"gradient-point-active");I.useEffect(()=>{var D;const V=Vi(n);u(V),["linear-gradient","radial-gradient"].includes(n==null?void 0:n.type)&&(f||h((D=n==null?void 0:n.stops)===null||D===void 0?void 0:D[0]))},[n]),I.useEffect(()=>{f?c==null||c(Object.assign({},f)):c==null||c(f)},[f]);const y=D=>{D.stopPropagation(),g.current=!0;const V=Hu(D);let z=null;if(t==="linear-gradient"?z=a:t==="radial-gradient"&&(z=i),z){const C=[...z.stops];for(let G=0;G<C.length;G++){const $=C[G],S=C[G+1],F={offset:V,color:o};if($.offset===V)break;if(V<$.offset){C.unshift(F),h(F);break}else if($.offset<V&&V<(S==null?void 0:S.offset)){C.splice(G+1,0,F),h(F);break}else if(V>$.offset&&!S){C.push(F),h(F);break}if(!S)break}const L=Object.assign(Object.assign({},z),{stops:C});s==null||s(L)}},_=D=>{if(g.current===!0&&f){const V=Hu(D);let z=null;if(t==="linear-gradient"?z=a:t==="radial-gradient"&&(z=i),z){const C=[...z.stops];for(let $=0;$<C.length;$++){const S=C[$];if(S.offset===f.offset){S.offset=V,h(Object.assign({},S));break}}const L=C.sort(($,S)=>$.offset-S.offset),G=Object.assign(Object.assign({},z),{stops:L});s==null||s(G)}}},E=D=>{D.stopPropagation(),g.current=!1},T=(D,V)=>{D.stopPropagation(),h(V),g.current=!0},P=()=>{let D=null;t==="linear-gradient"?D=a:t==="radial-gradient"&&(D=i);let V=-1;if(D&&f){const z=[...D.stops];for(let C=0;C<z.length;C++)if(z[C].offset===f.offset){V=C;break}if(V>=0){z.splice(V,1);const C=Object.assign(Object.assign({},D),{stops:z});s==null||s(C)}}},j=()=>{g.current=!1};return I.useMemo(()=>{var D,V,z;return l.createElement(l.Fragment,null,(t==="linear-gradient"||t==="radial-gradient")&&l.createElement("div",{className:v},l.createElement("div",{className:m,"data-css":d,style:{background:d}},l.createElement("div",{className:b,onMouseDown:y,onMouseUp:E,onMouseMove:_,onMouseLeave:E},(z=(V=(D=t==="linear-gradient"?a:i)===null||D===void 0?void 0:D.stops)===null||V===void 0?void 0:V.map)===null||z===void 0?void 0:z.call(V,(C,L)=>l.createElement("span",{key:L,className:he({[x]:!0,[w]:(f==null?void 0:f.offset)===C.offset}),style:{left:`calc(${C.offset*100}% - ${k0/2}px)`,background:C.color},onMouseDown:G=>{T(G,C)},onMouseUp:j})))),l.createElement("div",{className:p,onClick:C=>{C.stopPropagation(),P()}},l.createElement(vm,null))))},[t,d,o,r,a,i,f])}function Vu(e){let t="solid";return e&&(e!=null&&e.type)&&(t=e.type),t}function yO(e){const{value:t,onChange:n,elementSize:r,disabledLinearGradient:a,disabledRadialGradient:i}=e,[o,s]=I.useState(Vi(t)),[c,d]=I.useState(Vu(t)),[u,f]=I.useState("#000000"),[h,g]=I.useState(null),[v,p]=I.useState(null),[m,b]=I.useState(null),x=I.useRef(null),w=I.useRef(null),y=I.useRef(null),_=Y(tt),E=Y(tt,"header"),T=Y(tt,"internal-picker"),P=Y(tt,"radio-group"),j=Y(tt,"row"),D=Y(tt,"col"),V=Y(tt,"input"),z=Y(tt,"form-item");I.useEffect(()=>{s(Vi(t)),d(Vu(t)),typeof t=="string"?(g(t),f(t)):(t==null?void 0:t.type)==="linear-gradient"?p(t):(t==null?void 0:t.type)==="radial-gradient"&&b(t)},[t]),I.useEffect(()=>{var S,F;c==="linear-gradient"&&(t==null?void 0:t.type)===c?(S=w.current)===null||S===void 0||S.setFieldsValue(t):c==="radial-gradient"&&(t==null?void 0:t.type)===c&&((F=y.current)===null||F===void 0||F.setFieldsValue(t))},[c,t]);const C=S=>{var F,O,B,W,A,H;let X;S==="linear-gradient"?(X={type:"linear-gradient",start:{x:0,y:0},end:{x:0,y:(r==null?void 0:r.h)||0},stops:[]},typeof t=="string"?(X.stops=[{offset:0,color:t},{offset:.5,color:t},{offset:1,color:t}],p(X)):(t==null?void 0:t.type)==="radial-gradient"&&(X.stops=[...(t==null?void 0:t.stops)||[]],p(X)),(F=w.current)===null||F===void 0||F.setFieldsValue(X)):S==="radial-gradient"?(X={type:"radial-gradient",inner:{x:((r==null?void 0:r.w)||0)/2,y:((r==null?void 0:r.h)||0)/2,radius:0},outer:{x:((r==null?void 0:r.w)||0)/2,y:((r==null?void 0:r.h)||0)/2,radius:Math.min(((r==null?void 0:r.w)||0)/2,((r==null?void 0:r.h)||0)/2)},stops:[]},typeof t=="string"?(X.stops=[{offset:0,color:t},{offset:.5,color:t},{offset:1,color:t}],b(X)):(t==null?void 0:t.type)==="linear-gradient"&&(X.stops=[...(t==null?void 0:t.stops)||[]],b(X)),(O=y.current)===null||O===void 0||O.setFieldsValue(X)):S==="solid"&&(X=t,(t==null?void 0:t.type)==="linear-gradient"?(X=((W=(B=t==null?void 0:t.stops)===null||B===void 0?void 0:B[0])===null||W===void 0?void 0:W.color)||"#000000",g(X)):(t==null?void 0:t.type)==="radial-gradient"&&(X=((H=(A=t==null?void 0:t.stops)===null||A===void 0?void 0:A[0])===null||H===void 0?void 0:H.color)||"#000000",g(X))),X&&(n==null||n(X))},L=S=>{if(c==="solid")n==null||n(S.color);else if(x.current){if(c==="linear-gradient"&&v&&Array.isArray(v==null?void 0:v.stops)){const F=[...v.stops];for(let B=0;B<F.length;B++)if(F[B].offset===x.current.offset){F[B].color=S.color;break}const O=Object.assign(Object.assign({},v),{stops:F});p(O),n==null||n(O)}else if(c==="radial-gradient"&&m&&Array.isArray(m==null?void 0:m.stops)){const F=[...m.stops];for(let B=0;B<F.length;B++)if(F[B].offset===x.current.offset){F[B].color=S.color;break}const O=Object.assign(Object.assign({},m),{stops:F});b(O),n==null||n(O)}}},G=S=>{const F=Object.assign({},v);S!=null&&S.start&&(F.start=Object.assign(Object.assign({},F.start),S.start)),S!=null&&S.end&&(F.end=Object.assign(Object.assign({},F.end),S.end)),n==null||n(F)},$=S=>{const F=Object.assign({},m);S!=null&&S.inner&&(F.inner=Object.assign(Object.assign({},F.inner),S.inner)),S!=null&&S.outer&&(F.outer=Object.assign(Object.assign({},F.outer),S.outer)),n==null||n(F)};return I.useMemo(()=>l.createElement("div",{className:_},!a&&!i&&l.createElement("div",{className:E},l.createElement(ht.Group,{className:P,size:"small",buttonStyle:"solid",value:c,onChange:({target:{value:S}})=>{C(S)}},l.createElement(ht.Button,{value:"solid"},l.createElement(Om,null)),!a&&l.createElement(ht.Button,{value:"linear-gradient"},l.createElement(Mm,null)),!i&&l.createElement(ht.Button,{value:"radial-gradient"},l.createElement(mm,null)))),!a&&c==="linear-gradient"&&l.createElement("div",{style:{marginBottom:10}},l.createElement(te,{ref:w,onValuesChange:G},l.createElement(fe,{className:j},l.createElement(ee,{className:D,span:"4"},"Start"),l.createElement(ee,{className:D,span:"10"},l.createElement(te.Item,{className:z,name:["start","x"]},l.createElement(ce,{className:V,size:"small",prefix:"X"}))),l.createElement(ee,{className:D,span:"10"},l.createElement(te.Item,{className:z,name:["start","y"]},l.createElement(ce,{className:V,size:"small",prefix:"Y"})))),l.createElement(fe,{className:j},l.createElement(ee,{className:D,span:"4"},"End"),l.createElement(ee,{className:D,span:"10"},l.createElement(te.Item,{className:z,name:["end","x"]},l.createElement(ce,{className:V,size:"small",prefix:"X"}))),l.createElement(ee,{className:D,span:"10"},l.createElement(te.Item,{className:z,name:["end","y"]},l.createElement(ce,{className:V,size:"small",prefix:"Y"})))))),!i&&c==="radial-gradient"&&l.createElement("div",{style:{marginBottom:10}},l.createElement(te,{ref:y,onValuesChange:$},l.createElement(fe,{className:j},l.createElement(ee,{className:D,span:"4"},"Inner"),l.createElement(ee,{className:D,span:"10"},l.createElement(te.Item,{className:z,name:["inner","x"]},l.createElement(ce,{className:V,size:"small",prefix:"X"}))),l.createElement(ee,{className:D,span:"10"},l.createElement(te.Item,{className:z,name:["inner","y"]},l.createElement(ce,{className:V,size:"small",prefix:"Y"})))),l.createElement(fe,{className:j},l.createElement(ee,{className:D,span:"4"}),l.createElement(ee,{className:D,span:"10"},l.createElement(te.Item,{className:z,name:["inner","radius"]},l.createElement(ce,{className:V,size:"small",prefix:"R"})))),l.createElement(fe,{className:j},l.createElement(ee,{className:D,span:"4"},"Outer"),l.createElement(ee,{className:D,span:"10"},l.createElement(te.Item,{className:z,name:["outer","x"]},l.createElement(ce,{className:V,size:"small",prefix:"X"}))),l.createElement(ee,{className:D,span:"10"},l.createElement(te.Item,{className:z,name:["outer","y"]},l.createElement(ce,{className:V,size:"small",prefix:"Y"})))),l.createElement(fe,{className:j},l.createElement(ee,{className:D,span:"4"}),l.createElement(ee,{className:D,span:"10"},l.createElement(te.Item,{className:z,name:["outer","radius"]},l.createElement(ce,{className:V,size:"small",prefix:"R"})))))),(!a||!i)&&(c==="linear-gradient"||c==="radial-gradient")&&l.createElement(bO,{mode:c,value:t,currentPickedColor:u,internalColor:h,internalLinearGradient:v,internalRadialGradient:m,onChange:S=>{(S==null?void 0:S.type)==="linear-gradient"?(p(S),n==null||n(S)):(S==null?void 0:S.type)==="radial-gradient"&&(b(S),n==null||n(S))},onSelectStop:S=>{S!=null&&S.color&&f(S.color),x.current=S}}),l.createElement(mO,{value:u,className:T,onChange:S=>{f(S),L({color:S})}})),[c,o,h,v,m,u,a,i])}const Wu="base-element-field-multiple-color";function Ha(e){const{value:t,onChange:n,disabled:r,elementSize:a,disabledLinearGradient:i,disabledRadialGradient:o}=e,s=$n(),d=(m=>{let b="";return typeof m=="string"?b=m:["linear-gradient","radial-gradient"].includes(m==null?void 0:m.type)&&(b=s.gradient),b})(t),u=typeof t=="string",f=I.useRef(null),{container:h}=I.useContext(Aa),g=Y(Wu),v=Y(Wu,"preview"),p=()=>h||document.body;return I.useMemo(()=>{const m=Cg(t||"transparent");return l.createElement(l.Fragment,null,l.createElement(cn,{className:g,size:"small",disabled:r,prefix:r?l.createElement("span",null):l.createElement(qu,{placement:"left",content:l.createElement(yO,{value:t,elementSize:a,disabledLinearGradient:i,disabledRadialGradient:o,onChange:n}),trigger:"click",getPopupContainer:p,getTooltipContainer:p},l.createElement("span",{className:v,style:{background:m}})),readOnly:!u,value:d,onChange:b=>{n==null||n(b.target.value)}}),l.createElement("div",{ref:f}))},[t,n,r,a])}const ms=e=>l.createElement(ie,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M512 384a42.666667 42.666667 0 1 0-42.666667-42.666667 42.666667 42.666667 0 0 0 42.666667 42.666667z m0 170.666667a42.666667 42.666667 0 1 0-42.666667-42.666667 42.666667 42.666667 0 0 0 42.666667 42.666667z m170.666667 0a42.666667 42.666667 0 1 0-42.666667-42.666667 42.666667 42.666667 0 0 0 42.666667 42.666667z m-170.666667 170.666666a42.666667 42.666667 0 1 0-42.666667-42.666666 42.666667 42.666667 0 0 0 42.666667 42.666666z m341.333333-597.333333H170.666667a42.666667 42.666667 0 0 0-42.666667 42.666667v682.666666a42.666667 42.666667 0 0 0 42.666667 42.666667h682.666666a42.666667 42.666667 0 0 0 42.666667-42.666667V170.666667a42.666667 42.666667 0 0 0-42.666667-42.666667z m-42.666666 682.666667H213.333333V213.333333h597.333334zM341.333333 554.666667a42.666667 42.666667 0 1 0-42.666666-42.666667 42.666667 42.666667 0 0 0 42.666666 42.666667z"}))),ta="base-element-border-attribute",Qs=4;function na(e){const{borderRadius:t,borderWidth:n,borderColor:r,boxSizing:a,borderDash:i}=(e==null?void 0:e.detail)||{};let o="solid",s=Qs;Array.isArray(i)&&(i==null?void 0:i.length)>0&&i[0]>=1&&typeof n=="number"&&(o="dash",s=Math.ceil(i[0]));const c={borderRadiusList:[0,0,0,0],borderWidthList:[0,0,0,0],borderColor:r,borderType:o,boxSizing:a,borderDashNum:s};return typeof t=="number"?(c.borderRadius=t,c.borderRadiusList=[t,t,t,t]):Array.isArray(t)?c.borderRadiusList=[t[0]||0,t[1]||0,t[2]||0,t[3]||0]:c.borderRadius=0,typeof n=="number"?(c.borderWidth=n,c.borderWidthList=[n,n,n,n]):Array.isArray(n)?c.borderWidthList=[n[0]||0,n[1]||0,n[2]||0,n[3]||0]:c.borderWidth=0,c}const wO=e=>{var t,n;const{className:r,style:a,element:i,disabled:o,onChange:s}=e,c=I.useRef(null),d=Y(ta),u=Y(ta,"row"),f=Y(ta,"col"),h=Y(ta,"input"),g=Y(ta,"form-item"),[v,p]=I.useState(Array.isArray((t=i==null?void 0:i.detail)===null||t===void 0?void 0:t.borderRadius)),[m,b]=I.useState(Array.isArray((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.borderWidth)),[x,w]=I.useState(m),y=$n(),_=E=>{var T,P;const j=na(i),{borderColor:D,boxSizing:V,borderType:z,borderDashNum:C}=E,L={};if(D&&(L.borderColor=D),V&&(L.boxSizing=V),m===!0&&E.borderWidthList){const G=[0,0,0,0],$=Array.from((E==null?void 0:E.borderWidthList)||[null,null,null,null]);for(let S=0;S<4;S++){const F=$[S];typeof F=="number"?G[S]=F:G[S]=((T=j==null?void 0:j.borderWidthList)===null||T===void 0?void 0:T[S])||0,L.borderWidth=G}}else typeof E.borderWidth=="number"&&(L.borderWidth=E.borderWidth);if(v===!0&&E.borderRadiusList){const G=[0,0,0,0],$=Array.from((E==null?void 0:E.borderRadiusList)||[null,null,null,null]);for(let S=0;S<4;S++){const F=$[S];typeof F=="number"?G[S]=F:G[S]=((P=j==null?void 0:j.borderRadiusList)===null||P===void 0?void 0:P[S])||0,L.borderRadius=G}}else typeof E.borderRadius=="number"&&(L.borderRadius=E.borderRadius);m===!0?L.borderDash=[]:z==="solid"?L.borderDash=[]:z==="dash"?L.borderDash=[Qs,Qs]:C&&C>0&&(L.borderDash=[C,C]),s==null||s({detail:L})};return I.useEffect(()=>{var E,T,P;const j=Array.isArray((E=i==null?void 0:i.detail)===null||E===void 0?void 0:E.borderWidth),D=Array.isArray((T=i==null?void 0:i.detail)===null||T===void 0?void 0:T.borderRadius);b(j),p(D),w(j);const V=na(i);(P=c.current)===null||P===void 0||P.setFieldsValue(V)},[i]),I.useMemo(()=>{const E=na(i);return l.createElement(te,{ref:c,style:a,className:he(d,r),onValuesChange:_},l.createElement(l.Fragment,null,l.createElement(fe,{className:u},l.createElement(ee,{span:16,className:f},m?l.createElement(cn,{className:h,size:"small",prefix:l.createElement(ms,{style:{fontSize:14}}),disabled:!0,value:y.mixedBorderWidth}):l.createElement(te.Item,{className:g,name:"borderWidth"},l.createElement(ce,{className:h,size:"small",min:0,placeholder:"Border Width",prefix:l.createElement(ms,{style:{fontSize:14}}),disabled:o||m}))),l.createElement(ee,{span:4,className:f},l.createElement(Ve,{icon:l.createElement(ms,null),size:"small",disabled:o,type:m?"primary":"default",onClick:()=>{var T;const P=!m;if(b(P),w(P),!P){const j=na(i),D=j.borderWidth||((T=j.borderWidthList)===null||T===void 0?void 0:T[0])||0;_({borderWidth:D})}}}))),m&&l.createElement(l.Fragment,null,l.createElement(fe,{className:u},l.createElement(ee,{span:12,className:f},l.createElement(te.Item,{className:g,name:["borderWidthList",0]},l.createElement(ce,{className:h,size:"small",prefix:l.createElement(dm,null),disabled:o||!m,min:0}))),l.createElement(ee,{span:12,className:f},l.createElement(te.Item,{className:g,name:["borderWidthList",1]},l.createElement(ce,{className:h,size:"small",prefix:l.createElement(cm,null),disabled:o||!m,min:0})))),l.createElement(fe,{className:u},l.createElement(ee,{span:12,className:f},l.createElement(te.Item,{className:g,name:["borderWidthList",2]},l.createElement(ce,{className:h,size:"small",prefix:l.createElement(om,null),disabled:o||!m,min:0}))),l.createElement(ee,{span:12,className:f},l.createElement(te.Item,{className:g,name:["borderWidthList",3]},l.createElement(ce,{className:h,size:"small",prefix:l.createElement(lm,null),disabled:o||!m,min:0})))))),!["circle"].includes(i==null?void 0:i.type)&&l.createElement(l.Fragment,null,l.createElement(fe,{className:u},l.createElement(ee,{span:16,className:f},v?l.createElement(cn,{className:h,size:"small",prefix:l.createElement(rd,{style:{fontSize:14}}),disabled:!0,value:y.mixedBorderRadius}):l.createElement(te.Item,{className:g,name:"borderRadius"},l.createElement(ce,{className:h,size:"small",placeholder:"Radius",prefix:l.createElement(rd,{style:{fontSize:14}}),disabled:o||v||x,min:0}))),l.createElement(ee,{span:4,className:f},l.createElement(Ve,{icon:l.createElement(xm,null),size:"small",disabled:o||x,type:v?"primary":"default",onClick:()=>{var T;const P=!v;if(p(P),!P){const j=na(i),D=j.borderRadius||((T=j.borderRadiusList)===null||T===void 0?void 0:T[0])||0;_({borderRadius:D})}}}))),v&&l.createElement(l.Fragment,null,l.createElement(fe,{className:u},l.createElement(ee,{span:12,className:f},l.createElement(te.Item,{className:g,name:["borderRadiusList",0]},l.createElement(ce,{className:h,size:"small",placeholder:"",prefix:l.createElement(gm,null),disabled:o||!v||x,min:0}))),l.createElement(ee,{span:12,className:f},l.createElement(te.Item,{className:g,name:["borderRadiusList",1]},l.createElement(ce,{className:h,size:"small",placeholder:"",prefix:l.createElement(pm,null),disabled:o||!v||x,min:0})))),l.createElement(fe,{className:u},l.createElement(ee,{span:12,className:f},l.createElement(te.Item,{className:g,name:["borderRadiusList",2]},l.createElement(ce,{className:h,size:"small",placeholder:"",prefix:l.createElement(fm,null),disabled:o||!v||x,min:0}))),l.createElement(ee,{span:12,className:f},l.createElement(te.Item,{className:g,name:["borderRadiusList",3]},l.createElement(ce,{className:h,size:"small",placeholder:"",prefix:l.createElement(hm,null),disabled:o||!v||x,min:0})))))),l.createElement(fe,{className:u},l.createElement(ee,{className:f,span:"11"},l.createElement(te.Item,{className:g,name:"boxSizing"},l.createElement(Ke,{size:"small",disabled:o},l.createElement(Ke.Option,{value:"border-box"},y.inside),l.createElement(Ke.Option,{value:"content-box"},y.outside),l.createElement(Ke.Option,{value:"center-line"},y.centerLine)))),l.createElement(ee,{className:f,span:"13"},l.createElement(te.Item,{className:g,name:"borderColor"},l.createElement(Ha,{elementSize:i?Oa(i):void 0,disabled:o,disabledLinearGradient:!0,disabledRadialGradient:!0})))),l.createElement(fe,{className:u},l.createElement(ee,{className:f,span:"11"},l.createElement(te.Item,{className:g,name:"borderType"},l.createElement(Ke,{size:"small",disabled:o||m},l.createElement(Ke.Option,{value:"solid"},y.solid),l.createElement(Ke.Option,{value:"dash"},y.dash)))),l.createElement(ee,{className:f,span:"13"},E.borderType==="dash"&&l.createElement(te.Item,{className:g,name:"borderDashNum"},l.createElement(ce,{disabled:o||m,className:h,size:"small",style:{width:"100%"},prefix:l.createElement(sm,{style:{fontSize:14}})})))))},[y,i,o,v,m,x])},xO="base-element-detail-circle",EO=e=>{const{className:t,style:n}=e,r=Y(xO);return I.useMemo(()=>l.createElement("div",{style:n,className:he(r,t)}),[n,t])};var SO=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})};const{TextArea:CO}=cn,Un="base-element-field-image-picker",{useCallback:Gu}=l,MO=["image/png","image/jpeg","image/jpg","image/png"],AO=({value:e="",onChange:t})=>{const[n,r]=I.useState(e),[a,i]=I.useState("free"),o=Y(Un),s=Y(Un,"box"),c=Y(Un,"entity"),d=Y(Un,"action"),u=Y(Un,"action-text"),f=Y(Un,"action-upload"),h=Gu(m=>{const b=m||"";let x=3;const w=300;return b.length>128&&(x=10),{rows:x,width:w}},[n]),g=m=>{t==null||t(m||e)},v=m=>{r(m),Te.imageSrc(m)&&g(m)},p=Gu(()=>{a!=="picking"&&(qs({success:m=>SO(void 0,void 0,void 0,function*(){if(MO.includes(m.file.type)!==!0){Bi.error(`File's type "${m.file.type}" is not supported!`);return}try{const b=yield wg(m.file);v(b.toString())}catch{Bi.error(`Failed to parse file ${m.file.name}`)}i("free")}),error:m=>{console.log(m),i("free")}}),i("picking"),setTimeout(()=>{i("free")},500))},[a]);return I.useMemo(()=>l.createElement("div",{className:o},l.createElement("div",{className:s},l.createElement("img",{className:c,src:e||n}),l.createElement("div",{className:d},l.createElement("div",{className:u},l.createElement(qu,{content:()=>l.createElement("div",null,l.createElement(CO,{value:e||n,style:{width:h(e||n).width},rows:h(e||n).rows,onChange:m=>{v(m.target.value||"")}})),trigger:"click"},l.createElement("span",{style:{display:"inline-block",width:"100%",height:"100%",lineHeight:"50px"}},"URL"))),l.createElement("div",{onClick:p,className:f},l.createElement("span",null,"Upload"))))),[e,n])},TO="base-element-detail-image",_O=e=>{const{className:t,style:n,element:r,onChange:a,getElementAsset:i,createElementAsset:o,disabled:s}=e,c=Y(TO),d=I.useRef(null),u=h=>{const{src:g=""}=(h==null?void 0:h.detail)||{};return{src:g,imageResource:(i==null?void 0:i(g))||""}},f=h=>{const g={};if(h!=null&&h.imageResource){const{assetId:v}=o({type:"image",value:h.imageResource});v&&Cn(v)&&(g.src=v)}a==null||a({detail:g})};return I.useEffect(()=>{var h;const g=u(r);(h=d.current)===null||h===void 0||h.setFieldsValue(g)},[r]),I.useMemo(()=>l.createElement("div",{style:n,className:he(c,t)},l.createElement(te,{ref:d,onValuesChange:f},l.createElement(te.Item,{name:"imageResource"},l.createElement(AO,null)))),[r,s])},OO="base-element-detail-path",PO=e=>{const{className:t,style:n}=e,r=Y(OO);return I.useMemo(()=>l.createElement("div",{style:n,className:he(r,t)}),[n,t])},IO="base-element-detail-rect",$O=e=>{const{className:t,style:n}=e,r=Y(IO);return I.useMemo(()=>l.createElement("div",{style:n,className:he(r,t)}),[n,t])};var zO=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})};const ra="base-element-field-svg-picker",RO=["image/svg+xml"];function DO(e){const t=document.createElement("div");return t.innerHTML=e,document.querySelector("svg").setAttribute("_t",Date.now()+""),{__html:t.innerHTML}}const NO=({value:e="",onChange:t})=>{const[n,r]=I.useState(e),[a,i]=I.useState("free"),o=Y(ra),s=Y(ra,"box"),c=Y(ra,"entity"),d=Y(ra,"action"),u=Y(ra,"action-upload"),f=v=>{t==null||t(v||e)},h=v=>{r(v),Te.svg(v)&&f(v)},g=I.useCallback(()=>{a!=="picking"&&(qs({success:v=>zO(void 0,void 0,void 0,function*(){if(RO.includes(v.file.type)!==!0){Bi.error(`File's type "${v.file.type}" is not supported!`);return}try{let p=(yield xg(v.file)).toString();p=p.substring(p.indexOf("<svg")),h(p)}catch{Bi.error(`Failed to parse file ${v.file.name}`)}i("free")}),error:v=>{console.log(v),i("free")}}),i("picking"),setTimeout(()=>{i("free")},500))},[a]);return I.useMemo(()=>l.createElement("div",{className:o},l.createElement("div",{className:s},l.createElement("div",{className:c,dangerouslySetInnerHTML:DO(e||n)}),l.createElement("div",{className:d},l.createElement("div",{onClick:g,className:u},l.createElement("span",null,"Upload"))))),[e,n])},LO="base-element-detail-svg",jO=e=>{const{className:t,style:n,element:r,onChange:a,getElementAsset:i,createElementAsset:o,disabled:s}=e,c=Y(LO),d=I.useRef(null),u=h=>{const{svg:g=""}=(h==null?void 0:h.detail)||{};return{svg:g,svgResource:(i==null?void 0:i(g))||""}},f=h=>{const g={};if(h!=null&&h.svgResource){const{assetId:v}=o({type:"svg",value:h.svgResource});v&&Cn(v)&&(g.svg=v)}a==null||a({detail:g})};return I.useEffect(()=>{var h;const g=u(r);(h=d.current)===null||h===void 0||h.setFieldsValue(g)},[r]),I.useMemo(()=>l.createElement("div",{style:n,className:he(c,t)},l.createElement(te,{ref:d,onValuesChange:f},l.createElement(te.Item,{name:"svgResource"},l.createElement(NO,null)))),[r,s])},aa="base-element-detail-text",Yn={fontSize:20},{TextArea:kO}=cn,Xn=e=>Te.number(e*1)?ye(e*1):e,BO=e=>{const{color:t,textAlign:n,verticalAlign:r,fontSize:a,fontWeight:i,lineHeight:o,text:s=""}=(e==null?void 0:e.detail)||{};return{text:s,color:t,textAlign:n,verticalAlign:r,fontSize:a,fontWeight:i,lineHeight:o}},FO=e=>{const{className:t,style:n,element:r,onChange:a,disabled:i}=e,o=Y(aa),s=Y(aa,"row"),c=Y(aa,"col"),d=Y(aa,"switch"),u=Y(aa,"form-item"),f=I.useRef(null);I.useEffect(()=>{var g;const v=BO(r);(g=f.current)===null||g===void 0||g.setFieldsValue(v)},[r]);const h=g=>{a==null||a({detail:g})};return I.useMemo(()=>l.createElement("div",{style:n,className:he(o,t)},l.createElement(te,{ref:f,style:n,className:o,onValuesChange:h},l.createElement(fe,{className:s},l.createElement(ee,{span:"12",className:c},l.createElement(te.Item,{className:u,name:"verticalAlign"},l.createElement(ht.Group,{disabled:i,className:d,size:"small"},l.createElement(ht.Button,{value:"top"},l.createElement($m,{style:Yn})),l.createElement(ht.Button,{value:"middle"},l.createElement(Im,{style:Yn})),l.createElement(ht.Button,{value:"bottom"},l.createElement(Pm,{style:Yn}))))),l.createElement(ee,{span:"12",className:c},l.createElement(te.Item,{className:u,name:"textAlign"},l.createElement(ht.Group,{disabled:i,className:d,size:"small"},l.createElement(ht.Button,{value:"left"},l.createElement(rm,{style:Yn})),l.createElement(ht.Button,{value:"center"},l.createElement(nm,{style:Yn})),l.createElement(ht.Button,{value:"right"},l.createElement(am,{style:Yn})))))),l.createElement(fe,{className:s},l.createElement(ee,{span:"10",className:c},"Text Color"),l.createElement(ee,{span:"14",className:c},l.createElement(te.Item,{className:u,name:"color"},l.createElement(Ha,{elementSize:r?Oa(r):void 0,disabled:i,disabledLinearGradient:!0,disabledRadialGradient:!0})))),l.createElement(fe,{className:s},l.createElement(ee,{span:"10",className:c},"Font Size"),l.createElement(ee,{span:"14",className:c},l.createElement(te.Item,{className:u,name:"fontSize"},l.createElement(ce,{disabled:i,size:"small",style:{width:"100%"},step:1,min:0,formatter:Xn,parser:Xn})))),l.createElement(fe,{className:s},l.createElement(ee,{span:"10",className:c},"Font Weight"),l.createElement(ee,{span:"14",className:c},l.createElement(te.Item,{className:u,name:"fontWeight"},l.createElement(ce,{disabled:i,size:"small",style:{width:"100%"},step:100,max:1e3,min:100,formatter:Xn,parser:Xn})))),l.createElement(fe,{className:s},l.createElement(ee,{span:"10",className:c},"Line Height"),l.createElement(ee,{span:"14",className:c},l.createElement(te.Item,{className:u,name:"lineHeight"},l.createElement(ce,{disabled:i,size:"small",style:{width:"100%"},step:1,min:0,formatter:Xn,parser:Xn})))),l.createElement(fe,{className:s},l.createElement(ee,{span:"24",className:c},l.createElement(te.Item,{className:u,name:"text",style:{width:"100%"}},l.createElement(kO,{disabled:i,style:{width:"100%"},rows:3})))))),[n,t])},si="base-element-detail-group",HO=e=>{const{overflow:t}=(e==null?void 0:e.detail)||{};return{overflow:t}},VO=e=>{const{className:t,style:n,element:r,onChange:a,disabled:i}=e,o=Y(si),s=Y(si,"row"),c=Y(si,"col"),d=Y(si,"form-item"),u=I.useRef(null),f=$n();I.useEffect(()=>{var g;const v=HO(r);(g=u.current)===null||g===void 0||g.setFieldsValue(v)},[r]);const h=g=>{a==null||a({detail:g})};return I.useMemo(()=>l.createElement("div",{style:n,className:he(o,t)},l.createElement(te,{ref:u,style:n,className:o,onValuesChange:h},l.createElement(fe,{className:s},l.createElement(ee,{className:c,span:"10"},f.overflow),l.createElement(ee,{span:"12",className:c},l.createElement(te.Item,{className:d,name:"overflow"},l.createElement(Ke,{size:"small",disabled:i},l.createElement(Ke.Option,{value:"visible"},f.visible),l.createElement(Ke.Option,{value:"hidden"},f.hidden))))))),[n,t,f])},WO="base-element-detail-attribute",GO=e=>{const{element:t,onChange:n,disabled:r,getElementAsset:a,createElementAsset:i}=e,o=Y(WO);return I.useMemo(()=>l.createElement("div",{className:o},(t==null?void 0:t.type)==="circle"&&l.createElement(EO,{element:t,onChange:n,disabled:r}),(t==null?void 0:t.type)==="image"&&l.createElement(_O,{element:t,onChange:n,disabled:r,getElementAsset:a,createElementAsset:i}),(t==null?void 0:t.type)==="svg"&&l.createElement(jO,{element:t,onChange:n,disabled:r,getElementAsset:a,createElementAsset:i}),(t==null?void 0:t.type)==="group"&&l.createElement(VO,{element:t,onChange:n,disabled:r}),(t==null?void 0:t.type)==="path"&&l.createElement(PO,{element:t,onChange:n,disabled:r}),(t==null?void 0:t.type)==="rect"&&l.createElement($O,{element:t,onChange:n,disabled:r}),(t==null?void 0:t.type)==="text"&&l.createElement(FO,{element:t,onChange:n})),[r,t])},li="base-element-content-attribute",UO=e=>{let{opacity:t}=(e==null?void 0:e.detail)||{};const{background:n}=(e==null?void 0:e.detail)||{};return typeof t=="number"&&t>=0&&t<=1||(t=1),{background:n,opacity:t}},YO=e=>{const{style:t,element:n,disabled:r,onChange:a,getElementAsset:i,createElementAsset:o}=e,s=I.useRef(null),c=Y(li),d=Y(li,"row"),u=Y(li,"col"),f=Y(li,"form-item"),h=p=>{const m=p;a==null||a({detail:m})},g=p=>{a==null||a(p)},v=$n();return I.useEffect(()=>{var p;const m=UO(n);(p=s.current)===null||p===void 0||p.setFieldsValue(m)},[n]),I.useMemo(()=>l.createElement(l.Fragment,null,l.createElement(te,{ref:s,style:t,className:c,onValuesChange:h},["rect","circle","text","group","path"].includes(n==null?void 0:n.type)&&l.createElement(fe,{className:d},l.createElement(ee,{className:u,span:"10"},v.background),l.createElement(ee,{className:u,span:"14"},l.createElement(te.Item,{className:f,name:"background"},l.createElement(Ha,{elementSize:n?Oa(n):void 0,disabled:r})))),l.createElement(fe,{className:d},l.createElement(ee,{className:u,span:"10"},v.opacity),l.createElement(ee,{className:u,span:"14"},l.createElement(te.Item,{className:f,name:"opacity"},l.createElement(ce,{disabled:r,size:"small",style:{width:"100%"},step:.1}))))),l.createElement(GO,{element:n,disabled:r,onChange:g,getElementAsset:i,createElementAsset:o})),[v,n,r,a])},ci="base-element-shadow-attribute",XO=e=>{const{shadowColor:t,shadowBlur:n,shadowOffsetX:r,shadowOffsetY:a}=(e==null?void 0:e.detail)||{};return{shadowColor:t,shadowBlur:n,shadowOffsetX:r,shadowOffsetY:a}},KO=e=>{const{style:t,element:n,disabled:r,onChange:a}=e,i=I.useRef(null),o=Y(ci),s=Y(ci,"row"),c=Y(ci,"col"),d=Y(ci,"form-item"),u=h=>{const g=h;a==null||a({detail:g})},f=$n();return I.useEffect(()=>{var h;const g=XO(n);(h=i.current)===null||h===void 0||h.setFieldsValue(g)},[n]),I.useMemo(()=>l.createElement(te,{ref:i,style:t,className:o,onValuesChange:u},l.createElement(fe,{className:s},l.createElement(ee,{className:c,span:"14"},l.createElement(te.Item,{className:d,name:"shadowColor"},l.createElement(Ha,{elementSize:n?Oa(n):void 0,disabled:r,disabledLinearGradient:!0,disabledRadialGradient:!0}))),l.createElement(ee,{className:c,span:"10"},l.createElement(te.Item,{className:d,name:"shadowBlur"},l.createElement(ce,{disabled:r,size:"small",style:{width:"100%"}})))),l.createElement(fe,null,l.createElement(ee,{className:c,span:"12"},l.createElement(te.Item,{className:d,name:"shadowOffsetX"},l.createElement(ce,{disabled:r,size:"small",style:{width:"100%"},prefix:"X"}))),l.createElement(ee,{className:c,span:"12"},l.createElement(te.Item,{className:d,name:"shadowOffsetY"},l.createElement(ce,{disabled:r,size:"small",style:{width:"100%"},prefix:"Y"}))))),[f,n,r])},ZO="base-element-detail",QO=In(),JO=e=>{const{className:t,style:n,element:r,onChange:a,getElementAsset:i,createElementAsset:o}=e,s=$n(),c=Y(ZO);let d=r;r&&(d=Object.assign(Object.assign({},r||{}),{detail:Object.assign(Object.assign({},QO),r==null?void 0:r.detail)}));const u=[{key:"basic-attribute",label:s.basicAttributes,children:l.createElement(Hm,{element:d,disabled:!d,onChange:f=>{a==null||a(f)}})},{key:"border-attribute",label:s.borderAttribute,children:["rect","circle","text","image","group"].includes(r==null?void 0:r.type)?l.createElement(wO,{element:d,disabled:!d,onChange:f=>{a==null||a(f)}}):l.createElement(sn,{image:sn.PRESENTED_IMAGE_SIMPLE,description:!1})},{key:"content-attribute",label:s.contentAttribute,children:l.createElement(YO,{element:d,disabled:!d,onChange:f=>{a==null||a(f)},getElementAsset:i,createElementAsset:o})},{key:"shadow-attribute",label:s.shadowAttribute,children:["rect","circle","text","image","group"].includes(r==null?void 0:r.type)?l.createElement(KO,{element:d,disabled:!d,onChange:f=>{a==null||a(f)}}):l.createElement(sn,{image:sn.PRESENTED_IMAGE_SIMPLE,description:!1})}];return I.useMemo(()=>l.createElement("div",{style:n,className:he(c,t)},l.createElement(Js,{ghost:!0,items:u,size:"small",defaultActiveKey:u.map(f=>f.key)})),[d,s])},qO="LayoutDetail",Ql=()=>{const[e]=nf(qO);return e},ia="base-element-basic-attribute",qt=e=>Te.number(e*1)?ye(e*1):e,e9=e=>{const{className:t,style:n,layout:r,onChange:a,disabled:i,isGroupLayout:o}=e,s=I.useRef(null),c=Y(ia),d=Y(ia,"row"),u=Y(ia,"col"),f=Y(ia,"input"),h=Y(ia,"form-item"),g=Ql(),v=p=>{a==null||a(p)};return I.useEffect(()=>{var p;const{x:m,y:b,w:x,h:w}=r||{},y={x:m,y:b,w:x,h:w};(p=s.current)===null||p===void 0||p.setFieldsValue(y)},[r]),I.useMemo(()=>l.createElement(te,{ref:s,style:n,className:he(c,t),onValuesChange:v},!o&&l.createElement(fe,{className:d},l.createElement(ee,{span:10,className:u},l.createElement(te.Item,{className:h,name:"x"},l.createElement(ce,{className:f,size:"small",placeholder:"X",prefix:"X",disabled:i,formatter:qt,parser:qt}))),l.createElement(ee,{span:10,className:u},l.createElement(te.Item,{className:h,name:"y"},l.createElement(ce,{className:f,size:"small",placeholder:"Y",prefix:"Y",disabled:i,formatter:qt,parser:qt})))),l.createElement(fe,{className:d},l.createElement(ee,{span:10,className:u},l.createElement(te.Item,{className:h,name:"w"},l.createElement(ce,{className:f,size:"small",placeholder:"Width",prefix:g.w,disabled:i,formatter:qt,parser:qt}))),l.createElement(ee,{span:10,className:u},l.createElement(te.Item,{className:h,name:"h"},l.createElement(ce,{className:f,size:"small",placeholder:"Height",prefix:g.h,disabled:i,formatter:qt,parser:qt}))))),[g,i,r])},di="base-element-content-attribute",t9=e=>{const{background:t,overflow:n="visible"}=e||{};return{background:t,overflow:n}},n9=e=>{const{style:t,layout:n,disabled:r,onChange:a}=e,i=I.useRef(null),o=Y(di),s=Y(di,"row"),c=Y(di,"col"),d=Y(di,"form-item"),u=h=>{const g=h;a==null||a({detail:g})},f=Ql();return I.useEffect(()=>{var h;const g=t9(n==null?void 0:n.detail);(h=i.current)===null||h===void 0||h.setFieldsValue(g)},[n]),I.useMemo(()=>l.createElement(l.Fragment,null,l.createElement(te,{ref:i,style:t,className:o,onValuesChange:u},l.createElement(fe,{className:s},l.createElement(ee,{className:c,span:"10"},f.background),l.createElement(ee,{className:c,span:"14"},l.createElement(te.Item,{className:d,name:"background"},l.createElement(Ha,{elementSize:n?Oa(n):void 0,disabled:r})))),l.createElement(fe,{className:s},l.createElement(ee,{className:c,span:"10"},f.overflow),l.createElement(ee,{span:"12",className:c},l.createElement(te.Item,{className:d,name:"overflow"},l.createElement(Ke,{size:"small",disabled:r},l.createElement(Ke.Option,{value:"visible"},f.visible),l.createElement(Ke.Option,{value:"hidden"},f.hidden))))))),[f,n,r,a])},r9="base-layout-detail",a9=e=>{const{className:t,style:n,layout:r,onChange:a,isGroupLayout:i}=e,o=Ql(),s=Y(r9),c=[{key:"layout-attribute",label:o.layout,children:l.createElement(l.Fragment,null,l.createElement(e9,{isGroupLayout:i,layout:r,onChange:d=>{a==null||a(d)}}),l.createElement(n9,{layout:r,onChange:d=>{a==null||a(d)}}))}];return I.useMemo(()=>l.createElement("div",{style:n,className:he(s,t)},l.createElement(Js,{ghost:!0,items:c,size:"small",defaultActiveKey:c.map(d=>d.key)})),[r,o])},B0=e=>{var t;const n={uuid:e.uuid,key:e.uuid,title:e.name||e.detail.text||e.type||"unamed",type:e.type,children:[],operations:e.operations||{}};return e.type==="group"&&Array.isArray((t=e==null?void 0:e.detail)===null||t===void 0?void 0:t.children)&&e.detail.children.forEach(r=>{n.children.push(B0(r))}),n};function Ce(e){const t=[];return e.elements.forEach(n=>{const r=B0(n);t.push(r)}),t}const i9=e=>({uuid:e.uuid,key:e.uuid,title:e.name||e.detail.text||e.type||"unamed",type:e.type,operations:e.operations||{}});function Ma(e){const t=[];return e.elements.forEach(n=>{var r;if(n.type==="group"&&((r=n.extends)===null||r===void 0?void 0:r.isPage)===!0){const a=i9(n);t.push(a)}}),t}var o9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function an(e,t){if(e.length===0)return Mn(t);const n=Ze(e,t.elements),r={elements:[],assets:t.assets};if((n==null?void 0:n.type)==="group"){const{w:a,h:i,detail:o}=n,{children:s}=o,c=o9(o,["children"]),d={x:0,y:0,w:a,h:i,detail:Object.assign({},c),operations:{disabledTop:!0,disabledTopLeft:!0,disabledTopRight:!0,disabledLeft:!0,disabledBottomLeft:!0}};r.elements=Mn(s||[]),r.layout=d}return r}function s9(e,t,n){if(e.length>0){const r=Ze(e,n.elements);(r==null?void 0:r.type)==="group"&&(r.detail.children=t.elements)}}function l9(e,t,n){if(t.length>0&&(e!=null&&e.layout)){const r=e.layout,i=Ze(t,n.elements);(i==null?void 0:i.type)==="group"&&(Te.w(r.w)&&(i.w=r.w),Te.h(r.h)&&(i.h=r.h),i.detail=Object.assign(Object.assign({},i.detail),r.detail))}}function F0(e){var t,n,r,a,i,o,s,c,d,u;let f=e;for(let b=0;b<e.elements.length;b++){const x=e.elements[b];if(x.type==="group"&&((t=x.extends)===null||t===void 0?void 0:t.isPage)===!0)return f}const h=Ui(e.elements);let{x:g,y:v,w:p,h:m}=h;return Te.x((n=e==null?void 0:e.layout)===null||n===void 0?void 0:n.x)&&(g=Math.min(g,(r=e.layout)===null||r===void 0?void 0:r.x)),Te.y((a=e==null?void 0:e.layout)===null||a===void 0?void 0:a.y)&&(v=Math.min(v,(i=e.layout)===null||i===void 0?void 0:i.y)),Te.w((o=e==null?void 0:e.layout)===null||o===void 0?void 0:o.w)&&(p=Math.max(p,(s=e.layout)===null||s===void 0?void 0:s.w)),Te.h((c=e==null?void 0:e.layout)===null||c===void 0?void 0:c.h)&&(m=Math.max(m,(d=e.layout)===null||d===void 0?void 0:d.h)),e.elements.forEach(b=>{b.x-=g,b.y-=v}),f={elements:[{uuid:nt(),name:"Default page",type:"group",x:0,y:0,w:p,h:m,detail:Object.assign(Object.assign(Object.assign({},(u=e.layout)===null||u===void 0?void 0:u.detail),{children:e.elements}),p===0||m===0?{overflow:"visible"}:{}),extends:{isPage:!0}}],assets:e.assets},f}const H0="dark",V0="en-US",W0="data";function c9(e){let t=Object.assign({elements:[]},(e==null?void 0:e.data)||{});(e==null?void 0:e.defaultEditMode)==="page"&&(t=F0(t));let n=[],r=t;const a=Ma(t);e!=null&&e.defaultEditingGroupUUID&&(n=Ot(e.defaultEditingGroupUUID,t.elements)),(e==null?void 0:e.defaultEditMode)==="page"&&n.length!==1&&a.length>0&&(n=[0]),r=an(n,t);const i=Ce(r);return{localeCode:(e==null?void 0:e.defaultLocale)||V0,themeMode:(e==null?void 0:e.defaultThemeMode)||H0,editMode:(e==null?void 0:e.defaultEditMode)||W0,data:t,editingData:r,editingDataPosition:n,elementTree:i,pageTree:a,selectedUUIDs:(e==null?void 0:e.defaultSelectedElementUUIDs)||[],scaleInfo:Object.assign({scale:1,from:"init"},(e==null?void 0:e.defaultScaleInfo)||{})}}function d9(e){const t=Object.assign({elements:[]},(e==null?void 0:e.data)||{});return{localeCode:V0,themeMode:(e==null?void 0:e.themeMode)||H0,editMode:(e==null?void 0:e.editMode)||W0,data:Object.assign({elements:[]},(e==null?void 0:e.data)||{}),editingData:an([],t),editingDataPosition:[],elementTree:[],pageTree:[],selectedUUIDs:[],scaleInfo:Object.assign({scale:1,from:"control"},(e==null?void 0:e.scaleInfo)||{})}}function u9(e,t){var n,r,a;switch(t.type){case"update":return t!=null&&t.payload?Object.assign(Object.assign({},e),t==null?void 0:t.payload):e;case"updateThemeMode":return!((n=t==null?void 0:t.payload)===null||n===void 0)&&n.themeMode?Object.assign(Object.assign({},e),{themeMode:(r=t==null?void 0:t.payload)===null||r===void 0?void 0:r.themeMode}):e;case"updateEditingDataLayoutToTargetGroup":{if(!(!((a=t==null?void 0:t.payload)===null||a===void 0)&&a.editingData))return e;const{editingData:i}=t.payload;if(i.layout){const{editingDataPosition:o,data:s}=e;return l9(i,o,s),Object.assign(Object.assign({},e),{data:s,editingData:i})}return e}default:return e}}const Ut=I.createContext({state:d9(),dispatch:()=>{}}),f9=Ut.Provider,h9={locale:"en-US",NavMenu:{about:"About @idraw/studio",file:"File",importJSONFile:"Import JSON file",exportJSONFile:"Export JSON file",exportImage:"Export image",preferences:"Preferences",rect:"Rect",circle:"Circle",text:"Text",image:"Image",html:"HTML",svg:"SVG",group:"Group",devicePixelRatio:"Device pixel ratio"},Toolbar:{layers:"Layers",ruler:"Ruler",attributes:"Attributes",hand:"Hand tool",centerContent:"Center content"},contextMenu:{copy:"Copy",paste:"Paste",cut:"Cut",delete:"Delete"}},g9={locale:"zh-CN",NavMenu:{about:"关于 @idraw/studio",file:"文件",importJSONFile:"导入JSON文件",exportJSONFile:"导出JSON文件",exportImage:"导出图片",preferences:"预设",rect:"矩形",circle:"圆形",text:"文本",image:"图片",html:"HTML片段",svg:"SVG片段",group:"群组",devicePixelRatio:"设备像素比例"},Toolbar:{layers:"图层",ruler:"标尺",attributes:"属性",hand:"拖拽工具",centerContent:"内容居中"},contextMenu:{copy:"复制",paste:"粘贴",cut:"剪切",delete:"删除"}},p9={"en-US":h9,"zh-CN":g9},Ro=e=>{const{state:t}=I.useContext(Ut),n=t.localeCode;return[I.useMemo(()=>{const i=p9[n][e];return Object.assign({},i)},[n,e])]},ui="mod-toolbar",v9=()=>{const[e]=Ro("Toolbar");return e},m9=e=>{const{className:t,style:n,openLeftSider:r,openRightSider:a,onClickToggleLayer:i,onClickToggleSetting:o,sharedStore:s}=e,c={fontSize:16},d=Y(ui),u=Y(ui,"left"),f=Y(ui,"right"),h=Y(ui,"btn"),[g,v]=I.useState(!1),[p,m]=I.useState(!0),b=v9();I.useEffect(()=>{const w=s.get("idraw");p===!0?w==null||w.enable("ruler"):w==null||w.disable("ruler")},[p]),I.useEffect(()=>{const w=s.get("idraw");w==null||w.setMode(g?"drag":"select")},[g]);const x={size:"small",className:h,shape:"default"};return I.useMemo(()=>l.createElement("div",{style:n,className:he(d,t)},l.createElement("div",{className:u}),l.createElement("div",{className:f},l.createElement(Wr,{title:b.layers},l.createElement(Ve,Object.assign({},x,{type:r?"primary":"default",icon:l.createElement(Em,{style:c}),onClick:i}))),l.createElement(Wr,{title:b.attributes},l.createElement(Ve,Object.assign({},x,{type:a?"primary":"default",icon:l.createElement(_m,{style:c}),onClick:o}))),l.createElement(Wr,{title:b.ruler},l.createElement(Ve,Object.assign({},x,{type:p?"primary":"default",icon:l.createElement(Tm,{style:Object.assign(Object.assign({},c),{fontSize:20})}),onClick:()=>{m(!p)}}))),l.createElement(Wr,{title:b.hand},l.createElement(Ve,Object.assign({},x,{type:g?"primary":"default",icon:l.createElement(bm,{style:Object.assign(Object.assign({},c),{fontSize:20})}),onClick:()=>{v(!g)}}))),l.createElement(Wr,{title:b.centerContent},l.createElement(Ve,Object.assign({},x,{type:"text",icon:l.createElement(tm,{style:Object.assign(Object.assign({},c),{fontSize:20})}),onClick:()=>{const w=s.get("idraw");w==null||w.centerContent()}}))))),[r,a,i,o,g,p,b])},oa="mod-panel-layer",b9=e=>{const{className:t,style:n,height:r,defaultSelectedElementUUIDs:a=[],sharedStore:i,sharedEvent:o,useContextMenuOptions:s}=e,{state:c,dispatch:d}=I.useContext(Ut),{elementTree:u,selectedUUIDs:f,editingData:h}=c,g=I.useRef(null),[v,p]=I.useState(a),m=Y(oa),b=Y(oa,"content"),x=Y(oa,"header"),w=Y(oa,"header","title"),y=Y(oa,"header","btn"),[_]=s({sharedEvent:o,sharedStore:i}),E=()=>{if(c.editingDataPosition.length===0)return"";const z=Ze(c.editingDataPosition,c.data.elements);return(z==null?void 0:z.name)||(z==null?void 0:z.type)||""},T=z=>{const C=i.get("idraw");C==null||C.selectElementsByPositions(z)};I.useEffect(()=>{o.on("scrollToLayer",({uuid:z})=>{var C;z&&((C=g.current)===null||C===void 0||C.scrollTo({key:z,align:"top"}))})},[]),I.useEffect(()=>{if(f[0]&&f.length===1){const C=el(f[0],h.elements).map(G=>G.uuid);f[0]&&C.push(f[0]);const L=[...v];C.forEach(G=>{L.includes(G)||L.push(G)}),p(L)}},[f,h]);const P=()=>{o.trigger("resetEditingView",{type:"back-root",position:null})},j=()=>{o.trigger("resetEditingView",{type:"back-one",position:null})},D=32,V=r-D;return I.useMemo(()=>Array.isArray(u)&&u.length>0?l.createElement("div",{style:n,className:he(m,t),onContextMenu:z=>{z.preventDefault()}},l.createElement("div",{className:x,style:{height:D}},l.createElement(Ve,{className:y,size:"small",icon:l.createElement(vh,null),disabled:!(c.editingDataPosition.length>0),onClick:P}),l.createElement(Ve,{className:y,size:"small",icon:l.createElement(mh,null),disabled:!(c.editingDataPosition.length>0),onClick:j}),l.createElement("span",{className:w},E())),l.createElement(Ir,{menu:{items:_},trigger:["contextMenu"]},l.createElement("div",{className:b},l.createElement(bh,{ref:g,height:V,treeData:u,selectedKeys:f,expandedKeys:v,onTitleChange:({uuid:z,value:C})=>{ln(z,{name:C},c.editingData.elements);const L=Ce(h);d({type:"update",payload:{editingData:Object.assign({},h),elementTree:L}})},onOperationToggle:({uuid:z,operations:C})=>{ln(z,{operations:C},c.editingData.elements);const L=Ce(h);d({type:"update",payload:{editingData:Object.assign({},h),elementTree:L}})},onSelect:z=>{f!=null&&f.includes(z.uuids[0])||T(z.positions)},onDrop:z=>{const{elements:C}=Yi(h.elements,{from:z.from,to:z.to}),L=Ze(z.to,h.elements);L&&(L.x=0,L.y=0);const G=Ce(h);d({type:"update",payload:{editingData:Object.assign(Object.assign({},h),{elements:[...C]}),elementTree:G}})},onDelete:({uuid:z})=>{o.trigger("deleteElement",{uuid:z})},onGoToGroup:z=>{o.trigger("resetEditingView",{type:"go-to-next-group",position:z.position})},onExpand:(z,{node:C})=>{const L=C.key;if(L){let G=[...v];v.includes(L)?G.splice(G.indexOf(L),1):G=[...G,L],p(G)}}})))):l.createElement("div",{style:n,className:he(m,t),onContextMenu:z=>{z.preventDefault()}},l.createElement("div",{className:x},"..."),l.createElement("div",{className:b},l.createElement("div",{style:{padding:"20px 0",textAlign:"center"}},"Empty"))),[V,u,f,v,h.elements,c.editingDataPosition,_])},y9="add-page-button",w9=e=>{const{className:t,style:n,parentModName:r,inPageOverview:a,sharedEvent:i,sharedStore:o}=e,s=Y(r,y9);return I.useMemo(()=>l.createElement(Ir,{trigger:["click","click"],placement:"bottom",menu:{items:[{key:"pc-page",label:"PC page",onClick:c=>{c.domEvent.stopPropagation();const d=o.get("idraw"),u=d==null?void 0:d.getData();if(d&&Array.isArray(u==null?void 0:u.elements)){const f=Ui(u.elements),v={uuid:nt(),type:"group",name:"Unamed PC page",x:f.x+f.w+100,y:f.y,w:1200,h:800,detail:{background:"#FFFFFF",children:[{uuid:nt(),type:"rect",name:"Box",x:50,y:50,w:1100,h:400,detail:{background:"#D9D9D9"}},{uuid:nt(),type:"rect",name:"Box",x:50,y:500,w:1100,h:200,detail:{background:"#D9D9D9"}}]},extends:{isPage:!0}};i.trigger("addPage",{element:v,inPageOverview:a})}}},{key:"mobile-page",label:"Mobile page",onClick:c=>{c.domEvent.stopPropagation();const d=o.get("idraw"),u=d==null?void 0:d.getData();if(d&&Array.isArray(u==null?void 0:u.elements)){const f=Ui(u.elements),v={uuid:nt(),type:"group",name:"Unamed Mobile page",x:f.x+f.w+100,y:f.y,w:750,h:2e3,detail:{background:"#FFFFFF",children:[{uuid:nt(),type:"rect",name:"Box",x:40,y:40,w:670,h:400,detail:{background:"#D9D9D9"}},{uuid:nt(),type:"rect",name:"Box",x:40,y:480,w:670,h:600,detail:{background:"#D9D9D9"}}]},extends:{isPage:!0}};i.trigger("addPage",{element:v,inPageOverview:a})}}}]}},l.createElement(Ve,{size:"small",type:"text",style:n,className:he(s,t),onClick:c=>{c.stopPropagation()}},l.createElement(ef.Compact,null,l.createElement(wm,{style:{fontSize:18}}),l.createElement(mo,{style:{fontSize:10,marginLeft:2}})))),[n,t,a])},Kn="mod-panel-page",mn="page-tree",Zn="element-tree",Uu=1,Yu=3,x9=e=>{const{className:t,style:n,height:r,defaultSelectedElementUUIDs:a=[],sharedStore:i,sharedEvent:o,useContextMenuOptions:s}=e,{state:c,dispatch:d}=I.useContext(Ut),{pageTree:u,elementTree:f,selectedUUIDs:h,editingData:g,editingDataPosition:v,data:p}=c,m=I.useRef(null),b=I.useRef(null),x=32,w=I.useRef([mn,Zn]),[y,_]=I.useState(0),[E,T]=I.useState(0),[P,j]=I.useState(a),D=Y(Kn),V=Y(Kn,"content"),z=Y(Kn,"header"),C=Y(Kn,"header","title"),L=Y(Kn,"header","btn"),[G]=s({sharedEvent:o,sharedStore:i}),[$]=Ro("contextMenu"),[S,F]=I.useState(!1),O=I.useRef(S),B=()=>{const k=[],J=Ze([v[0]],c.data.elements);return J!=null&&J.uuid&&k.push(J.uuid),k},[W,A]=I.useState(B());I.useEffect(()=>{const k=i.get("idraw"),J=se=>{if(O.current===!0){const{uuids:Z}=se;A([...Z])}};return k==null||k.on(ve.select,J),()=>{k==null||k.off(ve.select,J)}},[]),I.useEffect(()=>{var k;if(v.length===1&&u.length>0){const J=(k=u[v[0]])===null||k===void 0?void 0:k.uuid;J&&!W.includes(J)&&A([J])}},[v]);const H=()=>{const k=w.current,J=Uu+Yu;if(k.includes(mn)&&k.includes(Zn)){const se=r-x*2;_(se*Uu/J),T(se*Yu/J)}else if(k.includes(mn)&&!k.includes(Zn)){const se=r-x*2;_(se),T(0)}else if(!k.includes(mn)&&k.includes(Zn)){const se=r-x*2;_(0),T(se)}else _(0),T(0)};I.useEffect(()=>{const k=i==null?void 0:i.get("idraw");if(S===!0)w.current=[mn],o.trigger("resetEditingView",{type:"back-root",position:null}),A([]),k==null||k.disable("selectInGroup");else{const J=[];u.length>0&&(J.push(u[0].uuid),o.trigger("resetEditingView",{type:"go-to-page",position:[0]})),A(J),k==null||k.enable("selectInGroup"),w.current=[mn,Zn]}H()},[r,S]),I.useEffect(()=>{O.current=S,o.trigger("switchPageOverview",{isPageOverview:!!S})},[S]);const X=()=>{if(v.length===0)return"";const k=Ze(v,c.data.elements);return(k==null?void 0:k.name)||(k==null?void 0:k.type)||""},M=k=>{const J=i.get("idraw");J==null||J.selectElementsByPositions(k)};I.useEffect(()=>{o.on("scrollToLayer",({uuid:k})=>{var J;k&&((J=m.current)===null||J===void 0||J.scrollTo({key:k,align:"top"}))})},[]),I.useEffect(()=>{if(h[0]&&h.length===1){const J=el(h[0],g.elements).map(Z=>Z.uuid);h[0]&&J.push(h[0]);const se=[...P];J.forEach(Z=>{se.includes(Z)||se.push(Z)}),j(se)}},[h,g]);const N=k=>{k.stopPropagation(),v.length>1&&o.trigger("resetEditingView",{type:"go-to-group",position:[v[0]]})},R=k=>{k.stopPropagation(),o.trigger("resetEditingView",{type:"back-one",position:null})},U=[{key:mn,collapsible:S?"disabled":void 0,label:l.createElement("div",{className:z,style:{height:x}},l.createElement("div",{style:{display:"flex"}},l.createElement("span",{style:{marginRight:10}},"Pages"),l.createElement(Ve,{className:L,style:{marginLeft:"10px"},size:"small",icon:l.createElement(Sm,null),type:S?"primary":"default",onClick:k=>{k.stopPropagation(),F(!S)}})),l.createElement("div",{style:{display:"flex"}},l.createElement(w9,{inPageOverview:S,parentModName:Kn,sharedEvent:o,sharedStore:i}))),children:l.createElement("div",{className:V,style:{height:y}},u.length>0?l.createElement(jm,{ref:b,height:y,treeData:u,selectedKeys:W,onTitleChange:({uuid:k,value:J})=>{ln(k,{name:J},p.elements);const Z={pageTree:Ma(p),data:Object.assign({},p)};if(v.length===0){Z.editingData=Object.assign({},p);const We=Ce(p);Z.elementTree=We}d({type:"update",payload:Z})},onOperationToggle:({})=>{},onSelect:k=>{if((k==null?void 0:k.positions.length)===1){const J=i.get("idraw");if(J==null||J.trigger(ve.select,{uuids:[]}),J==null||J.trigger(ve.clearSelect),S){W!=null&&W.includes(k.uuids[0])||(M(k.positions),A([k.uuids[0]]));return}o.trigger("resetEditingView",{type:"go-to-page",position:k.positions[0]});const se=[],Z=Ze(k.positions[0],c.data.elements);Z!=null&&Z.uuid&&(se.push(Z.uuid),A(se))}},onDrop:k=>{if(!(k.from.length===1&&k.to.length===1))return;const{elements:J}=Yi(p.elements,{from:k.from,to:k.to}),Z={pageTree:Ma(p),data:Object.assign(Object.assign({},p),{elements:J})};if(v.length===0){Z.editingData=Object.assign(Object.assign({},p),{elements:J});const We=Ce(p);Z.elementTree=We}d({type:"update",payload:Z})},onDelete:({uuid:k})=>{o.trigger("deletePage",{uuid:k})}}):l.createElement(sn,{image:sn.PRESENTED_IMAGE_SIMPLE,description:!1}))},{key:Zn,collapsible:S?"disabled":void 0,label:l.createElement("div",{className:z,style:{height:x}},l.createElement("div",{style:{display:"inline-flex"}},l.createElement(Ve,{className:L,size:"small",icon:l.createElement(vh,null),disabled:!(v.length>1),onClick:N}),l.createElement(Ve,{className:L,size:"small",icon:l.createElement(mh,null),disabled:!(v.length>1),onClick:R})),l.createElement("span",{className:C},X())),children:S?null:l.createElement(Ir,{menu:{items:G},trigger:["contextMenu"]},l.createElement("div",{className:V,style:{height:E}},f.length>0?l.createElement(bh,{ref:m,height:E,treeData:f,selectedKeys:h,expandedKeys:P,onTitleChange:({uuid:k,value:J})=>{ln(k,{name:J},c.editingData.elements);const se=Ce(g);d({type:"update",payload:{editingData:Object.assign({},g),elementTree:se}})},onOperationToggle:({uuid:k,operations:J})=>{ln(k,{operations:J},c.editingData.elements);const se=Ce(g);d({type:"update",payload:{editingData:Object.assign({},g),elementTree:se}})},onSelect:k=>{h!=null&&h.includes(k.uuids[0])||M(k.positions)},onDrop:k=>{const{elements:J}=Yi(g.elements,{from:k.from,to:k.to}),se=Ze(k.to,g.elements);se&&(se.x=0,se.y=0);const Z=Ce(g);d({type:"update",payload:{editingData:Object.assign(Object.assign({},g),{elements:[...J]}),elementTree:Z}})},onDelete:({uuid:k})=>{o.trigger("deleteElement",{uuid:k})},onGoToGroup:k=>{o.trigger("resetEditingView",{type:"go-to-next-group",position:k.position})},onExpand:(k,{node:J})=>{const se=J.key;if(se){let Z=[...P];P.includes(se)?Z.splice(Z.indexOf(se),1):Z=[...Z,se],j(Z)}}}):l.createElement(sn,{image:sn.PRESENTED_IMAGE_SIMPLE,description:!1})))}];return I.useMemo(()=>l.createElement("div",{style:n,className:he(D,t),onContextMenu:k=>{k.preventDefault()}},l.createElement(Js,{ghost:!0,items:U,size:"small",defaultActiveKey:w.current,onChange:k=>{Array.isArray(k)&&(w.current=[...k]),H()}})),[r,y,E,u,f,h,P,p.elements,g.elements,v,S,W,$])};var E9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const S9="mod-panel-detail",C9=e=>{const{className:t,style:n}=e,{state:r,dispatch:a}=I.useContext(Ut),{selectedUUIDs:i,editingData:o,editingDataPosition:s}=r,c=Y(S9),d=I.useRef(o);I.useEffect(()=>{d.current=o},[o]);const u=()=>d.current,f=I.useCallback(m=>{if((i==null?void 0:i.length)===1&&i[0]){const b=i[0];ln(b,m,o.elements),a({type:"update",payload:{editingData:Object.assign({},o)}})}},[o,i]),h=I.useCallback(m=>{var b;const{detail:x}=m,w=E9(m,["detail"]);delete w.operations;const y=u();if(w||x){const _=Object.assign(Object.assign(Object.assign({x:0,y:0},y.layout),w),{detail:Object.assign(Object.assign({},(b=y.layout)===null||b===void 0?void 0:b.detail),x)}),E=Object.assign(Object.assign({},y),{layout:_});a({type:"updateEditingDataLayoutToTargetGroup",payload:{editingData:E}})}},[o,i]),g=I.useCallback(m=>(i==null?void 0:i.length)>1?null:gf(m,u().elements),[o,i[0]]),v=I.useCallback(m=>{var b,x;let w=null;return m&&Cn(m)&&(w=((x=(b=u().assets)===null||b===void 0?void 0:b[m])===null||x===void 0?void 0:x.value)||null),w},[o,i[0]]),p=I.useCallback(m=>{const b=Pr(m.value);return o.assets||(o.assets={}),o.assets[b]=m,{assetId:b,assetItem:m}},[o,i[0]]);return I.useMemo(()=>{const m=g(i[0]);return l.createElement("div",{style:n,className:he(c,t),onContextMenu:b=>{b.preventDefault()}},l.createElement(a9,{isGroupLayout:(s==null?void 0:s.length)>0,layout:o.layout,onChange:h}),l.createElement(JO,{element:m,onChange:f,getElementAsset:v,createElementAsset:p}))},[i[0],o.layout,s])},fi="mod-export-image-file",Jl=700,M9=Jl+48,ma=500,A9=Jl-ma,hi={devicePixelRatio:1,fileName:"download.png"},T9=e=>{const{className:t,style:n,sharedStore:r}=e,a=Y(fi),i=Y(fi,"preview"),o=Y(fi,"options"),s=Y(fi,"canvas"),[c,d]=I.useState(null),[u,f]=I.useState(!0),[h,g]=I.useState(null),[v]=te.useForm(),p=I.useCallback(b=>{const x=r.get("idraw");x&&(f(!0),x.getImageBlobURL({devicePixelRatio:b}).then(({blobURL:w,width:y,height:_,devicePixelRatio:E})=>{w&&(g(w),d({width:y,height:_,devicePixelRatio:E}))}).catch(w=>{console.log(w)}).finally(()=>{f(!1)}))},[]);I.useEffect(()=>{v.setFieldsValue({devicePixelRatio:hi.devicePixelRatio,fileName:hi.fileName}),setTimeout(()=>{p(hi.devicePixelRatio)},10)},[]);const m=()=>{if(!h)return;const b=v.getFieldsValue(),x=document.createElement("a");x.href=h,x.download=b.fileName||hi.fileName,document.body.appendChild(x),x.click(),document.body.removeChild(x)};return I.useMemo(()=>l.createElement("div",{style:Object.assign(Object.assign({},n),{width:Jl}),className:he(a,t)},l.createElement(Q0,{tip:"Loading...",spinning:u},l.createElement("div",{className:i,style:{width:ma,height:ma*3/4}},h&&l.createElement("img",{className:s,style:{maxWidth:ma,maxHeight:ma*3/4},src:h}))),l.createElement("div",{className:o,style:{width:A9}},l.createElement("div",{style:{marginBottom:6}},"Width: ",c==null?void 0:c.width),l.createElement("div",null,"Height: ",c==null?void 0:c.height),l.createElement(J0,null),l.createElement("div",null,l.createElement(te,{form:v,layout:"vertical",onValuesChange:b=>{b.devicePixelRatio>0&&setTimeout(()=>{p(b.devicePixelRatio)},10)},disabled:u},l.createElement(te.Item,{label:"Device pixel ratio",name:"devicePixelRatio"},l.createElement(Ke,{size:"small",options:[1,2,3,4].map(b=>({label:`x${b}`,value:b}))})),l.createElement(te.Item,{label:"File name",name:"fileName"},l.createElement(cn,{size:"small",placeholder:"File name"})),l.createElement(Ve,{type:"primary",onClick:m,disabled:u||!h,loading:u},"Download"))))),[c,u,h,p])};var _9=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})};function O9(e){return new Promise(function(t,n){const r=new FileReader;r.onload=function(){t(r)},r.onerror=n,e.type==="application/json"?r.readAsText(e):r.readAsArrayBuffer(e)})}function P9(e){qs({accept:"application/json",success:t=>_9(this,void 0,void 0,function*(){var n,r,a;const o=(yield O9(t.file)).result;if(typeof o=="string")try{const s=JSON.parse(o);(n=e==null?void 0:e.success)===null||n===void 0||n.call(e,{json:s})}catch(s){(r=e==null?void 0:e.error)===null||r===void 0||r.call(e,s)}else(a=e==null?void 0:e.error)===null||a===void 0||a.call(e,Error("ERROR_PICK_FILE_FAIL"))}),error:e==null?void 0:e.error})}const I9=()=>{const[e]=Ro("NavMenu");return e},Xu="mod-nav-menu",$9=e=>{const{className:t,style:n,sharedStore:r,sharedEvent:a}=e,[i,o]=q0.useModal(),s=Y(Xu),c=Y(Xu,"dropdown"),[d,u]=I.useState([]),f=I9(),h=({key:P,domEvent:j})=>{j.preventDefault(),a.trigger("createElement",{type:P,element:{name:P}})},{state:g}=I.useContext(Ut),{editMode:v,pageTree:p}=g,[m,b]=I.useState(!1);I.useEffect(()=>{const P=j=>{const{isPageOverview:D}=j;b(!!D)};return a.on("switchPageOverview",P),()=>{a.off("switchPageOverview",P)}},[]);const x=!!(v==="page"&&(p.length===0||m)),w=P=>{const j=r.get("idraw");j==null||j.resize({devicePixelRatio:P})},y={more:[{key:"about-idraw-stuido",label:f.about,disabled:!0},{key:"line",type:"divider"},{key:"file",label:f.file,children:[{key:"import-json-file",label:f.importJSONFile,onClick:()=>{P9({success:({json:P})=>{a.trigger("resetData",{data:P})},error:()=>{}})}},{key:"export-image",label:f.exportImage,onClick:()=>{i.info({icon:null,title:"Whole image file",width:M9,content:l.createElement(T9,{sharedEvent:a,sharedStore:r}),footer:null,closable:!0})}},{key:"export-json-file",label:f.exportJSONFile,onClick:()=>{const P=r.get("idraw"),j=P==null?void 0:P.getData({compact:!0});if(j){const D=JSON.stringify(j);Sg(D,{fileName:"downdown.json"})}}}]},{key:"preferences",label:f.preferences,children:[{key:"device-pixel-ratio",label:f.devicePixelRatio,type:"group",children:[{key:"device-pixel-ratio-x1",label:"x1",onClick:()=>{w(1)}},{key:"device-pixel-ratio-x2",label:"x2",onClick:()=>{w(2)}},{key:"device-pixel-ratio-x3",label:"x3",onClick:()=>{w(3)}}]}]}],element:[{key:"rect",label:f.rect,icon:l.createElement(sh,null),disabled:x,onClick:h},{key:"circle",label:f.circle,icon:l.createElement(lh,null),disabled:x,onClick:h},{key:"text",label:f.text,icon:l.createElement(ch,null),disabled:x,onClick:h},{key:"image",label:f.image,icon:l.createElement(fh,null),disabled:x,onClick:h},{key:"svg",label:f.svg,disabled:x,icon:l.createElement(uh,null),onClick:h},{key:"html",label:f.html,disabled:!0,icon:l.createElement(hh,null),onClick:h},{key:"group",label:f.group,icon:l.createElement(dh,null),disabled:x,onClick:h}]},_={size:"small",type:"text"},E=[{key:"more",button:l.createElement(Cm,{style:{fontSize:20}})},{key:"element",button:l.createElement(im,{style:{fontSize:20}})}],T=()=>{const P=r.get("idraw"),j=[];if(P){const{viewSizeInfo:D}=P.getViewInfo(),{devicePixelRatio:V}=D;j.push(`device-pixel-ratio-x${V}`)}u(j)};return I.useMemo(()=>l.createElement("div",{style:n,className:he(s,t)},E.map((P,j)=>l.createElement(Ir,{key:j,trigger:["click","click"],menu:{items:y[P.key]||[],selectedKeys:d},placement:"bottom",overlayClassName:c,onOpenChange:D=>{D===!0&&T()}},l.createElement(Ve,Object.assign({},_,{onClick:D=>D.preventDefault()}),l.createElement(ef.Compact,null,P.button,l.createElement(mo,{style:{fontSize:10,marginLeft:4}}))))),o),[d,f])},bn="mod-header",z9=e=>{const{logo:t,navigationMenu:n,navigationCenter:r,className:a,style:i,openLeftSider:o,openRightSider:s,onClickToggleLayer:c,onClickToggleSetting:d,sharedStore:u,sharedEvent:f}=e,{state:h,dispatch:g}=I.useContext(Ut),v=Y(bn),p=Y(bn,"left"),m=Y(bn,"right"),b=Y(bn,"center"),x=Y(bn,"locale"),w=Y(bn,"scale"),y=Y(bn,"switch"),{localeCode:_,scaleInfo:E}=h;return I.useMemo(()=>l.createElement("div",{style:i,className:he(v,a)},l.createElement("div",{className:p},t,n||l.createElement($9,{sharedStore:u,sharedEvent:f}),l.createElement(m9,{openLeftSider:o,openRightSider:s,onClickToggleLayer:c,onClickToggleSetting:d,sharedStore:u,sharedEvent:f})),r&&l.createElement("div",{className:b},r),l.createElement("div",{className:m},l.createElement(Zv,{className:w,value:`${ye(E.scale)}`,onChange:T=>{const P=parseFloat(T);P>0&&(g==null||g({type:"update",payload:{scaleInfo:{scale:ye(P),from:"control"}}}))}}),l.createElement(yg,{className:x,value:_,onChange:T=>{g==null||g({type:"update",payload:{localeCode:T}})}}),l.createElement(mg,{className:y,theme:h==null?void 0:h.themeMode,onChange:({theme:T})=>{g==null||g({type:"updateThemeMode",payload:{themeMode:T}})}}))),[_,E,o,s,c,d])};var Ku=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const R9="mod-sketch",D9=e=>{const t=I.useRef(null),n=I.useRef(null),r=I.useRef(!1),{className:a,style:i,width:o,height:s,sharedEvent:c,sharedStore:d,useContextMenuOptions:u}=e,{generateClassName:f}=I.useContext(Aa),{state:h,dispatch:g}=I.useContext(Ut),{editingData:v}=h,p=f(R9),m=I.useRef([]),b=I.useRef(h.editingData),x=I.useRef(h.data),w=I.useRef([]),[y]=u({sharedEvent:c,sharedStore:d});return I.useEffect(()=>{m.current=[...h.editingDataPosition],x.current=h.data,b.current=h.editingData,w.current=[...h.selectedUUIDs]},[h.editingDataPosition,h.data,h.editingData,h.selectedUUIDs]),I.useEffect(()=>{if(!(t!=null&&t.current)||n!=null&&n.current)return;const _={width:o,height:s,devicePixelRatio:window.devicePixelRatio},E=new Xv(t.current,_);E.enable("ruler"),n.current=E;const T=O=>{var B;const W=b.current;let{uuids:A}=O;if((A==null?void 0:A.length)===1&&((B=w.current)===null||B===void 0?void 0:B.length)===1&&A[0]===w.current[0])return;const{positions:H}=O;H&&Array.isArray(H)&&(A=vf(H,W.elements).map(M=>M.uuid)),g({type:"update",payload:{selectedUUIDs:A}})},P=O=>{const{data:B,type:W}=O,A=b.current;if(["addElement","updateElement","deleteElement","moveElement","dragElement","resizeElement"].includes(W)){const H={editingData:Object.assign({},B)};["addElement","deleteElement","moveElement"].includes(W)&&(H.elementTree=Ce(A)),g({type:"update",payload:H})}else if(W==="changeLayout"){if(B.layout){const H=Object.assign({},B.layout);H.detail&&(H.detail=Object.assign({},H.detail)),B.layout=Object.assign({},B.layout)}g({type:"updateEditingDataLayoutToTargetGroup",payload:{editingData:Object.assign({},B)}})}},j=O=>{const{scale:B}=O;g({type:"update",payload:{scaleInfo:{scale:B,from:"event"}}})},D=O=>{const{element:B}=O;E.updateElement(B);const W=Object.assign({},E.getData()),A=Ce(W);g({type:"update",payload:{editingData:Object.assign({},W),elementTree:A}})},V=O=>{const{type:B,element:W}=O,A=E.createElement(B,{element:W,viewCenter:!0});let H=E.getViewCenter();const X=w.current;let M=[];const N=E.getData();if(Array.isArray(X)&&X.length===1){const k=X[0],J=Ot(k,N.elements);let se=Ze(J,N.elements);if(J.length>1){M=[...J];let Z=M.pop();Z+=1;const We=[...M];M.push(Z),se=Ze(We,N.elements),H=mt(se),A.x=H.x-A.w/2,A.y=H.y-A.h/2}}const R=E.addElement(A,{position:M}),U=Ce(R);g({type:"update",payload:{editingData:Object.assign({},R),elementTree:U}}),E.selectElements([A.uuid])},z=O=>{const{element:B,position:W=[]}=O;let A=E.getViewCenter();const H=w.current;let X=W;const M=E.getData();if(Array.isArray(H)&&H.length===1){const U=H[0],k=Ot(U,M.elements),J=Ze(k,M.elements);k.length>0&&(J==null?void 0:J.type)==="group"&&Array.isArray(J.detail.children)&&(X=[...k],X.push(J.detail.children.length),A=mt(J))}const N=E.addElement(Object.assign(Object.assign({},B),{x:A.x-B.w/2,y:A.y-B.h/2}),{position:X}),R=Ce(N);g({type:"update",payload:{editingData:Object.assign({},N),elementTree:R}}),E.selectElements([B.uuid])},C=O=>{const{uuid:B}=O;E==null||E.deleteElement(B);const W=E==null?void 0:E.getData();if(W){const A=Ce(W);g({type:"update",payload:{editingData:Object.assign({},W),elementTree:A}}),E.trigger(ve.clearSelect,{})}},L=O=>{const{element:B,inPageOverview:W}=O,{w:A,h:H,detail:X}=B,M=x.current;M.elements=[...M.elements,B];const N=Ku(X,["children"]);let R={elements:B.detail.children,layout:{x:0,y:0,w:A,h:H,detail:N,operations:{disabledTop:!0,disabledTopLeft:!0,disabledTopRight:!0,disabledBottomLeft:!0,disabledLeft:!0}}};const U=Ce(M);let k=[U.length-1];W===!0&&(R=M,k=[]);const J=Ce(R);E.centerContent({data:R}),g({type:"update",payload:{data:Object.assign({},M),editingData:R,elementTree:J,pageTree:U,editingDataPosition:k}})},G=O=>{var B,W,A,H;const{uuid:X}=O;if(!X)return;const M=x.current;let N=-1;const R={pageTree:[]};for(let k=0;k<M.elements.length;k++)if(((B=M.elements[k])===null||B===void 0?void 0:B.uuid)===X){M.elements.splice(k,1),M.elements=[...M.elements],N=k;break}const U=Ce(M);if(R.data=Object.assign({},M),R.pageTree=U,m.current.length===1&&N===m.current[0]){let k=(W=M==null?void 0:M.elements)===null||W===void 0?void 0:W[N],J=N;for(;!(!((A=k==null?void 0:k.extends)===null||A===void 0)&&A.isPage)&&J>0;)J--,k=(H=M==null?void 0:M.elements)===null||H===void 0?void 0:H[J];if(k){const se=k.detail,{children:Z}=se,We=Ku(se,["children"]),Be={elements:Z||[],layout:{x:0,y:0,w:k.w,h:k.h,detail:We,operations:{disabledTop:!0,disabledTopLeft:!0,disabledTopRight:!0,disabledBottomLeft:!0,disabledLeft:!0}}},Xt=Ce(Be);R.editingData=Be,R.editingDataPosition=[J],R.elementTree=Xt,E.centerContent({data:Be})}else R.editingData={elements:[]},R.editingDataPosition=[],R.elementTree=[]}else m.current.length===0&&(R.editingData=Object.assign({},M));U.length===0&&(R.elementTree=[],R.editingDataPosition=[],R.editingData={elements:[]}),g({type:"update",payload:R})},$=O=>{const{type:B,position:W}=O,A=n==null?void 0:n.current;if(!A)return;const H=m.current,X=b.current;let M=x.current;if(H.length>0?s9(H,X,M):H.length===0&&(M=X),B==="go-to-page"&&W){const N=[...W],R=an(N,M),U=Ce(R);g({type:"update",payload:{data:Object.assign({},M),editingData:Object.assign({},R),editingDataPosition:N,elementTree:U}}),A.centerContent({data:R}),A.trigger(ve.clearSelect,{})}else if(B==="go-to-group"&&W){const N=[...W],R=an(N,M),U=Ce(R);g({type:"update",payload:{data:Object.assign({},M),editingData:Object.assign({},R),editingDataPosition:N,elementTree:U}}),A.centerContent({data:R}),A.trigger(ve.clearSelect,{})}else if(B==="go-to-next-group"&&W){const N=[...H,...W],R=an(N,M),U=Ce(R);g({type:"update",payload:{data:Object.assign({},M),editingData:Object.assign({},R),editingDataPosition:N,elementTree:U}}),A.centerContent({data:R}),A.trigger(ve.clearSelect,{})}else if(B==="back-one"&&H.length>0){const N=[...H];N.pop();const R=an(N,M),U=Ce(R);g({type:"update",payload:{data:Object.assign({},M),editingData:Object.assign({},R),editingDataPosition:[...N],elementTree:U}}),A.centerContent({data:R}),A.trigger(ve.clearSelect,{})}else if(B==="back-root"){const N=[],R=an(N,M),U=Ce(R);g({type:"update",payload:{data:Object.assign({},M),editingData:R,editingDataPosition:N,elementTree:U}}),A.centerContent({data:R}),A.trigger(ve.clearSelect,{})}},S=O=>{let{data:B}=O,W=[],A=Ma(B);if(h.editMode==="page"&&(B=F0(B),A=Ma(B),A.length>0)){const M=A[0].uuid;W=Ot(M,B.elements)}let H=an(W,B);const X=Ce(H);g({type:"update",payload:{data:Object.assign({},B),editingData:Object.assign({},H),editingDataPosition:W,elementTree:X,pageTree:A}}),E.centerContent({data:H}),E.trigger(ve.clearSelect,{})},F=O=>{const{editingData:B}=O,W=Ce(B);g({type:"update",payload:{editingData:Object.assign({},B),elementTree:W}}),E.trigger(ve.clearSelect,{})};if(E.on(ve.select,T),E.on(ve.change,P),E.on(ve.scale,j),E.on(ve.textChange,D),c.on("createElement",V),c.on("addElement",z),c.on("deleteElement",C),c.on("addPage",L),c.on("deletePage",G),c.on("resetEditingView",$),c.on("resetData",S),c.on("resetEditingData",F),c.on("dispatch",g),!r.current){if(h.scaleInfo){const{scale:O,offsetX:B,offsetY:W}=h.scaleInfo;O&&B&&W?E.setViewScale({scale:O,offsetX:B,offsetY:W}):E.centerContent({data:h.editingData})}r.current=!0}return d.set("idraw",E),()=>{r.current=!1,E.off(ve.select,T),E.off(ve.change,P),E.off(ve.scale,j),E.off(ve.textChange,D),d.set("idraw",null)}},[]),I.useEffect(()=>{n!=null&&n.current&&n.current.setData(v)},[v]),I.useEffect(()=>{if(n!=null&&n.current){const _=n.current;h.scaleInfo.from==="control"&&_.scale({scale:h.scaleInfo.scale,point:{x:o/2,y:s/2}})}},[h.scaleInfo]),I.useEffect(()=>{const _=n.current,E=t.current;_&&_.resize({width:o,height:s}),E&&(E.style.width=`${o}px`,E.style.height=`${s}px`)},[o,s]),I.useMemo(()=>l.createElement(Ir,{menu:{items:y},trigger:["contextMenu"]},l.createElement("div",{ref:t,className:he(p,a),style:Object.assign(Object.assign({},i),{width:o,height:s,padding:0})})),[y])},Qn="mod-dashboard",gi=240,pi=240,Jn=36,N9=I.forwardRef((e,t)=>{const{className:n,style:r,width:a,height:i,logo:o,navigationMenu:s,navigationCenter:c,defaultSelectedElementUUIDs:d,sharedStore:u,sharedEvent:f,useContextMenuOptions:h,handleKeyboard:g}=e,{state:v}=I.useContext(Ut),{editMode:p}=v,[m,b]=I.useState(!0),[x,w]=I.useState(!0);I.useEffect(()=>{const z=C=>{["INPUT","TEXTAREA"].includes(C.target.nodeName)||g(C,{sharedEvent:f,sharedStore:u})};return window.addEventListener("keydown",z),()=>{window.removeEventListener("keydown",z)}},[]);const[y,_]=I.useState({leftWidth:m?gi:0,rightWidth:x?pi:0,centerWidth:a-(m?gi:0)-(x?pi:0)});I.useEffect(()=>{const z=m?gi:0,C=x?pi:0,L=a-z-C;_({leftWidth:z,rightWidth:C,centerWidth:L})},[i,a,m,x]);const E=Y(Qn),T=Y(Qn,"header"),P=Y(Qn,"content"),j=Y(Qn,"left"),D=Y(Qn,"right"),V=Y(Qn,"right");return I.useMemo(()=>{const{leftWidth:z,rightWidth:C,centerWidth:L}=y;return l.createElement("div",{ref:t,className:he(E,n),style:Object.assign(Object.assign({},r),{width:a,height:i,padding:0})},l.createElement("div",{className:T,style:{height:Jn}},l.createElement(z9,{sharedEvent:f,sharedStore:u,logo:o,navigationMenu:s,navigationCenter:c,openLeftSider:m,openRightSider:x,onClickToggleLayer:()=>{const G=!m;let $=z;G?$=gi:$=0,_({leftWidth:$,rightWidth:C,centerWidth:a-$-C}),b(G)},onClickToggleSetting:()=>{const G=!x;let $=C;G?$=pi:$=0,_({leftWidth:z,rightWidth:$,centerWidth:a-z-$}),w(G)}})),l.createElement("div",{className:P,style:{top:Jn}},l.createElement(Fi,{split:"vertical",defaultSize:L+C,allowResize:!0,onChange:G=>{const $=a-G,S=G-C;S<100||_({leftWidth:$,rightWidth:C,centerWidth:S})},pane1Style:{width:z},pane2Style:{width:L+C}},l.createElement("div",null,m&&(p==="page"?l.createElement(x9,{height:i-Jn,className:j,defaultSelectedElementUUIDs:d,sharedEvent:f,sharedStore:u,useContextMenuOptions:h}):l.createElement(b9,{height:i-Jn,className:j,defaultSelectedElementUUIDs:d,sharedEvent:f,sharedStore:u,useContextMenuOptions:h}))),l.createElement("div",{style:{width:y.centerWidth+y.rightWidth,display:"flex",flexDirection:"row"}},l.createElement(D9,{className:V,width:L,height:i-Jn,sharedStore:u,sharedEvent:f,useContextMenuOptions:h}),l.createElement("div",{className:D,style:{width:C,height:i-Jn}},l.createElement(C9,null))))))},[n,p,m,x,y,i])});function Zu(){return{idraw:null,clipboard:{type:"default",data:null},selectedUUIDs:[]}}function L9(e){const{sharedEvent:t,sharedStore:n}=e;t.on("copy",()=>{const r=n.get("idraw"),a=n.get("selectedUUIDs"),i=r==null?void 0:r.getData();if(i&&Array.isArray(a)&&a.length>0){const o=yi(a,i.elements);o.length>0&&n.set("clipboard",{type:"copy-elements",data:o})}}),t.on("paste",()=>{const r=n.get("idraw"),a=n.get("clipboard"),i=n.get("selectedUUIDs");if(r&&["copy-elements","cut-elements"].includes(a==null?void 0:a.type)&&Array.isArray(a.data)){const o=a.data,s=[];if(a.type==="copy-elements"){for(let h=0;h<o.length;h++)if(o[h]){const g=o[h],v=ko(g);v.name=`${v.name} copy`,s.push(v)}}else if(a.type==="cut-elements"){for(let h=0;h<o.length;h++)if(o[h]){const g=o[h],v=ko(g);v.name=`${v.name}`,s.push(v)}}const c=r==null?void 0:r.getData(),d=Ot(i[0],(c==null?void 0:c.elements)||[]);d.length>0&&d[d.length-1]++,s.forEach(h=>{r.addElement(h,{position:d})});const u=r==null?void 0:r.getData(),f=Ce(u);t.trigger("dispatch",{type:"update",payload:{editingData:u,elementTree:f}}),r.selectElement(s[0].uuid),setTimeout(()=>{t.trigger("scrollToLayer",{uuid:s[0].uuid})},100)}}),t.on("cut",()=>{const r=n.get("idraw"),a=n.get("selectedUUIDs"),i=r==null?void 0:r.getData();if(i&&Array.isArray(a)&&a.length>0){const c=yi(a,i.elements);c.length>0&&n.set("clipboard",{type:"cut-elements",data:c.map(d=>ko(d))}),c.forEach(d=>{r==null||r.deleteElement(d.uuid)})}const o=r==null?void 0:r.getData(),s=Ce(o);t.trigger("dispatch",{type:"update",payload:{editingData:o,elementTree:s}}),r==null||r.trigger(ve.clearSelect)}),t.on("delete",()=>{const r=n.get("idraw"),a=n.get("selectedUUIDs"),i=r==null?void 0:r.getData();if(i&&Array.isArray(a)&&a.length>0){const o=yi(a,i.elements);if(o.length>0){for(let d=0;d<o.length;d++)r==null||r.deleteElement(o[d].uuid);const s=r==null?void 0:r.getData(),c=Ce(s);t.trigger("dispatch",{type:"update",payload:{editingData:s,elementTree:c}}),r==null||r.trigger(ve.clearSelect)}}})}const j9=e=>{const[t]=Ro("contextMenu"),{sharedEvent:n}=e;return[[{label:t.copy,key:"copy",onClick:()=>{n.trigger("copy")}},{label:t.paste,key:"paste-here",onClick:()=>{n.trigger("paste")}},{label:t.cut,key:"cut",onClick:()=>{n.trigger("cut")}},{label:t.delete,key:"delete",onClick:()=>{n.trigger("delete")}}]]};var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});var k9=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),bs={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},G0={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:k9?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},ql={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var vi=1;vi<20;vi++)ql["f"+vi]=111+vi;function Do(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(o){return U0(o,t)}),a=function(s){return r.some(function(c){return Y0(c,s)})},i=n==null?a:a(n);return i}function B9(e,t){return Do(e,t)}function F9(e,t){return Do(e,{byKey:!0},t)}function U0(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var a=e.split("+"),i=a.length;for(var o in bs)r[bs[o]]=!1;var s=!0,c=!1,d=void 0;try{for(var u=a[Symbol.iterator](),f;!(s=(f=u.next()).done);s=!0){var h=f.value,g=h.endsWith("?")&&h.length>1;g&&(h=h.slice(0,-1));var v=ec(h),p=bs[v];if(h.length>1&&!p&&!G0[h]&&!ql[v])throw new TypeError('Unknown modifier: "'+h+'"');(i===1||!p)&&(n?r.key=v:r.which=X0(h)),p&&(r[p]=g?null:!0)}}catch(m){c=!0,d=m}finally{try{!s&&u.return&&u.return()}finally{if(c)throw d}}return r}function Y0(e,t){for(var n in e){var r=e[n],a=void 0;if(r!=null&&(n==="key"&&t.key!=null?a=t.key.toLowerCase():n==="which"?a=r===91&&t.which===93?91:t.which:a=t[n],!(a==null&&r===!1)&&a!==r))return!1}return!0}function X0(e){e=ec(e);var t=ql[e]||e.toUpperCase().charCodeAt(0);return t}function ec(e){return e=e.toLowerCase(),e=G0[e]||e,e}var qn=Yt.default=Do;Yt.isHotkey=Do;Yt.isCodeHotkey=B9;Yt.isKeyHotkey=F9;Yt.parseHotkey=U0;Yt.compareHotkey=Y0;Yt.toKeyCode=X0;Yt.toKeyName=ec;const H9=(e,t)=>{const{sharedEvent:n}=t;qn("mod+c",e)?n.trigger("copy",void 0):qn("mod+v",e)?n.trigger("paste",void 0):qn("mod+x",e)?n.trigger("cut",void 0):qn("del",e)||qn("backspace",e)?n.trigger("delete",void 0):qn("mod+s",e)&&console.log("Save ... ")},G9=l.forwardRef((e,t)=>{const{width:n=1e3,height:r=600,style:a,className:i,logo:o,navigationMenu:s,navigationCenter:c,defaultSelectedElementUUIDs:d,defaultEditMode:u,prefiexName:f,onEditGroupElement:h,useContextMenuOptions:g=j9,handleKeyboard:v=H9}=e,[p,m]=I.useReducer(u9,c9(e)),b=I.useRef(null),x=I.useRef(new An),w=I.useRef(new Tn({defaultStorage:Zu()}));return I.useEffect(()=>{if(u!=="page"){const y=Ze(p.editingDataPosition,p.data.elements);h==null||h({uuid:y==null?void 0:y.uuid,position:[...p.editingDataPosition]})}},[p.editingDataPosition]),I.useImperativeHandle(t,()=>({getSharedEvent(){return x.current},getSharedStore(){return w.current},dispatch(_){const{type:E,payload:T}=_;m({type:E,payload:T})}}),[]),I.useEffect(()=>(x.current||(x.current=new An),w.current||(w.current=new Tn({defaultStorage:Zu()})),L9({sharedEvent:x.current,sharedStore:w.current}),()=>{var y,_;(y=w.current)===null||y===void 0||y.clear(),(_=x.current)===null||_===void 0||_.destroy(),x.current=null,w.current=null}),[]),I.useEffect(()=>{const y=w.current;y&&y.set("selectedUUIDs",[...p.selectedUUIDs])},[p.selectedUUIDs]),I.useEffect(()=>{const y=x.current;y==null||y.trigger("switchTheme",{theme:p.themeMode})},[p.themeMode]),I.useEffect(()=>{const y=x.current;y==null||y.trigger("changeLocale",{locale:p.localeCode})},[p.localeCode]),I.useEffect(()=>{const y=x.current;y==null||y.trigger("trackDataChange",{data:p.data})},[p.data]),I.useEffect(()=>{const y=x.current;y==null||y.trigger("trackEditingDataChange",{editingData:p.editingData,editingDataPosition:p.editingDataPosition})},[p.editingData,p.editingDataPosition]),I.useMemo(()=>l.createElement(rg,{localeCode:p.localeCode,container:b.current,topPrefix:f,themeMode:p.themeMode},l.createElement(f9,{value:{state:p,dispatch:m}},l.createElement(N9,{logo:o,navigationMenu:s,navigationCenter:c,ref:b,width:n,height:r,style:a,className:i,defaultSelectedElementUUIDs:d,sharedEvent:x.current,sharedStore:w.current,useContextMenuOptions:g,handleKeyboard:v}))),[f,n,r,p,m,b])});export{G9 as S};
