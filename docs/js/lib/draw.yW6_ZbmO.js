import{c as pe,A as B0,t as cl,S as Wd,a as We,I as se,D as vi,B as Ke,e as F0,b as H0,d as Qn,T as W0,F as J,R as he,C as Q,f as Ue,P as Gd,m as Ya,E as aa,g as G0,h as ia,i as V0,j as U0,M as Y0,k as X0}from"./antd.nD95HiyC.js";import{r as O,R as l,e as Z0,g as Vd,f as oa}from"./react.a9c7Vtlp.js";let mi="idraw-studio";function dl(e){mi=e}function ul(){return mi}function Ud(e){return(...t)=>[mi,e,...t].join("-")}function yo(...e){return[mi,...e].join("-")}const K0={locale:"en-US",Header:{},ElementDetail:{basicAttributes:"Basic",borderAttribute:"Border",contentAttribute:"Content",shadowAttribute:"Shadow",x:"X",y:"Y",w:"W",h:"H",background:"Background",solid:"Solid",dash:"Dash",inside:"Inside",outside:"Outside",centerLine:"Center",gradient:"Gradient",opacity:"Opacity",mixedBorderWidth:"Mixed",mixedBorderRadius:"Mixed",overflow:"Overflow",hidden:"Hidden",visible:"Visible",deepResizeInGroup:"Deep resize in group"},Menu:{about:"About @idraw/studio",file:"File",importJSONFile:"Import JSON file",exportJSONFile:"Export JSON file",exportImage:"Export image",preferences:"Preferences",rect:"Rect",circle:"Circle",text:"Text",image:"Image",html:"HTML",svg:"SVG",group:"Group",devicePixelRatio:"Device pixel ratio"}},Q0={locale:"zh-CN",Header:{},ElementDetail:{basicAttributes:"基础",borderAttribute:"边框",contentAttribute:"内容",shadowAttribute:"阴影",x:"X",y:"Y",w:"宽",h:"高",background:"背景色",solid:"实线",dash:"虚线",inside:"内线",outside:"外线",centerLine:"中线",gradient:"渐变",opacity:"透明度",mixedBorderWidth:"混合边框",mixedBorderRadius:"混合圆角",overflow:"溢出",hidden:"隐藏",visible:"可视",deepResizeInGroup:"组内尺寸关联调整"},Menu:{about:"关于 @idraw/studio",file:"文件",importJSONFile:"导入JSON文件",exportJSONFile:"导出JSON文件",exportImage:"导出图片",preferences:"预设",rect:"矩形",circle:"圆形",text:"文本",image:"图片",html:"HTML片段",svg:"SVG片段",group:"群组",devicePixelRatio:"设备像素比例"}},fl={"en-US":K0,"zh-CN":Q0},wo="en-US",J0=e=>{const{localeCode:t}=O.useContext(le);return[O.useMemo(()=>{const a=(fl[t||wo]||fl[wo])[e];return Object.assign({},a)},[t,e])]},q0=e=>{const{themeMode:t}=e,n="theme",r=yo(n),a=yo(n,"dark"),i=pe({[r]:!0,[a]:t==="dark"});return{themeMode:t,className:i}},Yd=e=>(e!=null&&e.topPrefix&&typeof(e==null?void 0:e.topPrefix)=="string"&&dl(e.topPrefix),Object.assign({topPrefix:ul(),createPrefixName:Ud,generateClassName:yo,getClassNameTopPrefix:ul,setClassNameTopPrefix:dl,localeCode:wo},e||{})),le=O.createContext(Yd()),eh=e=>{const{children:t,topPrefix:n,localeCode:r,container:a,themeMode:i}=e,o=Yd({topPrefix:n,localeCode:r}),[s,c]=O.useState(o),{className:d}=q0({themeMode:i});return O.useEffect(()=>{c(Object.assign(Object.assign({},s),{localeCode:r,container:a}))},[r,a]),l.createElement(le.Provider,{value:Object.assign({},s)},l.createElement(B0,{theme:{algorithm:i==="dark"?cl.darkAlgorithm:cl.defaultAlgorithm}},l.createElement("div",{className:d},t)))};class hl extends l.PureComponent{render(){const{children:t,className:n,split:r,style:a,size:i,eleRef:o}=this.props,s=["Pane",r,n];let c={flex:1,position:"relative",outline:"none"};return i!==void 0&&(r==="vertical"?c.width=i:(c.height=i,c.display="flex"),c.flex="none"),c=Object.assign({},c,a||{}),l.createElement("div",{ref:o,className:s.join(" "),style:c},t)}}const th="base-split-pane",nh=()=>{const{generateClassName:e}=O.useContext(le);return{modClassName:e(th)}};function rh(e){const{modClassName:t}=nh(),{className:n,onClick:r,onDoubleClick:a,onMouseDown:i,onTouchEnd:o,onTouchStart:s,resizerClassName:c=t,split:d,style:u}=e,f=[c,d,n];return O.useMemo(()=>l.createElement("span",{role:"presentation",className:f.join(" "),style:u,onMouseDown:p=>i(p),onTouchStart:p=>{p.preventDefault(),s(p)},onTouchEnd:p=>{p.preventDefault(),o(p)},onClick:p=>{r&&(p.preventDefault(),r(p))},onDoubleClick:p=>{a&&(p.preventDefault(),a(p))}}),[])}const ah="xxxxx";function pl(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch{}}function gl(e,t,n,r){if(typeof r=="number"){const a=typeof t=="number"?t:0,i=typeof n=="number"&&n>=0?n:1/0;return Math.max(a,Math.min(i,r))}return e!==void 0?e:t}function ih(e){return l.Children.toArray(e).filter(t=>t)}class Xa extends l.Component{constructor(t){super(t),this.onMouseDown=this.onMouseDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this);const{size:n,defaultSize:r,minSize:a,maxSize:i,primary:o}=t,s=n!==void 0?n:gl(r,a,i,null);this.state={active:!1,resized:!1,pane1Size:o==="first"?s:void 0,pane2Size:o==="second"?s:void 0,instanceProps:{size:n}}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(Xa.getSizeUpdate(this.props,this.state))}static getDerivedStateFromProps(t,n){return Xa.getSizeUpdate(t,n)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}onMouseDown(t){const n=Object.assign({},t,{touches:[{clientX:t.clientX,clientY:t.clientY}]});this.onTouchStart(n)}onTouchStart(t){const{allowResize:n,onDragStarted:r,split:a}=this.props;if(n){pl(document,window);const i=a==="vertical"?t.touches[0].clientX:t.touches[0].clientY;typeof r=="function"&&r(),this.setState({active:!0,position:i})}}onMouseMove(t){const n=Object.assign({},t,{touches:[{clientX:t.clientX,clientY:t.clientY}]});this.onTouchMove(n)}onTouchMove(t){const{allowResize:n,maxSize:r,minSize:a,onChange:i,split:o,step:s}=this.props,{active:c,position:d}=this.state;if(n&&c){pl(document,window);const u=this.props.primary==="first",f=u?this.pane1:this.pane2,p=u?this.pane2:this.pane1;if(f){const h=f,v=p;if(h.getBoundingClientRect){const g=h.getBoundingClientRect().width,m=h.getBoundingClientRect().height,b=o==="vertical"?t.touches[0].clientX:t.touches[0].clientY,y=o==="vertical"?g:m;let x=d-b;if(s){if(Math.abs(x)<s)return;x=~~(x/s)*s}let w=u?x:-x;const C=parseInt(window.getComputedStyle(h).order),_=parseInt(window.getComputedStyle(v).order);C>_&&(w=-w);let A=r;if(r!==void 0&&r<=0){const P=this.splitPane;o==="vertical"?A=P.getBoundingClientRect().width+r:A=P.getBoundingClientRect().height+r}let R=y-w;const S=d-x;R<a?R=a:r!==void 0&&R>A?R=A:this.setState({position:S,resized:!0}),i&&i(R),this.setState({draggedSize:R,[u?"pane1Size":"pane2Size"]:R})}}}}onMouseUp(){const{allowResize:t,onDragFinished:n}=this.props,{active:r,draggedSize:a}=this.state;t&&r&&(typeof n=="function"&&n(a),this.setState({active:!1}))}static getSizeUpdate(t,n){const r={},{instanceProps:a}=n;if(a.size===t.size&&t.size!==void 0)return{};const i=t.size!==void 0?t.size:gl(t.defaultSize,t.minSize,t.maxSize,n.draggedSize);t.size!==void 0&&(r.draggedSize=i);const o=t.primary==="first";return r[o?"pane1Size":"pane2Size"]=i,r[o?"pane2Size":"pane1Size"]=void 0,r.instanceProps={size:t.size},r}render(){const{allowResize:t,children:n,className:r,onResizerClick:a,onResizerDoubleClick:i,paneClassName:o,pane1ClassName:s,pane2ClassName:c,paneStyle:d,pane1Style:u,pane2Style:f,resizerClassName:p,resizerStyle:h,split:v,style:g}=this.props,{pane1Size:m,pane2Size:b}=this.state,y=t?"":"disabled",x=p&&`${p} ${ah}`,w=ih(n),C=Object.assign({display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},g);v==="vertical"?Object.assign(C,{flexDirection:"row",left:0,right:0}):Object.assign(C,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});const _=["SplitPane",r,v,y],A=Object.assign(Object.assign({},d),u),R=Object.assign(Object.assign({},d),f),S=["Pane1",o,s].join(" "),P=["Pane2",o,c].join(" ");return l.createElement("div",{className:_.join(" "),ref:j=>{this.splitPane=j},style:C},l.createElement(hl,{className:S,key:"pane1",eleRef:j=>{this.pane1=j},size:m,split:v,style:A},w[0]),l.createElement(rh,{className:y,onClick:a,onDoubleClick:i,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",resizerClassName:x,split:v,style:h||{}}),l.createElement(hl,{className:P,key:"pane2",eleRef:j=>{this.pane2=j},size:b,split:v,style:R},w[1]))}}var oh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const sh="icon",lh=()=>{const{generateClassName:e}=O.useContext(le);return{iconClassName:e(sh)}},ae=e=>{const{className:t,style:n,children:r}=e,a=oh(e,["className","style","children"]),{iconClassName:i}=lh();return O.useMemo(()=>l.createElement("span",Object.assign({className:pe([i,t]),style:n},a),r),[i,n,t])},ch=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M516.266667 938.666667h-38.4c-234.666667-21.333333-405.333333-230.4-384-465.066667 17.066667-204.8 179.2-366.933333 384-384 17.066667 0 34.133333 8.533333 42.666666 21.333333 8.533333 12.8 8.533333 34.133333-4.266666 46.933334-85.333333 115.2-59.733333 273.066667 55.466666 358.4 89.6 68.266667 213.333333 68.266667 302.933334 0 12.8-8.533333 29.866667-12.8 46.933333-4.266667 12.8 8.533333 21.333333 25.6 21.333333 42.666667-8.533333 115.2-64 217.6-153.6 290.133333-81.066667 59.733333-174.933333 93.866667-273.066666 93.866667zM396.8 187.733333c-123.733333 42.666667-213.333333 153.6-221.866667 290.133334-17.066667 187.733333 119.466667 354.133333 307.2 371.2 89.6 8.533333 179.2-17.066667 247.466667-76.8 46.933333-38.4 81.066667-89.6 102.4-145.066667-106.666667 38.4-226.133333 21.333333-320-46.933333-119.466667-93.866667-166.4-251.733333-115.2-392.533334z"}))),dh=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M512 768c-141.376 0-256-114.624-256-256s114.624-256 256-256 256 114.624 256 256-114.624 256-256 256z m0-85.333333a170.666667 170.666667 0 1 0 0-341.333334 170.666667 170.666667 0 0 0 0 341.333334zM469.333333 85.333333a42.666667 42.666667 0 1 1 85.333334 0v85.333334a42.666667 42.666667 0 1 1-85.333334 0V85.333333z m0 768a42.666667 42.666667 0 1 1 85.333334 0v85.333334a42.666667 42.666667 0 1 1-85.333334 0v-85.333334zM85.333333 554.666667a42.666667 42.666667 0 1 1 0-85.333334h85.333334a42.666667 42.666667 0 1 1 0 85.333334H85.333333z m768 0a42.666667 42.666667 0 1 1 0-85.333334h85.333334a42.666667 42.666667 0 1 1 0 85.333334h-85.333334zM161.834667 222.165333a42.666667 42.666667 0 0 1 60.330666-60.330666l64 64a42.666667 42.666667 0 0 1-60.330666 60.330666l-64-64z m576 576a42.666667 42.666667 0 0 1 60.330666-60.330666l64 64a42.666667 42.666667 0 0 1-60.330666 60.330666l-64-64z m-515.669334 64a42.666667 42.666667 0 0 1-60.330666-60.330666l64-64a42.666667 42.666667 0 0 1 60.330666 60.330666l-64 64z m576-576a42.666667 42.666667 0 0 1-60.330666-60.330666l64-64a42.666667 42.666667 0 0 1 60.330666 60.330666l-64 64z"}))),uh="base-theme-switch",fh=Ud(uh),vl=e=>{if(!(typeof e>"u"))return e==="light"};function hh(e){return e===!0?"light":"dark"}const ph=e=>{const{className:t,style:n,onChange:r,theme:a,defaultTheme:i}=e;return l.createElement(Wd,{className:pe([fh(),t]),style:n,checkedChildren:l.createElement(dh,{style:{height:"100%"}}),unCheckedChildren:l.createElement(ch,{style:{height:"100%"}}),checked:vl(i),defaultChecked:vl(a),onChange:o=>{const s=hh(o);r==null||r({theme:s})}})},ml=We.Option,gh="base-locale-selector",vh=e=>{const{className:t,style:n,defaultValue:r,value:a,onChange:i}=e,{createPrefixName:o}=O.useContext(le),s=o(gh);return O.useMemo(()=>l.createElement(We,{style:n,className:pe(s(),t),size:"small",defaultValue:r,value:a,onChange:i},l.createElement(ml,{value:"en-US"},"English"),l.createElement(ml,{value:"zh-CN"},"中文")),[t,n,r,a,i])};function sa(e,t){let n=-1;return function(...r){n>=0||(n=setTimeout(()=>{e(...r),n=-1},t))}}function ts(e){const{accept:t,success:n,error:r}=e;let a=document.createElement("input");a.type="file",t&&(a.accept=t),a.addEventListener("change",function(){var i;const o=(i=a.files)===null||i===void 0?void 0:i[0];n({file:o}),a=null}),a.addEventListener("error",function(i){typeof r=="function"&&r(i),a=null}),a.click()}function mh(e){return new Promise(function(t,n){let r=new FileReader;r.addEventListener("load",function(){t(r.result),r=null}),r.addEventListener("error",function(a){n(a),r=null}),r.addEventListener("abort",function(){n(new Error("abort")),r=null}),r.readAsDataURL(e)})}function bh(e){return new Promise(function(t,n){let r=new FileReader;r.addEventListener("load",function(){t(r.result),r=null}),r.addEventListener("error",function(a){n(a),r=null}),r.addEventListener("abort",function(){n(new Error("abort")),r=null}),r.readAsText(e)})}function yh(e){const t=new TextEncoder().encode(e),n=new Blob([t],{type:"text/plain;charset=utf-8"});return window.URL.createObjectURL(n)}function wh(e,t){const{fileName:n}=t,r=yh(e);let a=document.createElement("a");a.href=r,a.download=n,a.click(),a=null}function Za(e){return typeof e=="string"&&(/^\#([0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8})$/i.test(e)||/^[a-z]{1,}$/i.test(e))}function xh(e){let t="transparent";if(typeof e=="string")t=e;else if((e==null?void 0:e.type)==="linear-gradient"){const n=[];typeof e.angle=="number"?n.push(`${e.angle}deg`):n.push("180deg"),Array.isArray(e.stops)&&e.stops.forEach(r=>{n.push(`${r.color} ${r.offset*100}%`)}),t=`linear-gradient(${n.join(", ")})`}else if((e==null?void 0:e.type)==="radial-gradient"){const n=[];Array.isArray(e.stops)&&e.stops.forEach(r=>{n.push(`${r.color} ${r.offset*100}%`)}),t=`radial-gradient(circle, ${n.join(", ")})`}return t}function Ka(e){let t="transparent";if(typeof e=="string")t=e;else if((e==null?void 0:e.type)==="radial-gradient"||(e==null?void 0:e.type)==="linear-gradient"){const n=[];Array.isArray(e.stops)&&e.stops.length>0&&(e.stops.forEach((r,a)=>{n.push(`${r.color} ${r.offset*100}%`),a===e.stops.length-1&&r.offset<1&&n.push(`${r.color} ${r.offset*100}%`)}),t=`linear-gradient(90deg, ${n.join(", ")})`)}return t}function bl(e,t){if(t===1)return e;let n=1;const r=/^\#[0-9a-f]{6,6}$/i,a=/^\#[0-9a-f]{8,8}$/i;let i=e;if(r.test(e)?n=parseInt(e.substring(5,7).replace(/^\#/,"0x")):a.test(e)&&(n=parseInt(e.substring(7,9).replace(/^\#/,"0x")),i=e.substring(0,7)),n=n*t,r.test(i)&&n>0&&n<1){const o=Math.max(0,Math.min(255,Math.ceil(n*256)));i=`${i.toUpperCase()}${o.toString(16).toUpperCase()}`}return i}function Zn(){function e(){return((1+Math.random())*65536|0).toString(16).substring(1)}return`${e()}${e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}function Pt(e){let t=0;for(let n=0;n<e.length;n++)t+=e.charCodeAt(n)*e.charCodeAt(n)*n*n;return t.toString(16).substring(0,4)}function Kn(e){const t=e.length,n=Math.floor(t/2),r=e.substring(0,4).padEnd(4,"0"),a=e.substring(0,4).padEnd(4,"0"),i=Pt(t.toString(16).padEnd(4,r)),o=Pt(e.substring(n-4,n).padEnd(4,r)).padEnd(4,"f"),s=Pt(e.substring(n-8,n-4).padEnd(4,r)).padEnd(4,"f"),c=Pt(e.substring(n-12,n-8).padEnd(4,r)).padEnd(4,"f"),d=Pt(e.substring(n-16,n-12).padEnd(4,a)).padEnd(4,"f"),u=Pt(e.substring(n,n+4).padEnd(4,a)).padEnd(4,"f"),f=Pt(e.substring(n+4,n+8).padEnd(4,a)).padEnd(4,"f"),p=Pt(a.padEnd(4,r).padEnd(4,a));return`@assets/${i}${o}-${s}-${c}-${d}-${u}${f}${p}`}function Kt(e){return/^@assets\/[0-9a-z]{8,8}\-[0-9a-z]{4,4}\-[0-9a-z]{4,4}\-[0-9a-z]{4,4}\-[0-9a-z]{12,12}$/.test(`${e}`)}function Qt(e){function t(n){const r=Eh(n);if(["Null","Number","String","Boolean","Undefined"].indexOf(r)>=0)return n;if(r==="Array"){const a=[];return n.forEach(i=>{a.push(t(i))}),a}else if(r==="Object"){const a={};return Object.keys(n).forEach(s=>{a[s]=t(n[s])}),Object.getOwnPropertySymbols(n).forEach(s=>{a[s]=t(n[s])}),a}}return t(e)}function Vi(e){const t=Qt(e),n=r=>{r.uuid=Zn(),r.type==="group"&&r.detail.children&&r.detail.children.forEach(a=>{n(a)})};return n(t),t}function Eh(e){return Object.prototype.toString.call(e).replace(/[\]|\[]{1,1}/gi,"").split(" ")[1]}function Sh(e,t){const n=e.assets||{},r=Qt(e),a=(t==null?void 0:t.loadItemMap)||{},i=o=>{o.forEach(s=>{var c,d,u;if(s.type==="image"&&s.detail.src){const f=s.detail.src;if(Kt(f)&&!n[f]&&a[f]&&typeof((c=a[f])===null||c===void 0?void 0:c.source)=="string")n[f]={type:"image",value:a[f].source};else if(!n[f]){const p=Kn(f);n[p]||(n[p]={type:"image",value:f}),s.detail.src=p}}else if(s.type==="svg"){const f=s.detail.svg;if(Kt(f)&&!n[f]&&a[f]&&typeof((d=a[f])===null||d===void 0?void 0:d.source)=="string")n[f]={type:"svg",value:a[f].source};else if(!n[f]){const p=Kn(f);n[p]||(n[p]={type:"svg",value:f}),s.detail.svg=p}}else if(s.type==="html"){const f=s.detail.html;if(Kt(f)&&!n[f]&&a[f]&&typeof((u=a[f])===null||u===void 0?void 0:u.source)=="string")n[f]={type:"html",value:a[f].source};else if(!n[f]){const p=Kn(f);n[p]||(n[p]={type:"html",value:f}),s.detail.html=p}}else if(s.type==="group"&&Array.isArray(s.detail.children)){const f=s.detail.assets||{};Object.keys(f).forEach(p=>{n[p]||(n[p]=f[p])}),delete s.detail.assets,i(s.detail.children)}})};return i(r.elements),r.assets=n,r}function et(e){return(Object.prototype.toString.call(e)||"").replace(/(\[object|\])/gi,"").trim()}const Mr={type(e,t){const n=et(e);return t===!0?n.toLocaleLowerCase():n},array(e){return et(e)==="Array"},json(e){return et(e)==="Object"},function(e){return et(e)==="Function"},asyncFunction(e){return et(e)==="AsyncFunction"},boolean(e){return et(e)==="Boolean"},string(e){return et(e)==="String"},number(e){return et(e)==="Number"},undefined(e){return et(e)==="Undefined"},null(e){return et(e)==="Null"},promise(e){return et(e)==="Promise"}};function Ch(e,t){const{width:n,height:r}=t;return new Promise((a,i)=>{const o=`
    <svg 
      xmlns="http://www.w3.org/2000/svg" 
      width="${n||""}" 
      height = "${r||""}">
      <foreignObject width="100%" height="100%">
        <div xmlns = "http://www.w3.org/1999/xhtml">
          ${e}
        </div>
      </foreignObject>
    </svg>
    `,s=new Blob([o],{type:"image/svg+xml;charset=utf-8"}),c=new FileReader;c.readAsDataURL(s),c.onload=function(d){var u;const f=(u=d==null?void 0:d.target)===null||u===void 0?void 0:u.result;a(f)},c.onerror=function(d){i(d)}})}function _h(e){return new Promise((t,n)=>{const r=e,a=new Blob([r],{type:"image/svg+xml;charset=utf-8"}),i=new FileReader;i.readAsDataURL(a),i.onload=function(o){var s;const c=(s=o==null?void 0:o.target)===null||s===void 0?void 0:s.result;t(c)},i.onerror=function(o){n(o)}})}var Xd=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})};const{Image:Mh}=window;function bi(e){return new Promise((t,n)=>{const r=new Mh;r.crossOrigin="anonymous",r.onload=function(){t(r)},r.onabort=n,r.onerror=n,r.src=e})}function Ah(e){return Xd(this,void 0,void 0,function*(){const t=yield _h(e);return yield bi(t)})}function Oh(e){return e.replace(/\&/gi,"&amp;")}function Th(e,t){return Xd(this,void 0,void 0,function*(){e=Oh(e);const n=yield Ch(e,t);return yield bi(n)})}function tn(e){return typeof e=="number"&&(e>0||e<=0)}function Ph(e){return tn(e)}function $h(e){return tn(e)}function Zd(e){return typeof e=="number"&&e>=0}function Ih(e){return typeof e=="number"&&e>=0}function zh(e){return typeof e=="number"&&e>=-360&&e<=360}function Rh(e){return Zd(e)}function Dh(e){return tn(e)&&e>=0}function Nh(e){return Za(e)}function Kd(e){return typeof e=="string"&&/^(http:\/\/|https:\/\/|\.\/|\/)/.test(`${e}`)}function Qd(e){return typeof e=="string"&&/^(data:image\/)/.test(`${e}`)}function jh(e){return Qd(e)||Kd(e)}function Lh(e){return typeof e=="string"&&/^(<svg[\s]{1,}|<svg>)/i.test(`${e}`.trim())&&/<\/[\s]{0,}svg>$/i.test(`${e}`.trim())}function kh(e){let t=!1;if(typeof e=="string"){let n=document.createElement("div");n.innerHTML=e,n.children.length>0&&(t=!0),n=null}return t}function Bh(e){return typeof e=="string"}function Fh(e){return tn(e)&&e>0}function Hh(e){return tn(e)&&e>0}function Wh(e){return tn(e)&&e>0}function Gh(e){return["center","left","right"].includes(e)}function Vh(e){return typeof e=="string"&&e.length>0}function Uh(e){return["bold"].includes(e)}function Yh(e){return/^(-?\d+(?:\.\d+)?)$/.test(`${e}`)}const Ct={x:Ph,y:$h,w:Zd,h:Ih,angle:zh,number:tn,numberStr:Yh,borderWidth:Rh,borderRadius:Dh,color:Nh,imageSrc:jh,imageURL:Kd,imageBase64:Qd,svg:Lh,html:kh,text:Bh,fontSize:Fh,lineHeight:Hh,textAlign:Gh,fontFamily:Vh,fontWeight:Uh,strokeWidth:Wh};var la=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Z=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},K,bt;class Jd{constructor(t,n){K.set(this,void 0),bt.set(this,void 0),la(this,K,t,"f"),la(this,bt,Object.assign({devicePixelRatio:1,offscreenCanvas:null},n),"f")}$undoPixelRatio(t){return t/Z(this,bt,"f").devicePixelRatio}$doPixelRatio(t){return Z(this,bt,"f").devicePixelRatio*t}$getContext(){return Z(this,K,"f")}$setContext(t){la(this,K,t,"f")}$setFont(t){const n=[];t.fontWeight&&n.push(`${t.fontWeight}`),n.push(`${this.$doPixelRatio(t.fontSize||12)}px`),n.push(`${t.fontFamily||"sans-serif"}`),Z(this,K,"f").font=`${n.join(" ")}`}$getOffscreenCanvas(){return Z(this,bt,"f").offscreenCanvas}$resize(t){const{width:n,height:r,devicePixelRatio:a,resetStyle:i}=t,{canvas:o}=Z(this,K,"f");o.width=n*a,o.height=r*a,la(this,bt,Object.assign(Object.assign({},Z(this,bt,"f")),{devicePixelRatio:a}),"f"),i===!0&&(o.style.width=`${n}px`,o.style.height=`${r}px`)}$getSize(){const{devicePixelRatio:t}=Z(this,bt,"f"),{width:n,height:r}=Z(this,K,"f").canvas;return{width:n/t,height:r/t,devicePixelRatio:t}}get canvas(){return Z(this,K,"f").canvas}get fillStyle(){return Z(this,K,"f").fillStyle}set fillStyle(t){Z(this,K,"f").fillStyle=t}get strokeStyle(){return Z(this,K,"f").strokeStyle}set strokeStyle(t){Z(this,K,"f").strokeStyle=t}get lineWidth(){return this.$undoPixelRatio(Z(this,K,"f").lineWidth)}set lineWidth(t){Z(this,K,"f").lineWidth=this.$doPixelRatio(t)}get textAlign(){return Z(this,K,"f").textAlign}set textAlign(t){Z(this,K,"f").textAlign=t}get textBaseline(){return Z(this,K,"f").textBaseline}set textBaseline(t){Z(this,K,"f").textBaseline=t}get globalAlpha(){return Z(this,K,"f").globalAlpha}set globalAlpha(t){Z(this,K,"f").globalAlpha=t}get shadowColor(){return Z(this,K,"f").shadowColor}set shadowColor(t){Z(this,K,"f").shadowColor=t}get shadowOffsetX(){return this.$undoPixelRatio(Z(this,K,"f").shadowOffsetX)}set shadowOffsetX(t){Z(this,K,"f").shadowOffsetX=this.$doPixelRatio(t)}get shadowOffsetY(){return this.$undoPixelRatio(Z(this,K,"f").shadowOffsetY)}set shadowOffsetY(t){Z(this,K,"f").shadowOffsetY=this.$doPixelRatio(t)}get shadowBlur(){return this.$undoPixelRatio(Z(this,K,"f").shadowBlur)}set shadowBlur(t){Z(this,K,"f").shadowBlur=this.$doPixelRatio(t)}get lineCap(){return Z(this,K,"f").lineCap}set lineCap(t){Z(this,K,"f").lineCap=t}get globalCompositeOperation(){return Z(this,K,"f").globalCompositeOperation}set globalCompositeOperation(t){Z(this,K,"f").globalCompositeOperation=t}fill(...t){return Z(this,K,"f").fill(...t)}arc(t,n,r,a,i,o){return Z(this,K,"f").arc(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),a,i,o)}rect(t,n,r,a){return Z(this,K,"f").rect(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a))}fillRect(t,n,r,a){return Z(this,K,"f").fillRect(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a))}clearRect(t,n,r,a){return Z(this,K,"f").clearRect(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a))}beginPath(){return Z(this,K,"f").beginPath()}closePath(){return Z(this,K,"f").closePath()}lineTo(t,n){return Z(this,K,"f").lineTo(this.$doPixelRatio(t),this.$doPixelRatio(n))}moveTo(t,n){return Z(this,K,"f").moveTo(this.$doPixelRatio(t),this.$doPixelRatio(n))}arcTo(t,n,r,a,i){return Z(this,K,"f").arcTo(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a),this.$doPixelRatio(i))}getLineDash(){return Z(this,K,"f").getLineDash()}setLineDash(t){const n=t.map(r=>this.$doPixelRatio(r));return Z(this,K,"f").setLineDash(n)}stroke(t){return t?Z(this,K,"f").stroke(t):Z(this,K,"f").stroke()}translate(t,n){return Z(this,K,"f").translate(this.$doPixelRatio(t),this.$doPixelRatio(n))}rotate(t){return Z(this,K,"f").rotate(t)}drawImage(...t){const n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[t.length-4],c=t[t.length-3],d=t[t.length-2],u=t[t.length-1];return t.length===9?Z(this,K,"f").drawImage(n,this.$doPixelRatio(r),this.$doPixelRatio(a),this.$doPixelRatio(i),this.$doPixelRatio(o),this.$doPixelRatio(s),this.$doPixelRatio(c),this.$doPixelRatio(d),this.$doPixelRatio(u)):Z(this,K,"f").drawImage(n,this.$doPixelRatio(s),this.$doPixelRatio(c),this.$doPixelRatio(d),this.$doPixelRatio(u))}createPattern(t,n){return Z(this,K,"f").createPattern(t,n)}measureText(t){return Z(this,K,"f").measureText(t)}fillText(t,n,r,a){return a!==void 0?Z(this,K,"f").fillText(t,this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a)):Z(this,K,"f").fillText(t,this.$doPixelRatio(n),this.$doPixelRatio(r))}strokeText(t,n,r,a){return a!==void 0?Z(this,K,"f").strokeText(t,this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a)):Z(this,K,"f").strokeText(t,this.$doPixelRatio(n),this.$doPixelRatio(r))}save(){Z(this,K,"f").save()}restore(){Z(this,K,"f").restore()}scale(t,n){Z(this,K,"f").scale(t,n)}circle(t,n,r,a,i,o,s,c){Z(this,K,"f").ellipse(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a),i,o,s,c)}isPointInPath(t,n){return Z(this,K,"f").isPointInPath(this.$doPixelRatio(t),this.$doPixelRatio(n))}clip(...t){return Z(this,K,"f").clip(...t)}setTransform(t,n,r,a,i,o){return Z(this,K,"f").setTransform(t,n,r,a,i,o)}getTransform(){return Z(this,K,"f").getTransform()}createLinearGradient(t,n,r,a){return Z(this,K,"f").createLinearGradient(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a))}createRadialGradient(t,n,r,a,i,o){return Z(this,K,"f").createRadialGradient(this.$doPixelRatio(t),this.$doPixelRatio(n),this.$doPixelRatio(r),this.$doPixelRatio(a),this.$doPixelRatio(i),this.$doPixelRatio(o))}createConicGradient(t,n,r){return Z(this,K,"f").createConicGradient(t,this.$doPixelRatio(n),this.$doPixelRatio(r))}}K=new WeakMap,bt=new WeakMap;function hn(e){const{width:t,height:n,ctx:r,devicePixelRatio:a}=e;let i=r;if(!i){const s=document.createElement("canvas");s.width=t*a,s.height=n*a,i=s.getContext("2d")}return new Jd(i,e)}function _a(e){const{width:t,height:n,devicePixelRatio:r}=e,a=new OffscreenCanvas(t*r,n*r),o=a.getContext("2d").canvas.getContext("2d");return new Jd(o,{devicePixelRatio:r,offscreenCanvas:a})}function Xh(e,t){const{width:n,height:r,devicePixelRatio:a,offscreen:i,createCustomContext2D:o}=t,s={width:n,height:r,devicePixelRatio:a},c=e.getContext("2d");if(o){const d=o(s),u=o(s),f=o(s),p=hn(Object.assign({ctx:c},s));return{underContext:f,viewContext:d,helperContext:u,boardContext:p,drawView:()=>{const{width:g,height:m}=d.$getSize();p.clearRect(0,0,g,m),p.drawImage(f.canvas,0,0,g,m),p.drawImage(d.canvas,0,0,g,m),p.drawImage(u.canvas,0,0,g,m),f.clearRect(0,0,g,m),d.clearRect(0,0,g,m),u.clearRect(0,0,g,m)}}}if(i===!0){const d=_a(s),u=_a(s),f=_a(s),p=hn(Object.assign({ctx:c},s));return{underContext:f,viewContext:d,helperContext:u,boardContext:p,drawView:()=>{const{width:g,height:m}=d.$getSize();p.clearRect(0,0,g,m),p.drawImage(f.canvas,0,0,g,m),p.drawImage(d.canvas,0,0,g,m),p.drawImage(u.canvas,0,0,g,m),f.clearRect(0,0,g,m),d.clearRect(0,0,g,m),u.clearRect(0,0,g,m)}}}else{const d=hn(s),u=hn(s),f=hn(s),p=hn(Object.assign({ctx:c},s));return{underContext:f,viewContext:d,helperContext:u,boardContext:p,drawView:()=>{p.clearRect(0,0,n,r),p.drawImage(f.canvas,0,0,n,r),p.drawImage(d.canvas,0,0,n,r),p.drawImage(u.canvas,0,0,n,r),f.clearRect(0,0,n,r),d.clearRect(0,0,n,r),u.clearRect(0,0,n,r)}}}}var Zh=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},tt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},je;class Jt{constructor(){je.set(this,void 0),Zh(this,je,new Map,"f")}on(t,n){if(tt(this,je,"f").has(t)){const r=tt(this,je,"f").get(t)||[];r==null||r.push(n),tt(this,je,"f").set(t,r)}else tt(this,je,"f").set(t,[n])}off(t,n){if(tt(this,je,"f").has(t)){const r=tt(this,je,"f").get(t);if(Array.isArray(r)){for(let a=0;a<(r==null?void 0:r.length);a++)if(r[a]===n){r.splice(a,1);break}}tt(this,je,"f").set(t,r||[])}}trigger(t,n){const r=tt(this,je,"f").get(t);return Array.isArray(r)?(r.forEach(a=>{a(n)}),!0):!1}has(t){if(tt(this,je,"f").has(t)){const n=tt(this,je,"f").get(t);if(Array.isArray(n)&&n.length>0)return!0}return!1}destroy(){this.clear()}clear(){tt(this,je,"f").clear()}}je=new WeakMap;function Kh(e,t){const n=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y);return n===0?n:Math.sqrt(n)}function pr(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}}var ca=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},yn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ma,Rt,Qa,xo;class Fr{constructor(t){Ma.add(this),Rt.set(this,void 0),Qa.set(this,void 0),ca(this,Qa,Qt(t.defaultStorage),"f"),ca(this,Rt,yn(this,Ma,"m",xo).call(this),"f")}set(t,n){yn(this,Rt,"f")[t]=n}get(t){return yn(this,Rt,"f")[t]}getSnapshot(){return Qt(yn(this,Rt,"f"))}clear(){ca(this,Rt,yn(this,Ma,"m",xo).call(this),"f")}destroy(){ca(this,Rt,null,"f")}}Rt=new WeakMap,Qa=new WeakMap,Ma=new WeakSet,xo=function(){return Qt(yn(this,Qa,"f"))};function qd(e){const{activeStore:t}=e;return{scale:t==null?void 0:t.scale,offsetTop:t==null?void 0:t.offsetTop,offsetBottom:t==null?void 0:t.offsetBottom,offsetLeft:t==null?void 0:t.offsetLeft,offsetRight:t==null?void 0:t.offsetRight}}function eu(e){const{activeStore:t}=e;return{devicePixelRatio:t.devicePixelRatio,width:t==null?void 0:t.width,height:t==null?void 0:t.height,contextWidth:t==null?void 0:t.contextWidth,contextHeight:t==null?void 0:t.contextHeight}}function Qh(e){return e/Math.PI*180}function Lt(e){return e/180*Math.PI}function tu(e,t,n,r){const a=Lt(t||0);n&&(a>0||a<0)&&(e.translate(n.x,n.y),e.rotate(a),e.translate(-n.x,-n.y)),r(e),n&&(a>0||a<0)&&(e.translate(n.x,n.y),e.rotate(-a),e.translate(-n.x,-n.y))}function _t(e,t,n){const r=Ht(t);tu(e,t.angle||0,r,()=>{n(e)})}function Ht(e){return{x:e.x+e.w/2,y:e.y+e.h/2}}function nu(e){const t=Math.min(e[0].x,e[1].x,e[2].x,e[3].x),n=Math.min(e[0].y,e[1].y,e[2].y,e[3].y),r=Math.max(e[0].x,e[1].x,e[2].x,e[3].x),a=Math.max(e[0].y,e[1].y,e[2].y,e[3].y),i={x:t,y:n,w:r-t,h:a-n};return Ht(i)}function Jh(e,t,n){const r=Eo(e,t),a=Eo(e,n);return a!==null&&r!==null?r>Math.PI*3/2&&a<Math.PI/2?a+(Math.PI*2-r):a>Math.PI*3/2&&r<Math.PI/2?r+(Math.PI*2-a):a-r:0}function Eo(e,t){const n=t.x-e.x,r=t.y-e.y;if(n===0){if(r<0)return 0;if(r>0)return Math.PI}else if(r===0){if(n<0)return Math.PI*3/2;if(n>0)return Math.PI/2}return n>0&&r<0?Math.atan(Math.abs(n)/Math.abs(r)):n>0&&r>0?Math.PI-Math.atan(Math.abs(n)/Math.abs(r)):n<0&&r>0?Math.PI+Math.atan(Math.abs(n)/Math.abs(r)):n<0&&r<0?2*Math.PI-Math.atan(Math.abs(n)/Math.abs(r)):0}function Ne(e,t,n){let i=Eo(e,t)+n;i>Math.PI*2?i=i-Math.PI*2:i<0-Math.PI*2&&(i=i+Math.PI*2),i<0&&(i=i+Math.PI*2);const o=Kh(e,t);let s=0,c=0;return i===0?(s=0,c=0-o):i>0&&i<Math.PI/2?(s=Math.sin(i)*o,c=0-Math.cos(i)*o):i===Math.PI/2?(s=o,c=0):i>Math.PI/2&&i<Math.PI?(s=Math.sin(Math.PI-i)*o,c=Math.cos(Math.PI-i)*o):i===Math.PI?(s=0,c=o):i>Math.PI&&i<3/2*Math.PI?(s=0-Math.sin(i-Math.PI)*o,c=Math.cos(i-Math.PI)*o):i===3/2*Math.PI?(s=0-o,c=0):i>3/2*Math.PI&&i<2*Math.PI?(s=0-Math.sin(2*Math.PI-i)*o,c=0-Math.cos(2*Math.PI-i)*o):i===2*Math.PI&&(s=0,c=0-o),s+=e.x,c+=e.y,{x:s,y:c}}function Ja(e,t){if((t==null?void 0:t.length)>0){let n=e.x,r=e.y;return t.forEach(a=>{const{x:i,y:o,w:s,h:c,angle:d=0}=a,u=Ht({x:i,y:o,w:s,h:c,angle:d}),f=Ne(u,{x:n,y:r},Lt(d));n=f.x,r=f.y}),{x:n,y:r}}return e}function ru(e,t,n){const{x:r,y:a,w:i,h:o}=e;let s={x:r,y:a},c={x:r+i,y:a},d={x:r+i,y:a+o},u={x:r,y:a+o};if(n&&(n>0||n<0)){const f=Lt(ht(n));s=Ne(t,s,f),c=Ne(t,c,f),d=Ne(t,d,f),u=Ne(t,u,f)}return[s,c,d,u]}function nn(e){const{angle:t=0}=e,n=Ht(e);return ru(e,n,t)}function yl(e,t,n){return[Ne(e,{x:t[0].x,y:t[0].y},n),Ne(e,{x:t[1].x,y:t[1].y},n),Ne(e,{x:t[2].x,y:t[2].y},n),Ne(e,{x:t[3].x,y:t[3].y},n)]}function ht(e){if(!(e>0||e<0)||e===0)return 0;let t=e%360;return t<0&&(t+=360),t}function au(e){let t=!0;if(Array.isArray(e)){const n=[];e.forEach(r=>{var a;typeof r.uuid=="string"&&r.uuid?n.includes(r.uuid)?(t=!1,console.warn(`Duplicate uuids: ${r.uuid}`)):n.push(r.uuid):(t=!1,console.warn("Element missing uuid",r)),r.type==="group"&&(t=au((a=r==null?void 0:r.detail)===null||a===void 0?void 0:a.children))})}return t}function qh(e){var t;const n={x:0,y:0,w:0,h:0};let r=null;for(let i=0;i<e.length;i++){const o=e[i];if(!((t=o==null?void 0:o.operations)===null||t===void 0)&&t.invisible)continue;const s={x:o.x,y:o.y,w:o.w,h:o.h,angle:o.angle||0};if(s.angle&&(s.angle>0||s.angle<0)){const c=nn(s);if(c.length===4){const d=[c[0].x,c[1].x,c[2].x,c[3].x],u=[c[0].y,c[1].y,c[2].y,c[3].y];s.x=Math.min(...d),s.y=Math.min(...u),s.w=Math.abs(Math.max(...d)-Math.min(...d)),s.h=Math.abs(Math.max(...u)-Math.min(...u))}}if(r){const c=Math.min(s.x,n.x),d=Math.min(s.y,n.y),u=Math.max(s.x+s.w,n.x+n.w),f=Math.max(s.y+s.h,n.y+n.h);n.x=c,n.y=d,n.w=Math.abs(u-c),n.h=Math.abs(f-d)}else n.x=s.x,n.y=s.y,n.w=s.w,n.h=s.h;r=s}return{x:Math.floor(n.x),y:Math.floor(n.y),w:Math.ceil(n.w),h:Math.ceil(n.h)}}function iu(e,t){const n={x:0,y:0,w:0,h:0};e.forEach(a=>{const i={x:a.x,y:a.y,w:a.w,h:a.h,angle:a.angle};if(i.angle&&(i.angle>0||i.angle<0)){const u=nn(i);if(u.length===4){const f=[u[0].x,u[1].x,u[2].x,u[3].x],p=[u[0].y,u[1].y,u[2].y,u[3].y];i.x=Math.min(...f),i.y=Math.min(...p),i.w=Math.abs(Math.max(...f)-Math.min(...f)),i.h=Math.abs(Math.max(...p)-Math.min(...p))}}const o=Math.min(i.x,n.x),s=Math.min(i.y,n.y),c=Math.max(i.x+i.w,n.x+n.w),d=Math.max(i.y+i.h,n.y+n.h);n.x=o,n.y=s,n.w=Math.abs(c-o),n.h=Math.abs(d-s)}),t!=null&&t.extend&&(n.x=Math.min(n.x,0),n.y=Math.min(n.y,0));const r={contextWidth:n.w,contextHeight:n.h};return t!=null&&t.viewWidth&&(t!=null&&t.viewHeight)&&(t==null?void 0:t.viewWidth)>0&&(t==null?void 0:t.viewHeight)>0&&(t.viewWidth>n.x+n.w&&(r.contextWidth=t.viewWidth-n.x),t.viewHeight>n.y+n.h&&(r.contextHeight=t.viewHeight-n.y)),r}function ep(e,t,n){const r=iu(e,{viewWidth:t.width,viewHeight:t.height,extend:n==null?void 0:n.extend});return(n==null?void 0:n.extend)===!0&&(r.contextWidth=Math.max(r.contextWidth,t.contextWidth),r.contextHeight=Math.max(r.contextHeight,t.contextHeight)),{contextSize:r}}function ou(e,t){var n;let r=null;for(let a=0;a<t.length;a++){const i=t[a];if(i.uuid===e){r=i;break}else if(!r&&i.type==="group"){const o=ou(e,((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.children)||[]);if((o==null?void 0:o.uuid)===e){r=o;break}}}return r}function Aa(e,t){const n=[];function r(a){var i;for(let o=0;o<a.length;o++){const s=a[o];e.includes(s.uuid)?n.push(s):s.type==="group"&&r(((i=s==null?void 0:s.detail)===null||i===void 0?void 0:i.children)||[])}}return r(t),n}function su(e,t){const n=[];function r(a,i){var o;let s=null;for(let c=0;c<i.length;c++){const d=i[c];if(d.uuid===a){s=d;break}else if(!s&&d.type==="group"){n.push(d);const u=r(a,((o=d==null?void 0:d.detail)===null||o===void 0?void 0:o.children)||[]);if((u==null?void 0:u.uuid)===a){s=u;break}n.pop()}}return s}return r(e,t),n}function yi(e){const{x:t,y:n,w:r,h:a,angle:i}=e;return{x:t,y:n,w:r,h:a,angle:i}}function lu(e,t){const n=[];return e.forEach(r=>{const a=Jn(r,t);a&&n.push(a)}),n}function Jn(e,t){let n=null,r=t;for(let a=0;a<e.length;a++){const i=e[a],o=r[i];if(a<e.length-1&&o.type==="group")r=o.detail.children;else if(a===e.length-1)n=o;else break}return n}function wi(e,t){const n=[];let r=!1;const a=i=>{var o;for(let s=0;s<i.length&&r!==!0;s++){n.push(s);const c=i[s];if(c.uuid===e){r=!0;break}else c.type==="group"&&a(((o=c==null?void 0:c.detail)===null||o===void 0?void 0:o.children)||[]);if(r)break;n.pop()}};return a(t),n}function tp(e,t){const n=e.x,r=e.y,a=e.x+e.w,i=e.y+e.h,o=t.x,s=t.y,c=t.x+t.w,d=t.y+t.h;return n<=c&&a>=o&&r<=d&&i>=s}function np(e,t){const{scale:n,offsetX:r,offsetY:a}=e,{viewSizeInfo:i}=t,{width:o,height:s,contextWidth:c,contextHeight:d}=i,u=c*n,f=d*n,p=0-r*n,h=0-a*n,v=o-(u+p/n),g=s-(f+h/n);return{scale:n,offsetLeft:p,offsetTop:h,offsetRight:v,offsetBottom:g}}function rp(e){const{scale:t,point:n,viewScaleInfo:r}=e,{offsetLeft:a,offsetTop:i}=r,o=t/r.scale,s=n.x,c=n.y,d=s-s*o+(a*o-a),u=c-c*o+(i*o-i);return{moveX:d,moveY:u}}function ap(e){const{moveX:t=0,moveY:n=0,viewScaleInfo:r,viewSizeInfo:a}=e,{scale:i}=r,{width:o,height:s,contextWidth:c,contextHeight:d}=a;let u=r.offsetLeft,f=r.offsetRight,p=r.offsetTop,h=r.offsetBottom;u+=t,p+=n;const v=c*i,g=d*i;return f=o-(v+u),h=s-(g+p),{scale:i,offsetTop:p,offsetLeft:u,offsetRight:f,offsetBottom:h}}function ns(e,t){const{viewScaleInfo:n}=t,{x:r,y:a,w:i,h:o,angle:s}=e,{scale:c,offsetTop:d,offsetLeft:u}=n;return{x:r*c+u,y:a*c+d,w:i*c,h:o*c,angle:s}}function Qe(e,t){const{viewScaleInfo:n}=t,{x:r,y:a}=e,{scale:i,offsetTop:o,offsetLeft:s}=n;return{x:r*i+s,y:a*i+o}}function Ie(e,t){return[Qe(e[0],t),Qe(e[1],t),Qe(e[2],t),Qe(e[3],t)]}function So(e,t){const{context2d:n,element:r,viewScaleInfo:a,viewSizeInfo:i}=t,{angle:o=0}=r,{x:s,y:c,w:d,h:u}=ns(r,{viewScaleInfo:a,viewSizeInfo:i}),f=nn({x:s,y:c,w:d,h:u,angle:o});if(f.length>=2){n.beginPath(),n.moveTo(f[0].x,f[0].y);for(let p=1;p<f.length;p++)n.lineTo(f[p].x,f[p].y);n.closePath()}return!!n.isPointInPath(e.x,e.y)}function ip(e,t){var n,r,a;const{context2d:i,data:o,viewScaleInfo:s,viewSizeInfo:c,groupQueue:d}=t,u={index:-1,element:null,groupQueueIndex:-1};if(d&&Array.isArray(d)&&(d==null?void 0:d.length)>0)for(let f=d.length-1;f>=0;f--){let p=0,h=0,v=0;for(let m=0;m<=f;m++)p+=d[m].x,h+=d[m].y,v+=d[m].angle||0;const g=d[f];if(g&&g.type==="group"&&Array.isArray((n=g.detail)===null||n===void 0?void 0:n.children))for(let m=0;m<g.detail.children.length;m++){const b=g.detail.children[m];if(((r=b==null?void 0:b.operations)===null||r===void 0?void 0:r.invisible)!==!0)if(b){const y={x:p+b.x,y:h+b.y,w:b.w,h:b.h,angle:v+(b.angle||0)};if(So(e,{context2d:i,element:y,viewScaleInfo:s,viewSizeInfo:c})){u.element=b,(f<d.length-1||b.type!=="group")&&(u.groupQueueIndex=f);break}}else break}if(u.element)break}if(u.element)return u;for(let f=o.elements.length-1;f>=0;f--){const p=o.elements[f];if(((a=p==null?void 0:p.operations)===null||a===void 0?void 0:a.invisible)!==!0&&So(e,{context2d:i,element:p,viewScaleInfo:s,viewSizeInfo:c})){u.index=f,u.element=p;break}}return u}function op(e,t){const{viewSizeInfo:n,viewScaleInfo:r}=t,{width:a,height:i}=n,{angle:o}=e,{x:s,y:c,w:d,h:u}=ns(e,{viewScaleInfo:r,viewSizeInfo:n}),f=nn({x:s,y:c,w:d,h:u,angle:o}),p={x:0,y:0,w:a,h:i},h=Math.min(f[0].x,f[1].x,f[2].x,f[3].x),v=Math.min(f[0].y,f[1].y,f[2].y,f[3].y),g=Math.max(f[0].x,f[1].x,f[2].x,f[3].x),m=Math.max(f[0].y,f[1].y,f[2].y,f[3].y),b={x:h,y:v,w:g-h,h:m-v};return tp(p,b)}function cu(e){const{x:t,y:n,h:r,w:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t+a,y:n+r},{x:t,y:n+r}]}function it(e){const{x:t,y:n,w:r,h:a,angle:i=0}=e;return i===0?cu(e):ru(e,Ht({x:t,y:n,w:r,h:a,angle:i}),i)}function rs(e){const t=[];let n=0,r=0;const a=[],i=[...e];for(let o=0;o<i.length;o++){const{x:s,y:c,w:d,h:u,angle:f=0}=i[o];n+=s,r+=c;let p;if(o===0){const h={x:n,y:r,w:d,h:u,angle:f};p=it({x:s,y:c,w:d,h:u,angle:f}),a.push({center:Ht(h),angle:f,radian:Lt(f)})}else{p=cu({x:n,y:r,w:d,h:u,angle:f});for(let g=0;g<a.length;g++){const{center:m,radian:b}=a[g];p=yl(m,p,b)}const v=nu(p);if(f>0||f<0){const g=Lt(f);p=yl(v,p,g)}a.push({center:v,angle:f,radian:Lt(f)})}t.push(p)}return t}function sp(e,t){const{groupQueue:n}=t;if(!(n.length>0))return[it(e)];const r=[...n,e];return rs(r)}function qa(e,t){return sp(e,t).pop()||null}function vt(e,t){const{x:n,y:r}=e,{size:a,angle:i}=t;return{x:n-a/2,y:r-a/2,w:a,h:a,angle:i}}function da(e,t){const{groupQueue:n,controllerSize:r,viewScaleInfo:a}=t,i=(r&&r>0?r:8)/a.scale,{x:o,y:s,w:c,h:d,angle:u=0}=e,f=[{uuid:Zn(),x:o,y:s,w:c,h:d,angle:u,type:"group",detail:{children:[]}},...n];let p=0;f.forEach(({angle:Wi=0})=>{p+=Wi});const h=qa(e,{groupQueue:n}),v=qa({x:o-i*2,y:s-i*2,h:d+i*4,w:c+i*4,angle:u},{groupQueue:[...n]}),g=pr(h[0],h[1]),m=pr(h[1],h[2]),b=pr(h[2],h[3]),y=pr(h[3],h[0]),x=h[0],w=h[1],C=h[2],_=h[3],A=vt(g,{size:i,angle:p}),R=vt(m,{size:i,angle:p}),S=vt(b,{size:i,angle:p}),P=vt(y,{size:i,angle:p}),j=vt(x,{size:i,angle:p}),I=vt(w,{size:i,angle:p}),M=vt(_,{size:i,angle:p}),T=vt(C,{size:i,angle:p}),N=it(j),F=it(I),B=it(M),H=it(T),E=[N[1],F[0],F[3],N[2]],k=[F[3],F[2],H[1],H[0]],Y=[B[1],H[0],H[3],B[2]],$=[N[3],N[2],B[1],B[0]],U=it(A),V=it(R),z=it(S),D=it(P),L=pr(v[0],v[1]),W=vt(L,{size:i,angle:p}),ee=it(W);return{elementWrapper:h,left:{type:"left",vertexes:$,center:y},right:{type:"right",vertexes:k,center:m},top:{type:"top",vertexes:E,center:g},bottom:{type:"bottom",vertexes:Y,center:b},topLeft:{type:"top-left",vertexes:N,center:x},topRight:{type:"top-right",vertexes:F,center:w},bottomLeft:{type:"bottom-left",vertexes:B,center:_},bottomRight:{type:"bottom-right",vertexes:H,center:C},leftMiddle:{type:"left-middle",vertexes:D,center:y},rightMiddle:{type:"right-middle",vertexes:V,center:m},topMiddle:{type:"top-middle",vertexes:U,center:g},bottomMiddle:{type:"bottom-middle",vertexes:z,center:b},rotate:{type:"rotate",vertexes:ee,center:L}}}function du(e){let t="";return e.forEach(n=>{t+=n.type+n.params.join(" ")}),t}function Te(e,t){let n=2;return typeof(t==null?void 0:t.decimalPlaces)<"u"&&(t==null?void 0:t.decimalPlaces)>=0&&(n=t.decimalPlaces),parseFloat(e.toFixed(n))}const Oa="Text Element";function rn(){return{boxSizing:"border-box",borderWidth:0,borderColor:"#000000",shadowColor:"#000000",borderRadius:0,borderDash:[],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,opacity:1,color:"#000000",textAlign:"left",verticalAlign:"top",fontSize:16,lineHeight:20,fontFamily:"sans-serif",fontWeight:400,overflow:"hidden"}}function lp(){return{background:"#D9D9D9"}}function cp(){return{background:"#D9D9D9",radius:0}}function dp(e){const t=rn();return{text:Oa,color:t.color,fontFamily:t.fontFamily,fontWeight:t.fontWeight,lineHeight:e.w/Oa.length,fontSize:e.w/Oa.length,textAlign:"center",verticalAlign:"middle"}}function up(){return{svg:'<svg t="1701004189871" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"   width="200" height="200"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3-12.3 12.7-12.1 32.9 0.6 45.3l183.7 179.1-43.4 252.9c-1.2 6.9-0.1 14.1 3.2 20.3 8.2 15.6 27.6 21.7 43.2 13.4L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"   fill="#2c2c2c"></path></svg>'}}function fp(){return{src:"data:image/svg+xml;base64,PHN2ZyAgIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiPjxwYXRoIGQ9Ik05MjggMTYwSDk2Yy0xNy43IDAtMzIgMTQuMy0zMiAzMnY2NDBjMCAxNy43IDE0LjMgMzIgMzIgMzJoODMyYzE3LjcgMCAzMi0xNC4zIDMyLTMyVjE5MmMwLTE3LjctMTQuMy0zMi0zMi0zMnogbS00MCA2MzJIMTM2di0zOS45bDEzOC41LTE2NC4zIDE1MC4xIDE3OEw2NTguMSA0ODkgODg4IDc2MS42Vjc5MnogbTAtMTI5LjhMNjY0LjIgMzk2LjhjLTMuMi0zLjgtOS0zLjgtMTIuMiAwTDQyNC42IDY2Ni40bC0xNDQtMTcwLjdjLTMuMi0zLjgtOS0zLjgtMTIuMiAwTDEzNiA2NTIuN1YyMzJoNzUydjQzMC4yeiIgIGZpbGw9IiM1MTUxNTEiPjwvcGF0aD48cGF0aCBkPSJNMzA0IDQ1NmM0OC42IDAgODgtMzkuNCA4OC04OHMtMzkuNC04OC04OC04OC04OCAzOS40LTg4IDg4IDM5LjQgODggODggODh6IG0wLTExNmMxNS41IDAgMjggMTIuNSAyOCAyOHMtMTIuNSAyOC0yOCAyOC0yOC0xMi41LTI4LTI4IDEyLjUtMjggMjgtMjh6IiAgZmlsbD0iIzUxNTE1MSI+PC9wYXRoPjwvc3ZnPg=="}}function hp(){return{children:[],background:"#D9D9D9",overflow:"hidden"}}const pp=rn();function as(e,t){const{viewScaleInfo:n}=t,{scale:r}=n;let{borderRadius:a}=e.detail;const{boxSizing:i=pp.boxSizing,borderWidth:o}=e.detail;Array.isArray(o)&&(a=0);let{x:s,y:c,w:d,h:u}=e,f=[0,0,0,0];if(typeof a=="number"){const h=a*r;f=[h,h,h,h]}else Array.isArray(a)&&(a==null?void 0:a.length)===4&&(f=[a[0]*r,a[1]*r,a[2]*r,a[3]*r]);let p=0;return typeof o=="number"&&(p=(o||0)*r),i==="border-box"?(s=e.x+p/2,c=e.y+p/2,d=e.w-p,u=e.h-p):i==="content-box"?(s=e.x-p/2,c=e.y-p/2,d=e.w+p,u=e.h+p):(s=e.x,c=e.y,d=e.w,u=e.h),d=Math.max(d,1),u=Math.max(u,1),f=f.map(h=>Math.min(h,d/2,u/2)),{x:s,y:c,w:d,h:u,radiusList:f}}const $e=e=>Te(e,{decimalPlaces:4});function uu(e,t){const{detail:n}=e,{xRatio:r,yRatio:a,maxRatio:i}=t,o=(r+a)/2,{borderWidth:s,borderRadius:c,borderDash:d,shadowOffsetX:u,shadowOffsetY:f,shadowBlur:p}=n;if(typeof s=="number")n.borderWidth=$e(s*o);else if(Array.isArray(n.borderWidth)){const h=s;n.borderWidth=[$e(h[0]*a),$e(h[1]*r),$e(h[2]*a),$e(h[3]*r)]}if(typeof c=="number")n.borderRadius=$e(c*o);else if(Array.isArray(n.borderRadius)){const h=c;n.borderRadius=[h[0]*r,h[1]*r,h[2]*a,h[3]*a]}Array.isArray(d)&&d.forEach((h,v)=>{n.borderDash[v]=$e(h*i)}),typeof u=="number"&&(n.shadowOffsetX=$e(u*i)),typeof f=="number"&&(n.shadowOffsetX=$e(f*i)),typeof p=="number"&&(n.shadowOffsetX=$e(p*i))}function gp(e,t){const{xRatio:n,yRatio:r}=t,{x:a,y:i,w:o,h:s}=e;e.x=$e(a*n),e.y=$e(i*r),e.w=$e(o*n),e.h=$e(s*r),uu(e,t)}function vp(e,t){const{minRatio:n,maxRatio:r}=t,{fontSize:a,lineHeight:i}=e.detail,o=(n+r)/2;a&&a>0&&(e.detail.fontSize=$e(a*o)),i&&i>0&&(e.detail.lineHeight=$e(i*o))}function fu(e,t){const{type:n}=e;gp(e,t),n==="circle"||(n==="text"?vp(e,t):n==="image"||n==="svg"||n==="html"||n==="path"||n==="group"&&Array.isArray(e.detail.children)&&e.detail.children.forEach(r=>{fu(r,t)}))}function hu(e,t){const n=t.w&&t.w>0?t.w:e.w,r=t.h&&t.h>0?t.h:e.h,a=n/e.w,i=r/e.h;if(a===i&&a===1)return e;const o=Math.min(a,i),s=Math.max(a,i);e.w=n,e.h=r;const c={xRatio:a,yRatio:i,minRatio:o,maxRatio:s};return e.type==="group"&&Array.isArray(e.detail.children)&&e.detail.children.forEach(d=>{fu(d,c)}),uu(e,c),e}const Ui=200,Yi=200;function mp(e,t){let n=0,r=0,a=Ui,i=Yi;if(t){const{viewScaleInfo:s,viewSizeInfo:c}=t,{scale:d,offsetLeft:u,offsetTop:f}=s,{width:p,height:h}=c,v=p/4,g=h/4;Ui>=v?a=v/d:a=Ui/d,Yi>=g?i=g/d:i=Yi/d,["circle","svg","image"].includes(e)?a=i=Math.max(a,i):e==="text"&&(i=a/Oa.length*2),n=(0-u+p/2-a*d/2)/d,r=(0-f+h/2-i*d/2)/d}return{x:n,y:r,w:a,h:i}}function bp(e,t,n){const r=mp(e,n);let a={};return e==="rect"?a=lp():e==="circle"?a=cp():e==="text"?a=dp(r):e==="svg"?a=up():e==="image"?a=fp():e==="group"&&(a=hp()),Object.assign(Object.assign(Object.assign({},r),t),{uuid:Zn(),type:e,detail:Object.assign(Object.assign({},a),t.detail||{})})}function pu(e,t,n){let r=!1;if(t.length===1){const a=t[0];n.splice(a,0,e),r=!0}else if(t.length>1){let a=n;for(let i=0;i<t.length;i++){const o=t[i],s=a[o];if(i===t.length-1){const c=t[i];a.splice(c,0,e),r=!0}else if(i<t.length-1&&s.type==="group")a=s.detail.children;else break}}return r}function gu(e,t){let n=!1;if(e.length===1){const r=e[0];t.splice(r,1),n=!0}else if(e.length>1){let r=t;for(let a=0;a<e.length;a++){const i=e[a],o=r[i];if(a===e.length-1){const s=e[a];r.splice(s,1),n=!0}else if(a<e.length-1&&o.type==="group")r=o.detail.children;else break}}return n}function yp(e,t){const n=wi(e,t);return gu(n,t)}function vu(e,t){const n=[...t.from],r=[...t.to];if(n.length===0||r.length===0)return{elements:e,from:n,to:r};if(n.length<=r.length){for(let i=0;i<n.length;i++)if(r[i]===n[i]){if(i===n.length-1)return{elements:e,from:n,to:r};continue}}const a=Jn(n,e);if(a){if(!pu(a,r,e))return{elements:e,from:n,to:r};let o=-1;for(let s=0;s<n.length&&r[s]>=0;s++)r[s]!==n[s]&&r[s]<n[s]&&s==r.length-1&&(o=s);o>=0&&(n[o]=n[o]+1),gu(n,e)}return{elements:e,from:n,to:r}}function wp(e,t){var n;const r=Object.keys(t);for(let a=0;a<r.length;a++){const i=r[a];["x","y","w","h","angle","name"].includes(i)?e[i]=t[i]:["detail","operations"].includes(i)&&(Mr.json(t[i])?(e!=null&&e.hasOwnProperty(i)||(e[i]={}),Mr.json(e[i])&&(e[i]=Object.assign(Object.assign({},e[i]),t[i]))):Mr.array(t[i])&&(e!=null&&e.hasOwnProperty(i)||(e[i]=[]),Mr.array(e[i])&&((n=t==null?void 0:t[i])===null||n===void 0||n.forEach((o,s)=>{e[i][s]=o}),e[i]=[...e[i],...t[i]])))}return e}function Hr(e,t,n){var r,a;let i=null;for(let o=0;o<n.length;o++){const s=n[o];if(s.uuid===e){s.type==="group"&&((r=s.operations)===null||r===void 0?void 0:r.deepResize)===!0&&(t.w&&t.w>0||t.h&&t.h>0)&&hu(s,{w:t.w,h:t.h}),wp(s,t),i=s;break}else s.type==="group"&&(i=Hr(e,t,((a=s==null?void 0:s.detail)===null||a===void 0?void 0:a.children)||[]))}return i}function xp(e,t){var n,r,a,i,o,s,c,d;let u=0,f=0,p=1,h=((r=(n=e==null?void 0:e.elements)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.x)||0,v=((i=(a=e==null?void 0:e.elements)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.y)||0,g=((s=(o=e==null?void 0:e.elements)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.w)||0,m=((d=(c=e==null?void 0:e.elements)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.h)||0;const{width:b,height:y}=t.viewSizeInfo;if(e.elements.forEach(w=>{const C={x:w.x,y:w.y,w:w.w,h:w.h,angle:w.angle};if(C.angle&&(C.angle>0||C.angle<0)){const P=nn(C);if(P.length===4){const j=[P[0].x,P[1].x,P[2].x,P[3].x],I=[P[0].y,P[1].y,P[2].y,P[3].y];C.x=Math.min(...j),C.y=Math.min(...I),C.w=Math.abs(Math.max(...j)-Math.min(...j)),C.h=Math.abs(Math.max(...I)-Math.min(...I))}}const _=Math.min(C.x,h),A=Math.min(C.y,v),R=Math.max(C.x+C.w,h+g),S=Math.max(C.y+C.h,v+m);h=_,v=A,g=Math.abs(R-_),m=Math.abs(S-A)}),g>0&&m>0){const w=Te(b/g,{decimalPlaces:4}),C=Te(y/m,{decimalPlaces:4});p=Math.min(w,C,1),u=(g*p-b)/2/p+h,f=(m*p-y)/2/p+v}return{offsetX:Te(u,{decimalPlaces:0}),offsetY:Te(f,{decimalPlaces:0}),scale:p}}function Ep(e){let t=0,n=0;if(e){const{viewScaleInfo:a,viewSizeInfo:i}=e,{offsetLeft:o,offsetTop:s,scale:c}=a,{width:d,height:u}=i;t=0-o+d/c/2,n=0-s+u/c/2}return{x:t,y:n}}function Co(e,t,n){if(typeof t=="string")return t;const{viewElementSize:r,viewScaleInfo:a,opacity:i=1}=n,{x:o,y:s}=r,{scale:c}=a;if((t==null?void 0:t.type)==="linear-gradient"){const{start:d,end:u,stops:f}=t,p={x:o+d.x*c,y:s+d.y*c},h={x:o+u.x*c,y:s+u.y*c},v=e.createLinearGradient(p.x,p.y,h.x,h.y);return f.forEach(g=>{v.addColorStop(g.offset,bl(g.color,i))}),v}if((t==null?void 0:t.type)==="radial-gradient"){const{inner:d,outer:u,stops:f}=t,p={x:o+d.x*c,y:s+d.y*c,radius:d.radius*c},h={x:o+u.x*c,y:s+u.y*c,radius:u.radius*c},v=e.createRadialGradient(p.x,p.y,p.radius,h.x,h.y,h.radius);return f.forEach(g=>{v.addColorStop(g.offset,bl(g.color,i))}),v}return"#000000"}const _o=rn();function qt(e){var t,n,r,a;let i=1;return((t=e==null?void 0:e.detail)===null||t===void 0?void 0:t.opacity)!==void 0&&((n=e==null?void 0:e.detail)===null||n===void 0?void 0:n.opacity)>=0&&((r=e==null?void 0:e.detail)===null||r===void 0?void 0:r.opacity)<=1&&(i=(a=e==null?void 0:e.detail)===null||a===void 0?void 0:a.opacity),i}function qn(e,t,n){const{pattern:r,renderContent:a,originElem:i,calcElemSize:o,viewScaleInfo:s,viewSizeInfo:c}=n||{},{parentOpacity:d}=n,u=qt(i)*d;Sp(e,t,{originElem:i,calcElemSize:o,viewScaleInfo:s,viewSizeInfo:c,renderContent:()=>{e.globalAlpha=u,Cp(e,t,{pattern:r,viewScaleInfo:s,viewSizeInfo:c}),a==null||a(),_p(e,t,{viewScaleInfo:s,viewSizeInfo:c}),e.globalAlpha=d}})}function Sp(e,t,n){const{renderContent:r,originElem:a,calcElemSize:i,viewSizeInfo:o}=n,s=o.devicePixelRatio,{clipPath:c}=(a==null?void 0:a.detail)||{};if(c&&i&&c.commands){const{x:d,y:u,w:f,h:p}=i,{originW:h,originH:v,originX:g,originY:m}=c,b=f/h,y=p/v,x=g*b,w=m*y,C=d-x,_=u-w;e.save(),e.translate(C,_),e.scale(s*b,s*y);const A=du(c.commands||[]),R=new Path2D(A);e.clip(R),e.translate(0-C,0-_),e.setTransform(1,0,0,1,0,0),_t(e,Object.assign({},t),()=>{r==null||r()}),e.restore()}else r==null||r()}function Cp(e,t,n){var r,a;const{pattern:i,viewScaleInfo:o,viewSizeInfo:s}=n,c=[];if(t.detail.background||i){const{x:d,y:u,w:f,h:p,radiusList:h}=as(t,{viewScaleInfo:o,viewSizeInfo:s});if(e.beginPath(),e.moveTo(d+h[0],u),e.arcTo(d+f,u,d+f,u+p,h[1]),e.arcTo(d+f,u+p,d,u+p,h[2]),e.arcTo(d,u+p,d,u,h[3]),e.arcTo(d,u,d+f,u,h[0]),e.closePath(),typeof i=="string")e.fillStyle=i;else if(["CanvasPattern"].includes(Mr.type(i)))e.fillStyle=i;else if(typeof t.detail.background=="string")e.fillStyle=t.detail.background;else if(((r=t.detail.background)===null||r===void 0?void 0:r.type)==="linear-gradient"){const v=Co(e,t.detail.background,{viewElementSize:{x:d,y:u,w:f,h:p},viewScaleInfo:o,opacity:e.globalAlpha});e.fillStyle=v}else if(((a=t.detail.background)===null||a===void 0?void 0:a.type)==="radial-gradient"){const v=Co(e,t.detail.background,{viewElementSize:{x:d,y:u,w:f,h:p},viewScaleInfo:o,opacity:e.globalAlpha});if(e.fillStyle=v,c&&c.length>0)for(let g=0;g<(c==null?void 0:c.length);g++){const m=c[g];m.method==="translate"?e.translate(m.args[0]+d,m.args[1]+u):m.method==="rotate"?e.rotate(...m.args):m.method==="scale"&&e.scale(...m.args)}}e.fill(),c&&c.length>0&&e.setTransform(1,0,0,1,0,0)}}function _p(e,t,n){if(t.detail.borderWidth===0||!Za(t.detail.borderColor))return;const{viewScaleInfo:r}=n,{scale:a}=r;let i=_o.borderColor;Za(t.detail.borderColor)===!0&&(i=t.detail.borderColor);const{borderWidth:o,borderRadius:s,borderDash:c,boxSizing:d=_o.boxSizing}=t.detail;let u=0;typeof o=="number"&&(u=o||1),u=u*a;let f=[0,0,0,0];if(typeof s=="number"){const b=s*a;f=[b,b,b,b]}else Array.isArray(s)&&(s==null?void 0:s.length)===4&&(f=[s[0]*a,s[1]*a,s[2]*a,s[3]*a]);e.strokeStyle=i;let p=[];Array.isArray(c)&&c.length>0&&(p=c.map(b=>Math.ceil(b*a)));let h=0,v=0,g=0,m=0;if(Array.isArray(o)&&(h=(o[0]||0)*a,v=(o[1]||0)*a,g=(o[2]||0)*a,m=(o[3]||0)*a),m||v||h||g){e.lineCap="butt";let{x:b,y,w:x,h:w}=t;d==="border-box"?(b=b+m/2,y=y+h/2,x=x-m/2-v/2,w=w-h/2-g/2):d==="content-box"?(b=b-m/2,y=y-h/2,x=x+m/2+v/2,w=w+h/2+g/2):(b=t.x,y=t.y,x=t.w,w=t.h),h&&(e.beginPath(),e.lineWidth=h,e.moveTo(b-m/2,y),e.lineTo(b+x+v/2,y),e.closePath(),e.stroke()),v&&(e.beginPath(),e.lineWidth=v,e.moveTo(b+x,y-h/2),e.lineTo(b+x,y+w+g/2),e.closePath(),e.stroke()),g&&(e.beginPath(),e.lineWidth=g,e.moveTo(b-m/2,y+w),e.lineTo(b+x+v/2,y+w),e.closePath(),e.stroke()),m&&(e.beginPath(),e.lineWidth=m,e.moveTo(b,y-h/2),e.lineTo(b,y+w+g/2),e.closePath(),e.stroke())}else{let{x:b,y,w:x,h:w}=t;d==="border-box"?(b=t.x+u/2,y=t.y+u/2,x=t.w-u,w=t.h-u):d==="content-box"?(b=t.x-u/2,y=t.y-u/2,x=t.w+u,w=t.h+u):(b=t.x,y=t.y,x=t.w,w=t.h),p.length>0?e.lineCap="butt":e.lineCap="square",x=Math.max(x,1),w=Math.max(w,1),f=f.map(C=>Math.min(C,x/2,w/2)),e.setLineDash(p),e.lineWidth=u,e.beginPath(),e.moveTo(b+f[0],y),e.arcTo(b+x,y,b+x,y+w,f[1]),e.arcTo(b+x,y+w,b,y+w,f[2]),e.arcTo(b,y+w,b,y,f[3]),e.arcTo(b,y,b+x,y,f[0]),e.closePath(),e.stroke()}e.setLineDash([])}function er(e,t,n){const{detail:r}=t,{viewScaleInfo:a,renderContent:i}=n,{shadowColor:o,shadowOffsetX:s,shadowOffsetY:c,shadowBlur:d}=r;Ct.number(d)?(e.save(),e.shadowColor=o||_o.shadowColor,e.shadowOffsetX=(s||0)*a.scale,e.shadowOffsetY=(c||0)*a.scale,e.shadowBlur=(d||0)*a.scale,i(),e.restore()):i()}function Mp(e,t,n){const{detail:r,angle:a}=t,{background:i="#000000",borderColor:o="#000000",boxSizing:s,borderWidth:c=0}=r;let d=0;typeof c=="number"&&c>0?d=c:Array.isArray(c)&&typeof c[0]=="number"&&c[0]>0&&(d=c[0]);const{calculator:u,viewScaleInfo:f,viewSizeInfo:p,parentOpacity:h}=n,{x:v,y:g,w:m,h:b}=(u==null?void 0:u.elementSize({x:t.x,y:t.y,w:t.w,h:t.h},f,p))||t,y=Object.assign(Object.assign({},t),{x:v,y:g,w:m,h:b,angle:a});_t(e,{x:v,y:g,w:m,h:b,angle:a},()=>{er(e,y,{viewScaleInfo:f,viewSizeInfo:p,renderContent:()=>{let x=m/2,w=b/2;const C=v+x,_=g+w;if(d>0&&(s==="border-box"?(x=x-d,w=w-d):s==="center-line"?(x=x-d/2,w=w-d/2):(x=x-d,w=w-d)),x>=0&&w>=0){const A=qt(y)*h;if(e.globalAlpha=A,typeof c=="number"&&c>0){const S=c/2+x,P=c/2+w;e.beginPath(),e.strokeStyle=o,e.lineWidth=c,e.circle(C,_,S,P,0,0,2*Math.PI),e.closePath(),e.stroke()}e.beginPath();const R=Co(e,i,{viewElementSize:{x:v,y:g,w:m,h:b},viewScaleInfo:f,opacity:e.globalAlpha});e.fillStyle=R,e.circle(C,_,x,w,0,0,2*Math.PI),e.closePath(),e.fill(),e.globalAlpha=h}}})})}function Ap(e,t,n){const{calculator:r,viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o}=n,{x:s,y:c,w:d,h:u,angle:f}=(r==null?void 0:r.elementSize(t,a,i))||t,p=Object.assign(Object.assign({},t),{x:s,y:c,w:d,h:u,angle:f});_t(e,{x:s,y:c,w:d,h:u,angle:f},()=>{er(e,p,{viewScaleInfo:a,viewSizeInfo:i,renderContent:()=>{qn(e,p,{originElem:t,calcElemSize:{x:s,y:c,w:d,h:u,angle:f},viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o,renderContent:()=>{}})}})})}function Op(e,t,n){const r=n.loader.getContent(t),{calculator:a,viewScaleInfo:i,viewSizeInfo:o,parentOpacity:s}=n,{x:c,y:d,w:u,h:f,angle:p}=(a==null?void 0:a.elementSize(t,i,o))||t,h=Object.assign(Object.assign({},t),{x:c,y:d,w:u,h:f,angle:p});_t(e,{x:c,y:d,w:u,h:f,angle:p},()=>{er(e,h,{viewScaleInfo:i,viewSizeInfo:o,renderContent:()=>{qn(e,h,{originElem:t,calcElemSize:{x:c,y:d,w:u,h:f,angle:p},viewScaleInfo:i,viewSizeInfo:o,parentOpacity:s,renderContent:()=>{if(!r&&!n.loader.isDestroyed()&&n.loader.load(t,n.elementAssets||{}),t.type==="image"&&r){e.globalAlpha=qt(t)*s;const{x:v,y:g,w:m,h:b,radiusList:y}=as(h,{viewScaleInfo:i,viewSizeInfo:o});e.save(),e.fillStyle="transparent",e.beginPath(),e.moveTo(v+y[0],g),e.arcTo(v+m,g,v+m,g+b,y[1]),e.arcTo(v+m,g+b,v,g+b,y[2]),e.arcTo(v,g+b,v,g,y[3]),e.arcTo(v,g,v+m,g,y[0]),e.closePath(),e.fill(),e.clip(),e.drawImage(r,v,g,m,b),e.globalAlpha=s,e.restore()}}})}})})}function Tp(e,t,n){const r=n.loader.getContent(t),{calculator:a,viewScaleInfo:i,viewSizeInfo:o,parentOpacity:s}=n,{x:c,y:d,w:u,h:f,angle:p}=(a==null?void 0:a.elementSize(t,i,o))||t;_t(e,{x:c,y:d,w:u,h:f,angle:p},()=>{!r&&!n.loader.isDestroyed()&&n.loader.load(t,n.elementAssets||{}),t.type==="svg"&&r&&(e.globalAlpha=qt(t)*s,e.drawImage(r,c,d,u,f),e.globalAlpha=s)})}function Pp(e,t,n){const r=n.loader.getContent(t),{calculator:a,viewScaleInfo:i,viewSizeInfo:o,parentOpacity:s}=n,{x:c,y:d,w:u,h:f,angle:p}=(a==null?void 0:a.elementSize(t,i,o))||t;_t(e,{x:c,y:d,w:u,h:f,angle:p},()=>{!r&&!n.loader.isDestroyed()&&n.loader.load(t,n.elementAssets||{}),t.type==="html"&&r&&(e.globalAlpha=qt(t)*s,e.drawImage(r,c,d,u,f),e.globalAlpha=s)})}const Xi=rn();function $p(e,t,n){const{calculator:r,viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o}=n,{x:s,y:c,w:d,h:u,angle:f}=(r==null?void 0:r.elementSize(t,a,i))||t,p=Object.assign(Object.assign({},t),{x:s,y:c,w:d,h:u,angle:f});_t(e,{x:s,y:c,w:d,h:u,angle:f},()=>{qn(e,p,{originElem:t,calcElemSize:{x:s,y:c,w:d,h:u,angle:f},viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o,renderContent:()=>{const h=Object.assign(Object.assign({},Xi),t.detail),v=(h.fontSize||Xi.fontSize)*a.scale,g=h.lineHeight?h.lineHeight*a.scale:v;e.fillStyle=t.detail.color||Xi.color,e.textBaseline="top",e.$setFont({fontWeight:h.fontWeight,fontSize:v,fontFamily:h.fontFamily});const m=h.text.replace(/\r\n/gi,`
`),b=g,y=m.split(`
`),x=[];let w=0;y.forEach((_,A)=>{let R="";if(_.length>0){for(let S=0;S<_.length&&(e.measureText(R+(_[S]||"")).width<e.$doPixelRatio(d)?R+=_[S]||"":(x.push({text:R,width:e.$undoPixelRatio(e.measureText(R).width)}),R=_[S]||"",w++),!((w+1)*b>u));S++)if(_.length-1===S&&(w+1)*b<u){x.push({text:R,width:e.$undoPixelRatio(e.measureText(R).width)}),A<y.length-1&&w++;break}}else x.push({text:"",width:0})});let C=0;x.length*b<u&&(t.detail.verticalAlign==="top"?C=0:t.detail.verticalAlign==="bottom"?C+=u-x.length*b:C+=(u-x.length*b)/2);{const _=c+C;h.textShadowColor!==void 0&&Za(h.textShadowColor)&&(e.shadowColor=h.textShadowColor),h.textShadowOffsetX!==void 0&&Ct.number(h.textShadowOffsetX)&&(e.shadowOffsetX=h.textShadowOffsetX),h.textShadowOffsetY!==void 0&&Ct.number(h.textShadowOffsetY)&&(e.shadowOffsetY=h.textShadowOffsetY),h.textShadowBlur!==void 0&&Ct.number(h.textShadowBlur)&&(e.shadowBlur=h.textShadowBlur),x.forEach((A,R)=>{let S=s;h.textAlign==="center"?S=s+(d-A.width)/2:h.textAlign==="right"&&(S=s+(d-A.width)),e.fillText(A.text,S,_+b*R)})}}})})}function Ip(e,t,n){const{detail:r}=t,{originX:a,originY:i,originW:o,originH:s}=r,{calculator:c,viewScaleInfo:d,viewSizeInfo:u,parentOpacity:f}=n,{x:p,y:h,w:v,h:g,angle:m}=(c==null?void 0:c.elementSize(t,d,u))||t,b=v/o,y=g/s,x=a*b,w=i*y,C=p-x,_=h-w,A=d.scale*u.devicePixelRatio,R=Object.assign(Object.assign({},t),{x:p,y:h,w:v,h:g,angle:m});_t(e,{x:p,y:h,w:v,h:g,angle:m},()=>{qn(e,R,{originElem:t,calcElemSize:{x:p,y:h,w:v,h:g,angle:m},viewScaleInfo:d,viewSizeInfo:u,parentOpacity:f,renderContent:()=>{er(e,R,{viewScaleInfo:d,viewSizeInfo:u,renderContent:()=>{e.save(),e.translate(C,_),e.scale(A*b/d.scale,A*y/d.scale);const S=du(r.commands||[]),P=new Path2D(S);r.fill&&(e.fillStyle=r.fill,e.fill(P)),r.stroke&&r.strokeWidth!==0&&(e.strokeStyle=r.stroke,e.lineWidth=(r.strokeWidth||1)/u.devicePixelRatio,e.lineCap=r.strokeLineCap||"square",e.stroke(P)),e.translate(-C,-_),e.restore()}})}})})}function mu(e,t,n){var r;if(((r=t==null?void 0:t.operations)===null||r===void 0?void 0:r.invisible)===!0)return;const{w:a,h:i}=t,{scale:o}=n.viewScaleInfo;if(!(o<1&&(a*o<1||i*o<1)||n.parentOpacity===0))try{switch(t.type){case"rect":{Ap(e,t,n);break}case"circle":{Mp(e,t,n);break}case"text":{$p(e,t,n);break}case"image":{Op(e,t,n);break}case"svg":{Tp(e,t,n);break}case"html":{Pp(e,t,n);break}case"path":{Ip(e,t,n);break}case"group":{const s=Object.assign(Object.assign({},n.elementAssets||{}),t.detail.assets||{});zp(e,t,Object.assign(Object.assign({},n),{elementAssets:s}));break}default:break}}catch(s){console.error(s)}}function zp(e,t,n){const{calculator:r,viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o}=n,{x:s,y:c,w:d,h:u,angle:f}=(r==null?void 0:r.elementSize({x:t.x,y:t.y,w:t.w,h:t.h,angle:t.angle},a,i))||t,p=Object.assign(Object.assign({},t),{x:s,y:c,w:d,h:u,angle:f});_t(e,{x:s,y:c,w:d,h:u,angle:f},()=>{e.globalAlpha=qt(t)*o,er(e,p,{viewScaleInfo:a,viewSizeInfo:i,renderContent:()=>{qn(e,p,{originElem:t,calcElemSize:{x:s,y:c,w:d,h:u,angle:f},viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o,renderContent:()=>{const{x:h,y:v,w:g,h:m,radiusList:b}=as(p,{viewScaleInfo:a,viewSizeInfo:i});if(t.detail.overflow==="hidden"&&(e.save(),e.fillStyle="transparent",e.beginPath(),e.moveTo(h+b[0],v),e.arcTo(h+g,v,h+g,v+m,b[1]),e.arcTo(h+g,v+m,h,v+m,b[2]),e.arcTo(h,v+m,h,v,b[3]),e.arcTo(h,v,h+g,v,b[0]),e.closePath(),e.fill(),e.clip()),Array.isArray(t.detail.children)){const{parentElementSize:y}=n,x={x:y.x+t.x,y:y.y+t.y,w:t.w||y.w,h:t.h||y.h,angle:t.angle},{calculator:w}=n;for(let C=0;C<t.detail.children.length;C++){let _=t.detail.children[C];if(_=Object.assign(Object.assign({},_),{x:x.x+_.x,y:x.y+_.y}),!(n.forceDrawAll!==!0&&!(w!=null&&w.isElementInView(_,n.viewScaleInfo,n.viewSizeInfo))))try{mu(e,_,Object.assign(Object.assign({},n),{parentOpacity:o*qt(t)}))}catch(A){console.error(A)}}}t.detail.overflow==="hidden"&&e.restore()}})}}),e.globalAlpha=o})}const Rp=rn();function Dp(e,t,n){var r;const{elements:a=[]}=t,{parentOpacity:i}=n;for(let o=0;o<a.length;o++){const s=a[o],c=Object.assign(Object.assign({},s),{detail:Object.assign(Object.assign({},Rp),s==null?void 0:s.detail)});if(!(n.forceDrawAll!==!0&&!(!((r=n.calculator)===null||r===void 0)&&r.isElementInView(c,n.viewScaleInfo,n.viewSizeInfo))))try{mu(e,c,Object.assign(Object.assign({},n),{parentOpacity:i}))}catch(d){console.error(d)}}}function Np(e,t,n){const{calculator:r,viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o}=n,s=Object.assign({uuid:"underlay"},t),{x:c,y:d,w:u,h:f}=(r==null?void 0:r.elementSize(s,a,i))||s,p=0,h=Object.assign(Object.assign({},s),{x:c,y:d,w:u,h:f,angle:p});er(e,h,{viewScaleInfo:a,viewSizeInfo:i,renderContent:()=>{qn(e,h,{originElem:s,calcElemSize:{x:c,y:d,w:u,h:f,angle:p},viewScaleInfo:a,viewSizeInfo:i,parentOpacity:o,renderContent:()=>{}})}})}var Zi=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})},fe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},gr=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Xe,Nr,jr,Ye,St,Ta,Ki,wl,xl,El,bu,yu;const jp=["image","svg","html"],Ar=e=>{var t,n,r;let a=null;return e.type==="image"?a=((t=e==null?void 0:e.detail)===null||t===void 0?void 0:t.src)||null:e.type==="svg"?a=((n=e==null?void 0:e.detail)===null||n===void 0?void 0:n.svg)||null:e.type==="html"&&(a=((r=e==null?void 0:e.detail)===null||r===void 0?void 0:r.html)||null),typeof a=="string"&&a?Kt(a)?a:Kn(a):Kn(`${Zn()}-${e.uuid}-${Zn()}-${Zn()}`)};class Lp extends Jt{constructor(){super(),Xe.add(this),Nr.set(this,{}),jr.set(this,{}),Ye.set(this,{}),St.set(this,!1),fe(this,Xe,"m",Ta).call(this,"image",(t,n)=>Zi(this,void 0,void 0,function*(){var r;const a=((r=n[t.detail.src])===null||r===void 0?void 0:r.value)||t.detail.src,i=yield bi(a);return{uuid:t.uuid,lastModified:Date.now(),content:i}})),fe(this,Xe,"m",Ta).call(this,"html",(t,n)=>Zi(this,void 0,void 0,function*(){var r;const a=((r=n[t.detail.html])===null||r===void 0?void 0:r.value)||t.detail.html,i=yield Th(a,{width:t.detail.originW||t.w,height:t.detail.originH||t.h});return{uuid:t.uuid,lastModified:Date.now(),content:i}})),fe(this,Xe,"m",Ta).call(this,"svg",(t,n)=>Zi(this,void 0,void 0,function*(){var r;const a=((r=n[t.detail.svg])===null||r===void 0?void 0:r.value)||t.detail.svg,i=yield Ah(a);return{uuid:t.uuid,lastModified:Date.now(),content:i}}))}isDestroyed(){return fe(this,St,"f")}destroy(){gr(this,St,!0,"f"),this.clear(),gr(this,Nr,null,"f"),gr(this,jr,null,"f"),gr(this,Ye,null,"f")}load(t,n){fe(this,St,"f")!==!0&&(fe(this,Xe,"m",yu).call(this,t)||jp.includes(t.type)&&fe(this,Xe,"m",bu).call(this,t,n))}getContent(t){var n,r;const a=Ar(t);return((r=(n=fe(this,Ye,"f"))===null||n===void 0?void 0:n[a])===null||r===void 0?void 0:r.content)||null}getLoadItemMap(){return fe(this,Ye,"f")}setLoadItemMap(t){gr(this,Ye,t,"f")}}Nr=new WeakMap,jr=new WeakMap,Ye=new WeakMap,St=new WeakMap,Xe=new WeakSet,Ta=function(t,n){fe(this,Nr,"f")[t]=n},Ki=function(t){var n,r,a;let i=null;return t.type==="image"?i=((n=t==null?void 0:t.detail)===null||n===void 0?void 0:n.src)||null:t.type==="svg"?i=((r=t==null?void 0:t.detail)===null||r===void 0?void 0:r.svg)||null:t.type==="html"&&(i=((a=t==null?void 0:t.detail)===null||a===void 0?void 0:a.html)||null),i},wl=function(t){return{element:t,status:"null",content:null,error:null,startTime:-1,endTime:-1,source:fe(this,Xe,"m",Ki).call(this,t)}},xl=function(t){const n=Ar(t.element),r=fe(this,Ye,"f")[n];fe(this,St,"f")||(r?r.startTime<t.startTime&&(fe(this,Ye,"f")[n]=t,this.trigger("load",Object.assign(Object.assign({},t),{countTime:t.endTime-t.startTime}))):(fe(this,Ye,"f")[n]=t,this.trigger("load",Object.assign(Object.assign({},t),{countTime:t.endTime-t.startTime}))))},El=function(t){var n;const r=Ar(t.element),a=(n=fe(this,Ye,"f"))===null||n===void 0?void 0:n[r];fe(this,St,"f")||(a?a.startTime<t.startTime&&(fe(this,Ye,"f")[r]=t,this.trigger("error",Object.assign(Object.assign({},t),{countTime:t.endTime-t.startTime}))):(fe(this,Ye,"f")[r]=t,this.trigger("error",Object.assign(Object.assign({},t),{countTime:t.endTime-t.startTime}))))},bu=function(t,n){const r=fe(this,Xe,"m",wl).call(this,t),a=Ar(t);fe(this,jr,"f")[a]=r;const i=fe(this,Nr,"f")[t.type];typeof i=="function"&&!fe(this,St,"f")&&(r.startTime=Date.now(),i(t,n).then(o=>{fe(this,St,"f")||(r.content=o.content,r.endTime=Date.now(),r.status="load",fe(this,Xe,"m",xl).call(this,r))}).catch(o=>{console.warn(`Load element source "${r.source}" fail`,o,t),r.endTime=Date.now(),r.status="error",r.error=o,fe(this,Xe,"m",El).call(this,r)}))},yu=function(t){var n;const r=Ar(t),a=(n=fe(this,jr,"f"))===null||n===void 0?void 0:n[r];return!!(a&&a.status==="error"&&a.source&&a.source===fe(this,Xe,"m",Ki).call(this,t))};var vr=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},nt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Mo,Dt,xt,Pa,wu;class xu extends Jt{constructor(t){super(),Mo.add(this),Dt.set(this,void 0),xt.set(this,new Lp),Pa.set(this,!1),vr(this,Dt,t,"f"),nt(this,Mo,"m",wu).call(this)}isDestroyed(){return nt(this,Pa,"f")}destroy(){this.clear(),vr(this,Dt,null,"f"),nt(this,xt,"f").destroy(),vr(this,xt,null,"f"),vr(this,Pa,!0,"f")}updateOptions(t){vr(this,Dt,t,"f")}drawData(t,n){const r=nt(this,xt,"f"),{calculator:a}=nt(this,Dt,"f"),i=nt(this,Dt,"f").viewContext;i.clearRect(0,0,i.canvas.width,i.canvas.height);const o={x:0,y:0,w:n.viewSizeInfo.width,h:n.viewSizeInfo.height};t.underlay&&Np(i,t.underlay,Object.assign({loader:r,calculator:a,parentElementSize:o,parentOpacity:1},n)),Dp(i,t,Object.assign({loader:r,calculator:a,parentElementSize:o,elementAssets:t.assets,parentOpacity:1},n))}scale(t){const{sharer:n}=nt(this,Dt,"f");if(!n)return;const{data:r,offsetTop:a,offsetBottom:i,offsetLeft:o,offsetRight:s,width:c,height:d,contextHeight:u,contextWidth:f,devicePixelRatio:p}=n.getActiveStoreSnapshot();r&&this.drawData(r,{viewScaleInfo:{scale:t,offsetTop:a,offsetBottom:i,offsetLeft:o,offsetRight:s},viewSizeInfo:{width:c,height:d,contextHeight:u,contextWidth:f,devicePixelRatio:p}})}setLoadItemMap(t){nt(this,xt,"f").setLoadItemMap(t)}getLoadItemMap(){return nt(this,xt,"f").getLoadItemMap()}getLoader(){return nt(this,xt,"f")}}Dt=new WeakMap,xt=new WeakMap,Pa=new WeakMap,Mo=new WeakSet,wu=function(){const t=nt(this,xt,"f");t.on("load",n=>{this.trigger("load",n)}),t.on("error",()=>{})};var Sl=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Cl=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},wn;class Eu{constructor(t){wn.set(this,void 0),Sl(this,wn,t,"f")}destroy(){Sl(this,wn,null,"f")}elementSize(t,n,r){return ns(t,{viewScaleInfo:n,viewSizeInfo:r})}isElementInView(t,n,r){return op(t,{viewScaleInfo:n,viewSizeInfo:r})}isPointInElement(t,n,r,a){const i=Cl(this,wn,"f").viewContext;return So(t,{context2d:i,element:n,viewScaleInfo:r,viewSizeInfo:a})}getPointElement(t,n){const r=Cl(this,wn,"f").viewContext;return ip(t,Object.assign(Object.assign({},n),{context2d:r}))}}wn=new WeakMap;var Qi=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},ne=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},we,Vn,Ve,$a,Su,Ia,za,Ra,Da,Na,ja,La,ka,yt,wt,Ut;function _l(e){return e>0||e<0||e===0}class kp extends Jt{constructor(t){super(),we.add(this),Vn.set(this,void 0),Ve.set(this,void 0),$a.set(this,!1),Ia.set(this,r=>{if(!ne(this,we,"m",yt).call(this,r))return;const a=ne(this,we,"m",wt).call(this,r);if(!ne(this,we,"m",Ut).call(this,a))return;r.preventDefault(),r.stopPropagation();const i=r.deltaX>0||r.deltaX<0?r.deltaX:0,o=r.deltaY>0||r.deltaY<0?r.deltaY:0;r.ctrlKey===!0&&this.has("wheelScale")?this.trigger("wheelScale",{deltaX:i,deltaY:o,point:a}):this.has("wheel")&&this.trigger("wheel",{deltaX:i,deltaY:o,point:a})}),za.set(this,r=>{if(!ne(this,we,"m",yt).call(this,r))return;r.preventDefault();const a=ne(this,we,"m",wt).call(this,r);ne(this,we,"m",Ut).call(this,a)}),Ra.set(this,r=>{if(!ne(this,we,"m",yt).call(this,r))return;r.preventDefault();const a=ne(this,we,"m",wt).call(this,r);if(!ne(this,we,"m",Ut).call(this,a))return;const i=500,o=Date.now(),s=ne(this,Ve,"f").get("prevClickPoint");s&&o-s.t<=i&&Math.abs(s.x-a.x)<=5&&Math.abs(s.y-a.y)<=5?this.trigger("doubleClick",{point:a}):ne(this,Ve,"f").set("prevClickPoint",a)}),Da.set(this,r=>{if(ne(this,Ve,"f").set("hasPointDown",!1),!ne(this,we,"m",yt).call(this,r))return;r.preventDefault();const a=ne(this,we,"m",wt).call(this,r);this.trigger("pointLeave",{point:a})}),Na.set(this,r=>{if(ne(this,Ve,"f").set("hasPointDown",!1),!ne(this,we,"m",yt).call(this,r))return;r.preventDefault();const a=ne(this,we,"m",wt).call(this,r);this.trigger("pointEnd",{point:a})}),ja.set(this,r=>{if(!ne(this,we,"m",yt).call(this,r))return;r.preventDefault(),r.stopPropagation();const a=ne(this,we,"m",wt).call(this,r);if(!ne(this,we,"m",Ut).call(this,a)){ne(this,Ve,"f").get("hasPointDown")&&(this.trigger("pointLeave",{point:a}),ne(this,Ve,"f").set("hasPointDown",!1));return}ne(this,Ve,"f").get("hasPointDown")===!0&&this.trigger("pointMove",{point:a})}),La.set(this,r=>{if(!ne(this,we,"m",yt).call(this,r))return;r.preventDefault();const a=ne(this,we,"m",wt).call(this,r);ne(this,we,"m",Ut).call(this,a)&&(ne(this,Ve,"f").set("hasPointDown",!0),this.trigger("pointStart",{point:a}))}),ka.set(this,r=>{if(!ne(this,we,"m",yt).call(this,r))return;r.preventDefault();const a=ne(this,we,"m",wt).call(this,r);ne(this,we,"m",Ut).call(this,a)&&this.trigger("hover",{point:a})});const n=new Fr({defaultStorage:{hasPointDown:!1,prevClickPoint:null}});Qi(this,Ve,n,"f"),Qi(this,Vn,t,"f"),ne(this,we,"m",Su).call(this)}onEvents(){if(ne(this,$a,"f"))return;const t=window;t.addEventListener("mousemove",ne(this,ka,"f")),t.addEventListener("mousedown",ne(this,La,"f")),t.addEventListener("mousemove",ne(this,ja,"f")),t.addEventListener("mouseup",ne(this,Na,"f")),t.addEventListener("mouseleave",ne(this,Da,"f")),t.addEventListener("wheel",ne(this,Ia,"f"),{passive:!1}),t.addEventListener("click",ne(this,Ra,"f")),t.addEventListener("contextmenu",ne(this,za,"f"))}offEvents(){const t=window;t.removeEventListener("mousemove",ne(this,ka,"f")),t.removeEventListener("mousedown",ne(this,La,"f")),t.removeEventListener("mousemove",ne(this,ja,"f")),t.removeEventListener("mouseup",ne(this,Na,"f")),t.removeEventListener("mouseleave",ne(this,Da,"f")),t.removeEventListener("wheel",ne(this,Ia,"f")),t.removeEventListener("click",ne(this,Ra,"f")),t.removeEventListener("contextmenu",ne(this,za,"f"))}destroy(){this.offEvents(),ne(this,Ve,"f").destroy(),Qi(this,$a,!0,"f")}}Vn=new WeakMap,Ve=new WeakMap,$a=new WeakMap,Ia=new WeakMap,za=new WeakMap,Ra=new WeakMap,Da=new WeakMap,Na=new WeakMap,ja=new WeakMap,La=new WeakMap,ka=new WeakMap,we=new WeakSet,Su=function(){this.onEvents()},yt=function(t){return t.target===ne(this,Vn,"f").boardContent.boardContext.canvas},wt=function(t){const r=ne(this,Vn,"f").boardContent.boardContext.canvas.getBoundingClientRect();return{x:t.clientX-r.left,y:t.clientY-r.top,t:Date.now()}},Ut=function(t){const n=ne(this,Vn,"f").sharer.getActiveViewSizeInfo(),{width:r,height:a}=n;return!!(_l(t.x)&&_l(t.y)&&t.x<=r&&t.y<=a)};var Ml=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},ge=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ve,xn;const Bp={width:0,height:0,devicePixelRatio:1,contextWidth:0,contextHeight:0,data:null,scale:1,offsetLeft:0,offsetRight:0,offsetTop:0,offsetBottom:0};class Fp{constructor(){ve.set(this,void 0),xn.set(this,void 0);const t=new Fr({defaultStorage:Bp}),n=new Fr({defaultStorage:{}});Ml(this,ve,t,"f"),Ml(this,xn,n,"f")}getActiveStorage(t){return ge(this,ve,"f").get(t)}setActiveStorage(t,n){return ge(this,ve,"f").set(t,n)}getActiveStoreSnapshot(){return ge(this,ve,"f").getSnapshot()}getSharedStorage(t){return ge(this,xn,"f").get(t)}setSharedStorage(t,n){return ge(this,xn,"f").set(t,n)}getSharedStoreSnapshot(){return ge(this,xn,"f").getSnapshot()}getActiveViewScaleInfo(){return{scale:ge(this,ve,"f").get("scale"),offsetTop:ge(this,ve,"f").get("offsetTop"),offsetBottom:ge(this,ve,"f").get("offsetBottom"),offsetLeft:ge(this,ve,"f").get("offsetLeft"),offsetRight:ge(this,ve,"f").get("offsetRight")}}setActiveViewScaleInfo(t){const{scale:n,offsetTop:r,offsetBottom:a,offsetLeft:i,offsetRight:o}=t;ge(this,ve,"f").set("scale",n),ge(this,ve,"f").set("offsetTop",r),ge(this,ve,"f").set("offsetBottom",a),ge(this,ve,"f").set("offsetLeft",i),ge(this,ve,"f").set("offsetRight",o)}setActiveViewSizeInfo(t){ge(this,ve,"f").set("width",t.width),ge(this,ve,"f").set("height",t.height),ge(this,ve,"f").set("devicePixelRatio",t.devicePixelRatio),ge(this,ve,"f").set("contextWidth",t.contextWidth),ge(this,ve,"f").set("contextHeight",t.contextHeight)}getActiveViewSizeInfo(){return{width:ge(this,ve,"f").get("width"),height:ge(this,ve,"f").get("height"),devicePixelRatio:ge(this,ve,"f").get("devicePixelRatio"),contextWidth:ge(this,ve,"f").get("contextWidth"),contextHeight:ge(this,ve,"f").get("contextHeight")}}}ve=new WeakMap,xn=new WeakMap;var Ba=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},ze=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Lr,ot,Un,En,Cu,_u;const{requestAnimationFrame:Hp}=window;class Wp extends Jt{constructor(t){super(),Lr.add(this),ot.set(this,void 0),Un.set(this,[]),En.set(this,"FREE"),Ba(this,ot,t,"f"),ze(this,Lr,"m",Cu).call(this)}drawFrame(){const{sharer:t}=ze(this,ot,"f"),n=t.getActiveStoreSnapshot(),r=t.getSharedStoreSnapshot();ze(this,Un,"f").push({activeStore:n,sharedStore:r}),ze(this,Lr,"m",_u).call(this)}scale(t){const{scale:n,point:r}=t,{sharer:a}=ze(this,ot,"f"),{moveX:i,moveY:o}=rp({scale:n,point:r,viewScaleInfo:a.getActiveViewScaleInfo(),viewSizeInfo:a.getActiveViewSizeInfo()});return a.setActiveStorage("scale",n),{moveX:i,moveY:o}}scroll(t){const{sharer:n}=ze(this,ot,"f"),r=n.getActiveViewScaleInfo(),{moveX:a,moveY:i}=t,o=n.getActiveViewSizeInfo(),s=ap({moveX:a,moveY:i,viewScaleInfo:r,viewSizeInfo:o});return n.setActiveViewScaleInfo(s),s}updateViewScaleInfo(t){const{sharer:n}=ze(this,ot,"f"),r=np(t,{viewSizeInfo:n.getActiveViewSizeInfo()});return n.setActiveViewScaleInfo(r),r}resize(t={}){const{sharer:n}=ze(this,ot,"f"),r=n.getActiveViewSizeInfo(),a=Object.assign(Object.assign({},r),t),{width:i,height:o,devicePixelRatio:s}=a,{underContext:c,boardContext:d,helperContext:u,viewContext:f}=ze(this,ot,"f").boardContent;return d.canvas.width=i*s,d.canvas.height=o*s,d.canvas.style.width=`${i}px`,d.canvas.style.height=`${o}px`,c.canvas.width=i*s,c.canvas.height=o*s,u.canvas.width=i*s,u.canvas.height=o*s,f.canvas.width=i*s,f.canvas.height=o*s,n.setActiveViewSizeInfo(a),a}}ot=new WeakMap,Un=new WeakMap,En=new WeakMap,Lr=new WeakSet,Cu=function(){const{renderer:t}=ze(this,ot,"f");t.on("load",()=>{this.drawFrame()})},_u=function e(){if(ze(this,En,"f")==="DRAWING"||ze(this,Un,"f").length===0)return;Ba(this,En,"DRAWING","f");const t=ze(this,Un,"f").shift(),{renderer:n,boardContent:r,beforeDrawFrame:a,afterDrawFrame:i}=ze(this,ot,"f");if(t){const{scale:o,offsetTop:s,offsetBottom:c,offsetLeft:d,offsetRight:u,width:f,height:p,contextHeight:h,contextWidth:v,devicePixelRatio:g}=t.activeStore,m={scale:o,offsetTop:s,offsetBottom:c,offsetLeft:d,offsetRight:u},b={width:f,height:p,contextHeight:h,contextWidth:v,devicePixelRatio:g};t!=null&&t.activeStore.data&&n.drawData(t.activeStore.data,{viewScaleInfo:m,viewSizeInfo:b}),a({snapshot:t}),r.drawView(),i({snapshot:t})}if(ze(this,Un,"f").length===0){Ba(this,En,"COMPLETE","f");return}Ba(this,En,"DRAWING","f")&&Hp(()=>{ze(this,Lr,"m",e).call(this)})};var Nt=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},G=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Oe,Sn,Et,ei,de,Pe,Or,ut,rt,Cn,Tr,Fa,Mu,Al,Ol,Tl,Pl,$l,Il,zl,Rl,Dl,Nl,Au,Ou,Tu,Pr;const ua=10;class Gp{constructor(t){Oe.add(this),Sn.set(this,void 0),Et.set(this,new WeakMap),ei.set(this,[]),de.set(this,[]),Pe.set(this,void 0),Or.set(this,void 0),ut.set(this,void 0),rt.set(this,void 0),Cn.set(this,void 0),Tr.set(this,new Jt),Fa.set(this,!1);const{boardContent:n}=t,r=new Fp,a=new Eu({viewContext:n.viewContext}),i=new kp({boardContent:n,sharer:r}),o=new xu({viewContext:n.viewContext,sharer:r,calculator:a});Nt(this,Sn,t,"f"),Nt(this,ut,r,"f"),Nt(this,Pe,i,"f"),Nt(this,Or,o,"f"),Nt(this,Cn,a,"f"),Nt(this,rt,new Wp({boardContent:t.boardContent,sharer:r,renderer:o,calculator:G(this,Cn,"f"),beforeDrawFrame:s=>{G(this,Oe,"m",Ou).call(this,s)},afterDrawFrame:s=>{G(this,Oe,"m",Tu).call(this,s)}}),"f"),G(this,Oe,"m",Mu).call(this),G(this,Oe,"m",Pr).call(this)}isDestroyed(){return G(this,Fa,"f")}destroy(){G(this,Pe,"f").destroy(),G(this,Or,"f").destroy(),G(this,Cn,"f").destroy(),G(this,Tr,"f").destroy(),Nt(this,Fa,!0,"f")}getSharer(){return G(this,ut,"f")}getViewer(){return G(this,rt,"f")}getRenderer(){return G(this,Or,"f")}setData(t){const n=G(this,ut,"f");G(this,ut,"f").setActiveStorage("data",t);const r=n.getActiveViewSizeInfo(),a=iu(t.elements,{viewWidth:r.width,viewHeight:r.height,extend:!0});G(this,rt,"f").drawFrame();const i=Object.assign(Object.assign({},r),a);return G(this,ut,"f").setActiveViewSizeInfo(i),{viewSizeInfo:i}}getData(){const{data:t}=G(this,ut,"f").getActiveStoreSnapshot();return t}use(t){var n,r,a;if(G(this,Et,"f").has(t)){const p=G(this,Et,"f").get(t);if(p){(r=(n=p.middlewareObject).use)===null||r===void 0||r.call(n),p.status="enable",G(this,Et,"f").set(t,p),G(this,Oe,"m",Pr).call(this);return}}const{boardContent:i,container:o}=G(this,Sn,"f"),s=G(this,ut,"f"),c=G(this,rt,"f"),d=G(this,Cn,"f"),u=G(this,Tr,"f"),f=t({boardContent:i,sharer:s,viewer:c,calculator:d,eventHub:u,container:o});(a=f.use)===null||a===void 0||a.call(f),G(this,ei,"f").push(t),G(this,de,"f").push(f),G(this,Et,"f").set(t,{status:"enable",middlewareObject:f}),G(this,Oe,"m",Pr).call(this)}disuse(t){var n,r;const a=G(this,Et,"f").get(t);a&&((r=(n=a.middlewareObject).disuse)===null||r===void 0||r.call(n),a.status="disable",G(this,Et,"f").set(t,a),G(this,Oe,"m",Pr).call(this))}scale(t){const n=G(this,rt,"f"),{moveX:r,moveY:a}=n.scale(t);n.scroll({moveX:r,moveY:a})}scroll(t){return G(this,rt,"f").scroll(t)}updateViewScaleInfo(t){return G(this,rt,"f").updateViewScaleInfo(t)}resize(t){const n=G(this,rt,"f").resize(t),{width:r,height:a,devicePixelRatio:i}=t,{boardContent:o}=G(this,Sn,"f");o.viewContext.$resize({width:r,height:a,devicePixelRatio:i}),o.helperContext.$resize({width:r,height:a,devicePixelRatio:i}),o.boardContext.$resize({width:r,height:a,devicePixelRatio:i}),o.underContext.$resize({width:r,height:a,devicePixelRatio:i}),G(this,rt,"f").drawFrame(),G(this,Pe,"f").trigger("resize",n),G(this,ut,"f").setActiveViewSizeInfo(t)}clear(){const{boardContent:t}=G(this,Sn,"f"),{underContext:n,helperContext:r,viewContext:a,boardContext:i}=t;n.clearRect(0,0,n.canvas.width,n.canvas.height),r.clearRect(0,0,r.canvas.width,r.canvas.height),a.clearRect(0,0,a.canvas.width,a.canvas.height),i.clearRect(0,0,i.canvas.width,i.canvas.height),G(this,Oe,"m",Au).call(this)}getEventHub(){return G(this,Tr,"f")}onWatcherEvents(){G(this,Pe,"f").onEvents()}offWatcherEvents(){G(this,Pe,"f").offEvents()}}Sn=new WeakMap,Et=new WeakMap,ei=new WeakMap,de=new WeakMap,Pe=new WeakMap,Or=new WeakMap,ut=new WeakMap,rt=new WeakMap,Cn=new WeakMap,Tr=new WeakMap,Fa=new WeakMap,Oe=new WeakSet,Mu=function(){G(this,Pe,"f").on("pointStart",G(this,Oe,"m",Al).bind(this)),G(this,Pe,"f").on("pointEnd",G(this,Oe,"m",Ol).bind(this)),G(this,Pe,"f").on("pointMove",sa(t=>{G(this,Oe,"m",Tl).call(this,t)},ua)),G(this,Pe,"f").on("hover",sa(t=>{G(this,Oe,"m",Pl).call(this,t)},ua)),G(this,Pe,"f").on("wheel",sa(t=>{G(this,Oe,"m",Il).call(this,t)},ua)),G(this,Pe,"f").on("wheelScale",sa(t=>{G(this,Oe,"m",zl).call(this,t)},ua)),G(this,Pe,"f").on("scrollX",G(this,Oe,"m",Rl).bind(this)),G(this,Pe,"f").on("scrollY",G(this,Oe,"m",Dl).bind(this)),G(this,Pe,"f").on("resize",G(this,Oe,"m",Nl).bind(this)),G(this,Pe,"f").on("doubleClick",G(this,Oe,"m",$l).bind(this))},Al=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.pointStart)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Ol=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.pointEnd)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Tl=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.pointMove)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Pl=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.hover)===null||n===void 0?void 0:n.call(a,t))===!1)return}},$l=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.doubleClick)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Il=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.wheel)===null||n===void 0?void 0:n.call(a,t))===!1)return}},zl=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.wheelScale)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Rl=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.scrollX)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Dl=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.scrollY)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Nl=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.resize)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Au=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.clear)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Ou=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.beforeDrawFrame)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Tu=function(t){var n;for(let r=0;r<G(this,de,"f").length;r++){const a=G(this,de,"f")[r];if(((n=a==null?void 0:a.afterDrawFrame)===null||n===void 0?void 0:n.call(a,t))===!1)return}},Pr=function(){const t=[],n=G(this,Et,"f");G(this,ei,"f").forEach(r=>{const a=n.get(r);(a==null?void 0:a.status)==="enable"&&(a!=null&&a.middlewareObject)&&t.push(a.middlewareObject)}),Nt(this,de,t,"f")};const Vp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF92lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuMTY0NzUzLCAyMDIxLzAyLzE1LTExOjUyOjEzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjMtMDktMTdUMTY6MDc6MjYrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIzLTA5LTE3VDE2OjEyOjUwKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIzLTA5LTE3VDE2OjEyOjUwKzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjliMGM0MzI2LWU4ZTQtNDlkNy04MmUzLTgxODkwYTE2ZmU1YSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjMzOGFhZDBmLWZkZjMtODE0MS1iMTZmLWNiZWIzNTQyYTJhMCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjUwODAxNzc1LWZlNGEtNDQyMy05NDQ3LThkYWRhNzZhYTllOSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NTA4MDE3NzUtZmU0YS00NDIzLTk0NDctOGRhZGE3NmFhOWU5IiBzdEV2dDp3aGVuPSIyMDIzLTA5LTE3VDE2OjA3OjI2KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OWIwYzQzMjYtZThlNC00OWQ3LTgyZTMtODE4OTBhMTZmZTVhIiBzdEV2dDp3aGVuPSIyMDIzLTA5LTE3VDE2OjEyOjUwKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7W6XrzAAAGLklEQVRYhb2Xf2iUdRzHX/txtfXLplZ6Wblm6fzRmG6r7Uou1AxKRjQKYUqgaLBACFogppcK1h8aLRkMSYaJIA5hYMomZpskEfPOufCaDpZ6t7rbre263U3vzn3643meu+eu3XNzvz7w4bbdc/e89nl/Pu/v50HUCAQCx1tbW0uAx4CHgSwggxkKERkziUQif2mQ0WjU53a7vwSeBB4BTEDmTICmBBwYGDivVlDjlFAo9KvT6dwIPAHkANkq6MwDXr169bCISENDg9TX14s+BgcHf2hubi5mBmRPCXj06NFPREQ6OjoEkPLycrl06VIMMhKJeFwu1xdMs+wpAYuLi9eIiIyOjkpeXp4AAsj27dvF7/fHQIPB4C9dXV0fME2ypwQEXvX7/bdFRNauXRsDBMRkMsnhw4cTZB8YGGhsamp6hSmW3Qhw1Y0bN86LiNTW1iYAallWViZtbW162ftcLtdO/i/7tAAWtba2ficicvLkyTEBtdy6dasMDg7GQIeHh9s7OzvfBx5nkrIbAS7du3fvxyIiPT09hoBa1tXVJcv+fWNj4zLgUeAhJiC7EeDLwOsiMioisnDhwnFBrlixQi5evKiX/c6tW7c+R5E9lweU3QjwReDV/v7+bhGRqqqqcQFquWnTJvH5fHrZLzocjkoSZU9bTSPA54GV165daxYROXDgwAMBannw4MFk2RsaGhqWME7ZjQDNwIrTp09/JSLS0tIyIUBACgoK5MKFCzHIcDj85+3btz8FZpFGdiPAZ4DCmpqaTSIiPp9vwoBaVlVVidfr1ct+/sqVK+9iILsR4FzgJcASDoeHRUSKioomDQnI/v37E2T3+Xz1hw4dWjSW7EaAeUA+UNbX12cXEdmyZcuUAAJiNpvlzJkzetl73G53rVrN2EmUCjATuA9EgYjL5eoGKCkpGatNHijmz5/Pxo0b2blzJ2azOfZ3k8lUYDabv45Go/Y7d+6sIY0VZQOjGqDT6bxeWlrKqlWrJgRlsVhYv349FRUVWCwWcnJyEt4PBoOuoaEhu9frvdzR0fHTtm3buolvRpLqe3OBp4EllZWV74mIRKNRyc3NTSvf7Nmzpbq6Wk6cOCFut1uSY2RkJOB0Ou3Nzc3Ha2trPwPWAGXAEuBZFFPPAbKMevBhYA6wCKgIBoP9IiKrV682hLPZbP8DEpH7vb29N1paWn602WwHFyxYsAX4EKgE3gIsQBFQgOIeT6j3z0wFqEkc60OPx9Odn58/t6SkhPb29jFLbrVa2bNnDwBer7fv5s2bPQ6Ho7upqcnZ1tbmASJq3gPC6utdYESXYfWeo6mkBaUHRQ/odrv/yM/Pt5SWlqb8kAbncDh+W7lyZYN683u6DOvAwipsOOnniA4wZf9lqhdoVYzY7fbrQMpBsdlsWK1WRkZGAtXV1d8D/wA+wKNLr5o+YEC9ZggIAEHiFbyfDhCUCcoFngIWFxYWrtMaat68eQl9V15eHmu2+vr6OuAd4A2gGFgMLERp/mdQ+noWyuadi9Jr2aQ4k42GBPXDs1Ga97WhoaFbIiIbNmxIANTWq87Ozp9VuApgGfACihPkoRjwI+p3mlSgtA9ZRkYNYwwKJBr2rl27sFqthEKhwZqamqOAX5f/AsPE5btLvM/GJWO6yFb/82eBonPnztWJiJw9e1YAWb58eUzaI0eOfAO8CbwCPIfiZZN+eEoncSaKLPOApbt3794uIuL1ehOktdvtF4C3gRKURXcOSn9lTRRsvIAZKI4+l/gjQFREZMeOHSIiEggE+tetW/cRitkuRhmERxnnxjxZQFDWnzzURwCv1+vUHxHHjh37lri0C1Am9KGpgDMC1G8SQnxxCHs8Hqf2RldX10+bN28+i+JjwyT62KSaP13oAfWTHO7t7f0dIBQK/b1v375GlEnVjPYuyoQaHlNTDahVMALca29vdwBcvnz5+KlTp26OATft1UuODBS7yEOxj0K/329HOSWWopjxlE1tchhtM7FriPfgXSDDbrfXo0gbJr4QzIi0WiRPYBbKZJrUV23b0dYn7XSYcsBkS9EiO/k6lApq1cwiPjzaAM1Y9cYC1G6uAWrPCtrvMwoHqU02Q5caIEzj1KaS+D+vIjxtLug31gAAAABJRU5ErkJggg==",Pu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF92lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuMTY0NzUzLCAyMDIxLzAyLzE1LTExOjUyOjEzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjMtMDktMTdUMTY6MzE6MjMrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIzLTA5LTE3VDE2OjQ0OjIyKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIzLTA5LTE3VDE2OjQ0OjIyKzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY0MTBhYjUzLWM0ZjEtNDVhNS04MjhkLTIxOTczOWFjOTk3MSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjBkMDNmNjM5LTE5MzctY2Y0MC1hMTg0LTIyMjg0NzczNWNmYSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjgyYjQwZGRmLWE0ZGEtNDY3MC1iYzc2LTBhYjY3ZmI5M2I0ZSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODJiNDBkZGYtYTRkYS00NjcwLWJjNzYtMGFiNjdmYjkzYjRlIiBzdEV2dDp3aGVuPSIyMDIzLTA5LTE3VDE2OjMxOjIzKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NjQxMGFiNTMtYzRmMS00NWE1LTgyOGQtMjE5NzM5YWM5OTcxIiBzdEV2dDp3aGVuPSIyMDIzLTA5LTE3VDE2OjQ0OjIyKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz57vRudAAAEk0lEQVRYhe3ZW0jbVxzA8e8/MX+NYnG9uI4xE3bvoLt0FzradRfGBtsYo32YdAhb6WQyBqV7KOylpYjzZShDGfjmyxgbgjjwyRm16SYMhgiNKDhbL3VtNF4xJOnf3x7+59i/Wf4aTbInf3AwJMdzPjnnf/n9/jFEhGzDMIxMb3uAIsDs6ek5urS05Dtz5syE+uwekAQS6u89YD19gC0NIpJ1c8GZQHlXV9fJRCIxGo/HxxoaGj4CngWOAEGgEihXfT07MeQC3MB1dna+lkgkRkXF6urq3xcuXPgUOAE8DzwGPOiGLARwEy4ej4+JiITD4elr167NiIgsLi7eqq2trQPeBI4Bj7sh8w10xZmmeds0zdn+/v5/RERisdjUuXPnvgLeAl50Q+YTaAA+oKy7u/uE3laNAwSQ4uLiu6FQ6G4G5DG13YeAMjWWkU+gBygJhULHNe769etTTpwDGXUiz58//yXwujp5qoAHgBLAk0+gNxKJHEulUiMKN2ma5gwgPp/vjhOXjlxYWJisq6urBV5RW30IKAW8eQPGYrGjlmXdEBEZHBy8aZrmFCCmac729fVtAHt7e6MO5N2+vr47IiJLS0s3L126dBZ4Sh2LZUBRwVdwYGBgVuwOYh/zsoF0bnPBVzDTMRgOh6dFhROokSIi8/Pz0+pEeaPQx+DGWdzV1XVSX2LcgCIic3NzMzU1NV8D7wIvq9WrLNRZvOk62NHRccqJTAdGo9Hb1dXV3wAfYt9VjgAPFfI66EQWAxU9PT0fuwEvXrzYBJwF3gFeAAJAhfrfrO4k/7lxZxnr2JlJqry8POnWyePx6H4JR0vhktVkHGOXQI20SkpKLLcOhmGsA5YCaZiVLS5XoADi9XpdkznDMERhnE0fCgUHZhvOW+CO4/8A5hR7wFxjD5hr7AFzjZyBlmVlrOYdYaS1HUUuQA/gWV9fd51URDyqn1c1j6MVFGjoidfW1oq2ABrYj0V82OmVzwHNajVdB88C5wOKTdM87NaxsrKyQsFKHC2BnTDo+/TWt8Bd5INeVC44NDT0xXYZdXNz8w/AaeyS8yjwCPdzQu92ht2m/OUjIyOfS1pkAoqItLS0fA+8D7wKPA0cxs6qC1O4T0xMfKYnb21tnXEDNjc3z+nXbW1t3wFvYz9dCAL7KUThHovFPtGTNjU1jQFSX18/lg68cuXKLUAaGxs3vkB7e/u3wHHgCQpUdnpTqdQvesJgMDisUVevXh3Xry9fvnxTv66qqprQ/cfHx/vVNj/J/couv0DAv7q6+pMDeYPNSalkwkUikX7s4ukl4FHgAODPN1CXnPsWFxd/dCAjW+GGhoZCwAfYpeczwMPAPjVW3gv3IvXN98disZ8dyBGNCwQC4/r94eHhfuy6+JS6zATUCeJXY+W9cNfIUuDAwsLCr05kIBDYeBQ8Ojr6h8Lpx25BtbWlGpfv62BG5PLy8m+SFpOTk38C76mVe84NVyhgOvLgysrK7xoXjUb/Uqt2XG1rEDiYCbcd0MgwsWtk+J1EI03An0wmw5Zlefx+/2n1eRKIO5r+rWTTpFsZ/gWFrGMmeObuqwAAAABJRU5ErkJggg==",Up="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAEvUlEQVRYhc2Y20/cVRDHP8v+uKzAWkpDCtZq8BYhJkq8PBoJxgj7I2m0ryaSyFN9IT74pI8+8WJiggRj/APApFkSTGRJ+qKGUiyxbGPEWsUSuVhYC12Wy8+HmeMeYPe3d3WSye/k/M7le+bMzJkZ+J9ToEJreGVYN+vihcytstjQocUlAw0WCSoIVCv3Ae8CXwIt+u8XHVeOG8qLqgAHqAFCQCNwGugCthBJGd7S/tM6LqTzHI5KuqzgaoAHgEvAtwrkG2AG8FzXvep5nue67lX9N6P/PR1/SefXlBtkFXKNDUA/RyX1D9uUbYzOb9D1ygbSQU7eDMxhSSsSiVz3AxiJRK57nuf19/fPad8coqONFCBJPyUOIKc1OvcbgiY9ICDT8+0DHge2gR0gBeyTtviM5HeKAGlrrfMZVwhdAVaAr4F3KNF4gkA9cBbowOc68+3LwDn1Mhdy4/OcYk54nPr6+m54nofruvPa9SFQ6wfQTweNgTwInAGuQWk6mEUvHwb+Au4Dexx7ffK9+0q+CHWIBIOZ9skHYKWfK9tQ8gZoLDjIyWCg3ORY+2T8aYOyg4EaRIFrkCs4QU1NTSvabC20zyIDzuyfkYzEahHX8jHwE/LwXwHeJ4P7KIVIu5ouxFDC+HgLAy4MfEF2v1UpgOezATSiNVf6EvAWsD01NXVtdnb2bk9Pz81sp/q3KIi8t83Ae4DX0tJy0z7t8PDwD4FAYIX/WILVwKMAzc3Nu/agoaGhzmg0ugcsV0hIvlSNoH8IuIiebHJycrls4sotwaxGYvueAPAjEg3jum79yMjIr5WUjFLOxMpBIopWoBN4GfhOJ+4NDg4ulVt6i4uLm7r+BvAscA4fCXrAAfJQJ5Fg8gPgMuCMjo62d3V1LW1sbKRKlpXSxMTEmjZ/5qQrOwHwUAGmkIjiHhJdfKrM/Pz8Y+3t7RvT09Ob5QAYi8X2tbmke2cEZwAaCdoAt5QvIzEbiUSitbe3tyoej++UCnBhYSGkzdu6d1aQxkgOkfwgieQMCeCu8iwSnpNKpcIdHR3BZDJ5UCy4SCSyvL6+/giiSou67wE+eYmhAKKkIaAJUdynkdflNcQF3dFTpooxjmg0aozDAz4DXkB8bxPy1OYM7QzIOuAU0AY8pQu9CrwJ3AK8UCj0RyHgZmZmli1w3wOvAM/oHo1kiZiygbSDh7PAE8DzQA/wBqKnnuM4a2NjY7dygbtw4cICRy31deBFJA09o7eWsU7kJ1KTLJmyRyOSn5zS70fAkwBtbW2/DwwMHHR3d9d3dnY2rK6u7o2Pj2/GYrH9eDzurK2tndM1vwI+QXT7T2BTD5skQz6SCyAcLRoZkGEFGQbeRqpbubK+BPA5MI14h00L3I6Cy2h4+eQbJsKuRa6iQcGFFfB5oBt4DpFsI+Ky7iDBxW3gBhBH/GtC+R7i1lKk3UxRAG2QpvxWr0AbtB3SA5jkx36djH/dVlDbyibN3M8GDvJPyI2PSulixm/u6kZ1OQCaJ/S+tndJX6tvsFBIxcCUdA3vW5ubxMrObc0hDMhd/Rqp5QQHxeW8dubnHGM7tzVv/IECMlxQ/bpcRfRMqaNRheNcUGG9XFWDACfzWs/6Fl3t/xtO//8gpbCORQAAAABJRU5ErkJggg==",Yp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAER0lEQVRYhe2YT2hjRRjAf8lL22xsNsm6EWKrSKvuIkIh+O9QRFxEW18KUsoe7FHoRaWCN1FPetOrIHgVKS0q9P5OxaJbodkalgVrtVZjS7Ntd02z6abPw3yzmaT585q+elj2g2HmvZn35jffN/PNNwP35R6XgM/fuif4n+dO2klQvgsaZRc4NJJvoJbHdhrIAkJAN2ADHwFfAw9J3ZoB/b9I0AA6A0SBc0Aa2EVpSqddeZ+QdmfkO+u0gIPSQQR4HfhRQH4AHMDNZDJXXNd1M5nMFalzdB3wJTAOPAD0yEB9066G6wXepVZTd5MpTdporZ6jVqsatmMJoTR3HvgJQ1u2bS+3ArRte9l1XXdsbGyJo1pdBN6Wf3d3ChlAmSQO9LeC8fquQRpDWaerHWSjSr1iu4BkJyOsF9u2s67rkslkluTVxygltAVsJBZqdCngEj5osIlW+4EYytRNF04jeu3vulCT+7QkLH20dEOhumft97pQI4s3+iiRSPwtxVSbd39J8eEGvzFXc1NAs8KSFAZeBt4AHgNeBFDWObkEAne7HAK2gT2gCFQatdca1GbtBj4E3veFprVYVLXXcg4GqM6588BbAMlkcm1qamqzr6/v6ikBet5RgiizJoDPAXdgYGDZXHkzMzPrrk9CdRWngUeAsxxdCzVwpgZ/BigWiz1mo4mJif7jqMajeJrU5hywgGvAej6fvzA0NLThN1Eul9uT4g5VTbYFNKUIfAbsZ7PZvuHh4Wt+As7Ozu5IcY2j219TQB0NV4A7qODgO4CFhYWLg4ODOb8AHccpG4A68m6pRQ1YAQ6A28A+8BXwBcDq6upTqVTquh+AuVyuW4q/opRRaQdZD1gCbgE3ge+BT4HdfD7/ZDwe/z2bzRY6hRsfH1/e3Nx8FDX/sgbgoZfvg6jo4ixqW7oIPA+8CrwHrAJuJBLJd+JaHMf5k6qmPgGeQe1SCenXk0/U21xcIC8AzwGvAJPAEuAmEon1xcXFba9w8/Pz5oqdB14CnpY+oij35km0qwmjwqAU8ISM9hIwBeQA17KsG9PT07+1gxsZGdmgdqW+BjwLDAAPoo4ALU+W9arVwWoIpXp9kouKZpPAO8AwQCwW+2d0dLQ0OTkZSafT0UKhUJ6bm9t2HKeysrIS3tra0g7+KvABUJC0g5rrJdRcbLpImtleRzYashc1P2OSXwbebDVykX3gW+Ab1AHqhuQ3pe6AJlFMO0CoPROHDcio5I8DL1A9C8dQbmod+APYAK4DvwjQnsDdErgyVTfTEaCG1GFYGHXG7TVSo2OkdvhlAflXoHSuNdfStFqaRhEi2kfdprrj6M5LAt0I8EDaaMdflPal48CB95hMr3Bt8h4jD0kyL5E0pN6dysZzW7N2AqjbmhdIZjJvufTOpE19x3g+9s1XJ/ck5tVbfdhu+rxDfLiSO+lFToCjZwrXyH2/0Lwv95z8B1jAqXmDnj4YAAAAAElFTkSuQmCC",Xp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAIiklEQVRYhe2YW2yUxxmGn7W96zXGNnZsr2FJHQyYBHNIU1ttAqVUVjlJUAtxQyUXhKgQktUDdSUkuEDtBVJ9UQXRC0RJRblrq/SCIARpFImWQ8VBIZQinJpQYozNyWaxiw/rfXsx3+z+6xNOe9tPGv2nOTzzffPPvDMhSXwJC1nKAXIDV/9ellLAqF1T9o5A2Ry7J5A/Fbh3mUMh8qYJ5kHCQATID6QIkBcAHAVGgKFAStq33EB53/ao5Rm064i9g0CmqcDyrNICYCZQBJTYdaa9j1jelDUwCAwAz4F+ex61DhZauXzr1CDwDHhq1wFg2Do1KWAo0NsCAyoDKoGYXcuBWdZY1PKnzAsDQB/wBOg1yKTVN8vqmoHz6nOgC7gHdFrbCasrNRFgyMCj5qVXgDlANfAaMA/4ir2rMI+MtSHgEdAN9BjsiNVZYR0sNq8+AtqB69Z2MuDBcYA+pAXW0yoDWgTUWXrd8k1l+cBcSxjIIBlPB63G8uUB/8Z57znwAkgGAX1YC4BSK7QIWA7UWwoDJJNJzp49y4ULF2hvb6e7u5tEIkFhYSGVlZXMmzePhoYGNmzYQElJCVZv2tPt7e3s2bOHvr4+9u3bx/r16+PWjg/zQ9x4BEk+5UkqklQt6ZuSdkn6jaRbMhsYGFBbW5uWLVvmp5MpU3V1tVpbW9XV1aWgbdy4MZ2npqbGvx6W9DtJ35e0RFJREDBX0gxJcUnfkPQDScck3fGlz549q7q6ummBjU2xWEzvvfdeGvCtt95Kf6uoqAiyfyBpt6SvSZrlAUOSIpLKJS2X9D1Jv5Z025d69913FQqFJmy8rKxMS5YsUUNDg5YvX67Zs2dPCrpjxw6NjIxoxYoV6XdVVVVBwI8l/UTS1yWVesBcC+18SRsk/ULS33yJtra2CRtramrSiRMn1NXVpWQyKUlKpVJ6+vSpTp48qZ07dyo/P39cua1bt6q+vn4ywL9IapX0tqQyDxiRFDPq3ZL+JCklSadOnRrXwMKFC3X69GlNx65du6aVK1eOqyMYjTGAf50IsNC8t1FSm6TPJOn+/fuKxWJZFb/zzjvjBvx0bO/evQqHwxNG4mUe9MtYMZk5bwHA4cOH6enpSc9BixYt4uTJk5SVlflXfcBN4DFuapoHLPQfz58/z9WrVwmFQsTjceLxOHfv3uUlNlZcpFeMEtzsXg2QSCQ4duxYulQoFOLQoUNBuE7gvAE+x82b/VZHyblz52hsbCSZTL4MCGWrqUECq0gQsBi3ts4B+PDDD3n48GG61OrVq1mzZo1/fGZw54HbVmGV1bMAWPbRRx9NC24CwD7cajLiAXNwIS7ELW3lAGfOnMmqZPv27cHHvwM3gH8AnwH/wnn0C+AuwLZt25g/f/5L4cLhMNu2bfOPnbh1+xkZ9UMebvmKGmQEoLOzM11JQUEBK1eu9I/JAFAPTqnk4hTNY9xS1V5TU1N7+fJlOjo6SKXS+jPLJFFUVMTixYsxmJtW/inOi2nAXDI/C0BWeMvKyojFYv6xz1LCKhnCRSEBPMCFfBaQKi0tfb2+vn5qFzp7AnwCXAM+t45mAUJGfgMwOpoWtIRCWZ/89BB8TuJ+lG5cNEatkXYgjtN+BYG2ktaxBE4U3AP+iRsud3EeHCTwk6Ss0IhvtaKiIk3Q19dHb28vhYWF4H6mYtxwiBrQIE4aPTHgIVzoO3E/TzlOV4YD3/stj9eMPj2xzg4HAYMSPQnkxePxNGB/fz+XLl1iy5Yt4HTeq+aZTtyA9h18Yb33G6aRQBqyDiUNLihmH1q54LAZ9ZHKISPRn1loaGxsJGjHjx8PPi6xtAgnNufgVHcRmf1J2DpTiJsjvYout3c5gQ49Ns89s3fpOdB70I+Hx7iBXrV27VqKi4tJJBKAm3auXLmCDfpy4G3rZSHur/aSPg83BCpx24MFuNUlbnkHcGMubEDdxpG0lBn8AcBBsgfsVysqKti6dStHjhwBYGRkhJaWFs6dO0ckEgGYj9v0xIA71rkha7jUgBYCb5hHGRoaIj8/f4Z5s8jafUpmN/diLBwAkmZKWiipSdKvJN2VpI6ODhUVFWUt7Js2bdLAwMBYLdAt6VNJlyV9IumLsRkOHjyo2tparVixQrdvp2Xmn00YrJI0R05VBRV+GjAiqcoUxA8lnfI1HD16dJz6WLVqla5fvz4tFdPZ2anm5uas8s3Nzf7zp5J+LmmNpFcl5U8GmCupWFKtpO9K+qWkG76W3bt3j4OMRqNqaWnRhQsXNDQ0lAWVTCZ169YtHThwQFVVVePKtrS0+Kw3pgsYso+Vkuol7ZD0W0ldvsHW1tZJZXxtba0aGxvV1NSkdevWaenSpYpGoxPmXb9+vXp6ejzgx5J+ZiGeLSk8GaD34ky5Hd23JP1I0h8kPQmGu7y8/L/aNEUiEe3fv1/Dw8Pp6Es6KqlZ0puSXpHbVU4KiPVglqQFkr4j6aeSfi/pvq/13r172rVrlyorK6cFFo1GtXnzZl25ciU4Ch5J+qOkH0v6tqTXzDk5EwGGlNFjOWQOd8px4vUN4E3cpn2pz/jgwQPef/99Ll68yJ07d+jt7WVwcJBIJEJJSQlz586loaGBTZs2UVdXF5w0OoDLwFWcbPsct6r04+bRLHEYCoWyAD1kBDfHleHmsxrccccS3NFHNV/eenBy6iZwCycMOnHz5wBuDh2nyyY6H0zhFmoF7vtxk+l9q3ieQfrDo8msF7cy3cN56g7ZWnKcep7IxnrQmz+wHKu2K3EKJWbPpWSUTQ4ZtRJc23sC6ZGB9ZM52JwcboIQjzUvZvNxYfeHlyVkZFcBbux6wKA6ShjoM5yM8uH0Xpuy8ekAQuZc2W8P8nEei9p9mMmPgAfJHO0O27e0lHppw9MEDJo//A4eoE91iB48SJ80lFMB/t/+V/sPGZfTmtMFR4EAAAAASUVORK5CYII=";var ti=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},_e=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},He,ni,kr,_n,Ha,Yt,$u,Iu,$t,jl,Ll;class Zp{constructor(t,n){He.add(this),ni.set(this,void 0),kr.set(this,void 0),_n.set(this,null),Ha.set(this,null),Yt.set(this,{auto:Vp,"drag-default":Up,"drag-active":Yp,"rotate-0":Pu,rotate:Xp}),ti(this,kr,t,"f"),ti(this,ni,n.eventHub,"f"),_e(this,He,"m",$u).call(this),_e(this,He,"m",Iu).call(this)}}ni=new WeakMap,kr=new WeakMap,_n=new WeakMap,Ha=new WeakMap,Yt=new WeakMap,He=new WeakSet,$u=function(){const t=_e(this,ni,"f");_e(this,He,"m",$t).call(this,"default"),t.on("cursor",n=>{var r;n.type==="over-element"||!n.type?_e(this,He,"m",$t).call(this,"auto"):n.type==="resize-rotate"?_e(this,He,"m",$t).call(this,"rotate"):typeof n.type=="string"&&(!((r=n.type)===null||r===void 0)&&r.startsWith("resize-"))?_e(this,He,"m",jl).call(this,n):n.type==="drag-default"?_e(this,He,"m",$t).call(this,"drag-default"):n.type==="drag-active"?_e(this,He,"m",$t).call(this,"drag-active"):_e(this,He,"m",$t).call(this,"auto")})},Iu=function(){bi(Pu).then(t=>{ti(this,Ha,t,"f")}).catch(t=>{console.error(t)})},$t=function(t){if(_e(this,_n,"f")===t)return;ti(this,_n,t,"f");const n=_e(this,Yt,"f")[_e(this,_n,"f")]||_e(this,Yt,"f").auto;let r=0,a=0;(t.startsWith("rotate-")&&_e(this,Yt,"f")[_e(this,_n,"f")]||t==="rotate")&&(r=10,a=10),t==="default"?_e(this,kr,"f").style.cursor="default":_e(this,kr,"f").style.cursor=`image-set(url(${n})2x) ${r} ${a}, auto`},jl=function(t){var n;let r=0;t.type==="resize-top"?r+=0:t.type==="resize-top-right"?r+=45:t.type==="resize-right"?r+=90:t.type==="resize-bottom-right"?r+=135:t.type==="resize-bottom"?r+=180:t.type==="resize-bottom-left"?r+=225:t.type==="resize-left"?r+=270:t.type==="resize-top-left"&&(r+=315),r+=ht(((n=t==null?void 0:t.element)===null||n===void 0?void 0:n.angle)||0),Array.isArray(t.groupQueue)&&t.groupQueue.length>0&&t.groupQueue.forEach(i=>{r+=ht(i.angle||0)}),r=ht(r);const a=_e(this,He,"m",Ll).call(this,r);_e(this,He,"m",$t).call(this,a)},Ll=function(t){const n=`rotate-${t}`;if(!_e(this,Yt,"f")[n]){const r=_e(this,Ha,"f");if(r){const a=document.createElement("canvas"),i=r.width,o=r.height,s={x:i/2,y:o/2};a.width=i,a.height=o;const c=a.getContext("2d"),d=Lt(t);c.translate(s.x,s.y),c.rotate(d),c.translate(-s.x,-s.y),c.drawImage(r,0,0,i,o),c.translate(s.x,s.y),c.rotate(-d),c.translate(-s.x,-s.y);const u=a.toDataURL("image/png");_e(this,Yt,"f")[n]=u}}return n};const lt="SELECT",Se=Symbol(`${lt}_actionType`),Gt=Symbol(`${lt}_resizeType`),fa=Symbol(`${lt}_areaStart`),ha=Symbol(`${lt}_areaEnd`),mr=Symbol(`${lt}_hoverElement`),Ji=Symbol(`${lt}_hoverElementVertexes`),br=Symbol(`${lt}_selectedElementList`),Kp=Symbol(`${lt}_selectedElementListVertexes`),pn=Symbol(`${lt}_selectedElementController`),Be=Symbol(`${lt}_groupQueue`),qi=Symbol(`${lt}_groupQueueVertexesList`),zu=2,Qp=4,Ru=1,Vr="#1973ba",kl="#5b5959b5",Du=10;function jt(e,t,n){const{borderColor:r,borderWidth:a,background:i,lineDash:o}=n;e.setLineDash([]),e.lineWidth=a,e.strokeStyle=r,e.fillStyle=i,e.setLineDash(o),e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y),e.lineTo(t[2].x,t[2].y),e.lineTo(t[3].x,t[3].y),e.lineTo(t[0].x,t[0].y),e.closePath(),e.stroke(),e.fill()}function Jp(e,t,n,r){const{borderColor:a,borderWidth:i,lineDash:o}=r;e.setLineDash([]),e.lineWidth=i,e.strokeStyle=a,e.setLineDash(o),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.closePath(),e.stroke()}function qp(e,t,n){const{size:r,borderColor:a,borderWidth:i,background:o}=n,s=t,c=r/2,d=c,u=c;if(d>=0&&u>=0){if(typeof i=="number"&&i>0){const f=i/2+d,p=i/2+u;e.beginPath(),e.strokeStyle=a,e.lineWidth=i,e.circle(s.x,s.y,f,p,0,0,2*Math.PI),e.closePath(),e.stroke()}e.beginPath(),e.fillStyle=o,e.circle(s.x,s.y,d,u,0,0,2*Math.PI),e.closePath(),e.fill()}}function Bl(e,t,n){if(!t)return;const r={borderColor:Vr,borderWidth:1,background:"transparent",lineDash:[]};jt(e,Ie(t,n),r)}function It(e,t,n){const{borderColor:r,borderWidth:a,background:i,lineDash:o}=n;e.setLineDash([]),e.lineWidth=a,e.strokeStyle=r,e.fillStyle=i,e.setLineDash(o),e.beginPath(),e.moveTo(t[0].x,t[0].y),e.lineTo(t[2].x,t[2].y),e.closePath(),e.stroke(),e.beginPath(),e.moveTo(t[1].x,t[1].y),e.lineTo(t[3].x,t[3].y),e.closePath(),e.stroke()}function Fl(e,t,n){if(!t)return;const r={borderColor:kl,borderWidth:1,background:"transparent",lineDash:[]};jt(e,Ie(t,n),r);const{controller:a}=n;if(a){const{topLeft:i,topRight:o,bottomLeft:s,bottomRight:c,topMiddle:d,bottomMiddle:u,leftMiddle:f,rightMiddle:p}=a,h=Object.assign(Object.assign({},r),{borderWidth:1,background:kl});It(e,Ie(d.vertexes,n),h),It(e,Ie(u.vertexes,n),h),It(e,Ie(f.vertexes,n),h),It(e,Ie(p.vertexes,n),h),It(e,Ie(i.vertexes,n),h),It(e,Ie(o.vertexes,n),h),It(e,Ie(s.vertexes,n),h),It(e,Ie(c.vertexes,n),h)}}function Hl(e,t,n){if(!t)return;const{elementWrapper:r,topLeft:a,topRight:i,bottomLeft:o,bottomRight:s,top:c,rotate:d}=t,u={borderColor:Vr,borderWidth:zu,background:"transparent",lineDash:[]},f=Object.assign(Object.assign({},u),{borderWidth:Qp,background:"#FFFFFF"});Jp(e,Qe(c.center,n),Qe(d.center,n),Object.assign(Object.assign({},f),{borderWidth:2})),jt(e,Ie(r,n),u),jt(e,Ie(a.vertexes,n),f),jt(e,Ie(i.vertexes,n),f),jt(e,Ie(o.vertexes,n),f),jt(e,Ie(s.vertexes,n),f),qp(e,Qe(d.center,n),Object.assign(Object.assign({},f),{size:Du,borderWidth:2}))}function eg(e,t){const{start:n,end:r}=t;e.setLineDash([]),e.lineWidth=Ru,e.strokeStyle=Vr,e.fillStyle="#1976d24f",e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(r.x,n.y),e.lineTo(r.x,r.y),e.lineTo(n.x,r.y),e.closePath(),e.stroke(),e.fill()}function tg(e,t){const{areaSize:n}=t,{x:r,y:a,w:i,h:o}=n;e.setLineDash([]),e.lineWidth=Ru,e.strokeStyle=Vr,e.fillStyle="#1976d21c",e.beginPath(),e.moveTo(r,a),e.lineTo(r+i,a),e.lineTo(r+i,a+o),e.lineTo(r,a+o),e.closePath(),e.stroke(),e.fill()}function ng(e,t,n){for(let r=0;r<t.length;r++){const a=t[r],i={borderColor:Vr,borderWidth:zu,background:"transparent",lineDash:[4,4]};jt(e,Ie(a,n),i)}}function ce(e){return e*Math.PI/180}function pa(e,t){return Math.sqrt(e*e+t*t)}function re(e,t){return t>0?Math.abs(e):0-Math.abs(e)}function Ao(e,t){const{ctx:n,viewScaleInfo:r,viewSizeInfo:a,vertexes:i}=t,o=Qe(i[0],{viewScaleInfo:r,viewSizeInfo:a}),s=Qe(i[1],{viewScaleInfo:r,viewSizeInfo:a}),c=Qe(i[2],{viewScaleInfo:r,viewSizeInfo:a}),d=Qe(i[3],{viewScaleInfo:r,viewSizeInfo:a});return n.beginPath(),n.moveTo(o.x,o.y),n.lineTo(s.x,s.y),n.lineTo(c.x,c.y),n.lineTo(d.x,d.y),n.lineTo(o.x,o.y),n.closePath(),!!n.isPointInPath(e.x,e.y)}function Wl(e,t){const{ctx:n,viewScaleInfo:r,viewSizeInfo:a,groupQueue:i}=t;if(!i||!((i==null?void 0:i.length)>0))return!1;const o=rs(i),s=o[o.length-1];return s?Ao(e,{ctx:n,vertexes:s,viewScaleInfo:r,viewSizeInfo:a}):!1}function yr(e,t){var n,r,a;const i={type:null,elements:[],elementVertexesList:[],groupQueue:[],groupQueueVertexesList:[]},{ctx:o,data:s,calculator:c,selectedElements:d,viewScaleInfo:u,viewSizeInfo:f,areaSize:p,groupQueue:h,selectedElementController:v}=t;if(v){const{left:g,right:m,top:b,bottom:y,topLeft:x,topRight:w,bottomLeft:C,bottomRight:_,rotate:A}=v,R=[g,m,b,y,x,w,C,_,A];for(let S=0;S<R.length;S++){const P=R[S];if(Ao(e,{ctx:o,vertexes:P.vertexes,viewSizeInfo:f,viewScaleInfo:u})){i.type=`resize-${P.type}`,d&&(d==null?void 0:d.length)>0&&(i.groupQueue=h||[],i.elements=[d[0]]);break}}}if(h&&Array.isArray(h)&&h.length>0){const g=h[h.length-1];if(!((n=g==null?void 0:g.detail)===null||n===void 0)&&n.children&&Array.isArray((r=g==null?void 0:g.detail)===null||r===void 0?void 0:r.children))for(let m=g.detail.children.length-1;m>=0;m--){const b=g.detail.children[m],y=qa(b,{groupQueue:h});if(y&&Ao(e,{ctx:o,vertexes:y,viewScaleInfo:u,viewSizeInfo:f}))return i.type||(i.type="over-element"),i.groupQueue=h,i.elements=[b],i}return i}if(i.type!==null)return i;if(p&&Array.isArray(d)&&(d==null?void 0:d.length)>1){const{x:g,y:m,w:b,h:y}=p;if(e.x>=g&&e.x<=g+b&&e.y>=m&&e.y<=m+y)return i.type="list-area",i.elements=d,i}if(s){const{index:g,element:m}=c.getPointElement(e,{data:s,viewScaleInfo:u,viewSizeInfo:f});if(g>=0&&m&&((a=m==null?void 0:m.operations)===null||a===void 0?void 0:a.invisible)!==!0)return i.elements=[m],i.type="over-element",i}return i}function rg(e,t){var n,r,a,i,o,s,c,d,u;let{x:f,y:p,w:h,h:v,angle:g=0}=e;const m=Ht({x:f,y:p,w:h,h:v,angle:g});g=ht(g);const b=Lt(g),y=!!(!((n=e==null?void 0:e.operations)===null||n===void 0)&&n.limitRatio),{start:x,end:w,resizeType:C,scale:_}=t;let A=Object.assign({},x),R=Object.assign({},w),S={x:A.x,y:m.y},P={x:R.x,y:m.y},j=Object.assign({},S),I=Object.assign({},P),M={x:m.x,y:A.y},T={x:m.x,y:R.y},N=Object.assign({},M),F=Object.assign({},T),B=(I.x-j.x)/_,H=(I.y-j.y)/_,E=pa(B,H),k=(F.x-N.x)/_,Y=(F.y-N.y)/_,$=pa(k,Y);(g>0||g<0)&&(A=Ne(m,x,0-b),R=Ne(m,w,0-b),S={x:A.x,y:m.y},P={x:R.x,y:m.y},j=Ne(m,S,b),I=Ne(m,P,b),M={x:m.x,y:A.y},T={x:m.x,y:R.y},N=Ne(m,M,b),F=Ne(m,T,b),B=(I.x-j.x)/_,H=(I.y-j.y)/_,E=pa(B,H),E=re(E,H),k=(F.x-N.x)/_,Y=(F.y-N.y)/_,$=pa(k,Y),$=re($,Y));let U=(w.x-x.x)/_,V=(w.y-x.y)/_;if(y===!0){if(["resize-top","resize-bottom","resize-left","resize-right"].includes(C)){const z=Math.max(Math.abs(U),Math.abs(V));U=(U>=0?1:-1)*z,V=(V>=0?1:-1)*z/e.w*e.h;const D=Math.max(Math.abs(k),Math.abs(Y));k=(k>=0?1:-1)*D,Y=(Y>=0?1:-1)*D/e.w*e.h;const L=Math.max(Math.abs(B),Math.abs(H));B=(B>=0?1:-1)*L,H=(H>=0?1:-1)*L/e.w*e.h}else if(["resize-top-left","resize-top-right","resize-bottom-left","resize-bottom-right"].includes(C)){{const z=Math.abs(U);U=(U>=0?1:-1)*z;const D=z/e.w*e.h;C==="resize-top-left"||C==="resize-bottom-right"?V=U>0?D:-D:(C==="resize-top-right"||C==="resize-bottom-left")&&(V=U>0?-D:D)}E=Math.abs(E),$=E/e.w*e.h}}switch(C){case"resize-top":{if(g===0)v-V>0&&(p+=V,v-=V,((r=e.operations)===null||r===void 0?void 0:r.limitRatio)===!0&&(f+=V/e.h*e.w/2,h-=V/e.h*e.w));else if(g>0||g<0){let z=m.x,D=m.y;if(g<90){$=0-re($,Y);const L=ce(g),W=$/2;z=z+W*Math.sin(L),D=D-W*Math.cos(L)}else if(g<180){$=re($,k);const L=ce(g-90),W=$/2;z=z+W*Math.cos(L),D=D+W*Math.sin(L)}else if(g<270){$=re($,Y);const L=ce(g-180),W=$/2;z=z-W*Math.sin(L),D=D+W*Math.cos(L)}else if(g<360){$=0-re($,k);const L=ce(g-270),W=$/2;z=z-W*Math.cos(L),D=D-W*Math.sin(L)}v+$>0&&(((a=e.operations)===null||a===void 0?void 0:a.limitRatio)===!0&&(h=h+$/e.h*e.w),v=v+$,f=z-h/2,p=D-v/2)}break}case"resize-bottom":{if(g===0)e.h+V>0&&(v+=V,((i=e.operations)===null||i===void 0?void 0:i.limitRatio)===!0&&(f-=V/e.h*e.w/2,h+=V/e.h*e.w));else if(g>0||g<0){let z=m.x,D=m.y;if(g<90){$=re($,Y);const L=ce(g),W=$/2;z=z-W*Math.sin(L),D=D+W*Math.cos(L)}else if(g<180){$=0-re($,k);const L=ce(g-90),W=$/2;z=z-W*Math.cos(L),D=D-W*Math.sin(L)}else if(g<270){$=re($,k);const L=ce(g-180),W=$/2;z=z+W*Math.sin(L),D=D-W*Math.cos(L)}else if(g<360){$=re($,k);const L=ce(g-270),W=$/2;z=z+W*Math.cos(L),D=D+W*Math.sin(L)}v+$>0&&(((o=e.operations)===null||o===void 0?void 0:o.limitRatio)===!0&&(h=h+$/e.h*e.w),v=v+$,f=z-h/2,p=D-v/2)}break}case"resize-left":{if(g===0)e.w-U>0&&(f+=U,h-=U,((s=e.operations)===null||s===void 0?void 0:s.limitRatio)===!0&&(v-=U/e.w*e.h,p+=U/e.w*e.h/2));else if(g>0||g<0){let z=m.x,D=m.y;if(g<90){E=0-re(E,B);const L=ce(g),W=E/2;z=z-W*Math.cos(L),D=D-W*Math.sin(L)}else if(g<180){E=re(E,B);const L=ce(g-90),W=E/2;z=z+W*Math.sin(L),D=D-W*Math.cos(L)}else if(g<270){E=re(E,H);const L=ce(g-180),W=E/2;z=z+W*Math.cos(L),D=D+W*Math.sin(L)}else if(g<360){E=re(E,H);const L=ce(g-270),W=E/2;z=z-W*Math.sin(L),D=D+W*Math.cos(L)}h+E>0&&(((c=e.operations)===null||c===void 0?void 0:c.limitRatio)===!0&&(v=v+E/e.w*e.h),h=h+E,f=z-h/2,p=D-v/2)}break}case"resize-right":{if(g===0)e.w+U>0&&(h+=U,((d=e.operations)===null||d===void 0?void 0:d.limitRatio)===!0&&(p-=U*e.h/e.w/2,v+=U*e.h/e.w));else if(g>0||g<0){let z=m.x,D=m.y;if(g<90){E=re(E,H);const L=ce(g),W=E/2;z=z+W*Math.cos(L),D=D+W*Math.sin(L)}else if(g<180){E=re(E,V);const L=ce(g-90),W=E/2;z=z-W*Math.sin(L),D=D+W*Math.cos(L)}else if(g<270){E=re(E,V);const L=ce(g-180),W=E/2;z=z+W*Math.cos(L),D=D+W*Math.sin(L),E=0-E}else if(g<360){E=re(E,U);const L=ce(g-270),W=E/2;z=z+W*Math.sin(L),D=D-W*Math.cos(L)}h+E>0&&(((u=e.operations)===null||u===void 0?void 0:u.limitRatio)===!0&&(v=v+E/e.w*e.h),h=h+E,f=z-h/2,p=D-v/2)}break}case"resize-top-left":{if(g===0)h-U>0&&(f+=U,h-=U),v-V>0&&(p+=V,v-=V);else if(g>0||g<0){let z=m.x,D=m.y;if(g<90){$=0-re($,Y),E=0-re(E,y?0-$:B);const L=$/2;z=z+L*Math.sin(b),D=D-L*Math.cos(b);const W=E/2;z=z-W*Math.cos(b),D=D-W*Math.sin(b)}else if(g<180){$=re($,k),E=re(E,y?$:B);const L=ce(g-90),W=$/2;z=z+W*Math.cos(L),D=D+W*Math.sin(L);const ee=E/2;z=z+ee*Math.sin(L),D=D-ee*Math.cos(L)}else if(g<270){$=re($,Y),E=re(E,y?$:H);const L=ce(g-180),W=$/2;z=z-W*Math.sin(L),D=D+W*Math.cos(L);const ee=E/2;z=z+ee*Math.cos(L),D=D+ee*Math.sin(L)}else if(g<360){$=0-re($,k),E=re(E,y?$:H);const L=ce(g-270),W=$/2;z=z-W*Math.cos(L),D=D-W*Math.sin(L);const ee=E/2;z=z-ee*Math.sin(L),D=D+ee*Math.cos(L)}v+$>0&&(v=v+$),h+E>0&&(h=h+E),f=z-h/2,p=D-v/2}break}case"resize-top-right":{if(g===0)h+U>0&&(h+=U),v-V>0&&(p+=V,v-=V);else if(g>0||g<0){let z=m.x,D=m.y;if(g<90){$=0-re($,Y),E=re(E,y?$:H);const L=ce(g),W=$/2;z=z+W*Math.sin(L),D=D-W*Math.cos(L);const ee=E/2;z=z+ee*Math.cos(L),D=D+ee*Math.sin(L)}else if(g<180){$=re($,k),E=re(E,y?$:H);const L=ce(g-90),W=$/2;z=z+W*Math.cos(L),D=D+W*Math.sin(L);const ee=E/2;z=z-ee*Math.sin(L),D=D+ee*Math.cos(L)}else if(g<270){const L=ce(g-180);$=re($,Y),E=re(E,y?$:0-B);const W=$/2;z=z-W*Math.sin(L),D=D+W*Math.cos(L);const ee=E/2;z=z-ee*Math.cos(L),D=D-ee*Math.sin(L)}else if(g<360){$=0-re($,k),E=re(E,y?$:B);const L=ce(g-270),W=$/2;z=z-W*Math.cos(L),D=D-W*Math.sin(L);const ee=E/2;z=z+ee*Math.sin(L),D=D-ee*Math.cos(L)}v+$>0&&(v=v+$),h+E>0&&(h=h+E),f=z-h/2,p=D-v/2}break}case"resize-bottom-left":{if(g===0)e.h+V>0&&(v+=V),e.w-U>0&&(f+=U,h-=U);else if(g>0||g<0){let z=m.x,D=m.y;if(g<90){$=re($,Y),E=0-re(E,y?0-$:B);const L=ce(g),W=$/2;z=z-W*Math.sin(L),D=D+W*Math.cos(L);const ee=E/2;z=z-ee*Math.cos(L),D=D-ee*Math.sin(L)}else if(g<180){$=0-re($,k),E=re(E,y?$:B);const L=ce(g-90),W=$/2;z=z-W*Math.cos(L),D=D-W*Math.sin(L);const ee=E/2;z=z+ee*Math.sin(L),D=D-ee*Math.cos(L)}else if(g<270){$=re($,k),E=re(E,y?$:H);const L=ce(g-180),W=$/2;z=z+W*Math.sin(L),D=D-W*Math.cos(L);const ee=E/2;z=z+ee*Math.cos(L),D=D+ee*Math.sin(L)}else if(g<360){$=re($,k),E=re(E,y?$:H);const L=ce(g-270),W=$/2;z=z+W*Math.cos(L),D=D+W*Math.sin(L);const ee=E/2;z=z-ee*Math.sin(L),D=D+ee*Math.cos(L)}v+$>0&&(v=v+$),h+E>0&&(h=h+E),f=z-h/2,p=D-v/2}break}case"resize-bottom-right":{if(g===0)e.h+V>0&&(v+=V),e.w+U>0&&(h+=U);else if(g>0||g<0){let z=m.x,D=m.y;if(g<90){$=re($,Y),E=re(E,y?$:H);const L=ce(g),W=$/2;z=z-W*Math.sin(L),D=D+W*Math.cos(L);const ee=E/2;z=z+ee*Math.cos(L),D=D+ee*Math.sin(L)}else if(g<180){$=0-re($,k),E=re(E,y?$:V);const L=ce(g-90),W=$/2;z=z-W*Math.cos(L),D=D-W*Math.sin(L);const ee=E/2;z=z-ee*Math.sin(L),D=D+ee*Math.cos(L)}else if(g<270){$=re($,k),E=re(E,y?$:0-H);const L=ce(g-180),W=$/2;z=z+W*Math.sin(L),D=D-W*Math.cos(L);const ee=E/2;z=z-ee*Math.cos(L),D=D-ee*Math.sin(L)}else if(g<360){$=re($,k),E=re(E,y?$:B);const L=ce(g-270),W=$/2;z=z+W*Math.cos(L),D=D+W*Math.sin(L);const ee=E/2;z=z+ee*Math.sin(L),D=D-ee*Math.cos(L)}v+$>0&&(v=v+$),h+E>0&&(h=h+E),f=z-h/2,p=D-v/2}break}}return{x:f,y:p,w:h,h:v,angle:e.angle}}function ag(e,t){const{x:n,y:r,w:a,h:i,angle:o=0}=e,{center:s,start:c,end:d,viewScaleInfo:u,viewSizeInfo:f}=t,p=Qe(s,{viewScaleInfo:u,viewSizeInfo:f}),h=ht(o),v=Jh(p,c,d),g=h+Qh(v);return{x:n,y:r,w:a,h:i,angle:g}}function ig(e,t){var n;const r=[],a=[],i=[],{calculator:o,viewScaleInfo:s,viewSizeInfo:c,start:d,end:u}=t;if(!(Array.isArray(e.elements)&&d&&u))return{indexes:r,uuids:a,elements:i};const f=Math.min(d.x,u.x),p=Math.max(d.x,u.x),h=Math.min(d.y,u.y),v=Math.max(d.y,u.y);for(let g=0;g<e.elements.length;g++){const m=e.elements[g];if(((n=m==null?void 0:m.operations)===null||n===void 0?void 0:n.lock)===!0)continue;const b=o.elementSize(m,s,c),y=Ht(b);if(y.x>=f&&y.x<=p&&y.y>=h&&y.y<=v&&(r.push(g),a.push(m.uuid),i.push(m),b.angle&&(b.angle>0||b.angle<0))){const x=nn(b);if(x.length===4){const w=[x[0].x,x[1].x,x[2].x,x[3].x],C=[x[0].y,x[1].y,x[2].y,x[3].y];b.x=Math.min(...w),b.y=Math.min(...C),b.w=Math.abs(Math.max(...w)-Math.min(...w)),b.h=Math.abs(Math.max(...C)-Math.min(...C))}}}return{indexes:r,uuids:a,elements:i}}function eo(e,t){var n;if(!Array.isArray(e))return null;const r={x:0,y:0,w:0,h:0},{calculator:a,viewScaleInfo:i,viewSizeInfo:o}=t;let s=null;for(let c=0;c<e.length;c++){const d=e[c];if(!((n=d==null?void 0:d.operations)===null||n===void 0)&&n.invisible)continue;const u=a.elementSize(d,i,o);if(u.angle&&(u.angle>0||u.angle<0)){const f=nn(u);if(f.length===4){const p=[f[0].x,f[1].x,f[2].x,f[3].x],h=[f[0].y,f[1].y,f[2].y,f[3].y];u.x=Math.min(...p),u.y=Math.min(...h),u.w=Math.abs(Math.max(...p)-Math.min(...p)),u.h=Math.abs(Math.max(...h)-Math.min(...h))}}if(s){const f=Math.min(u.x,r.x),p=Math.min(u.y,r.y),h=Math.max(u.x+u.w,r.x+r.w),v=Math.max(u.y+u.h,r.y+r.h);r.x=f,r.y=p,r.w=Math.abs(h-f),r.h=Math.abs(v-p)}else r.x=u.x,r.y=u.y,r.w=u.w,r.h=u.h;s=u}return r}function og(e,t){var n;if((t==null?void 0:t.type)==="group"&&Array.isArray((n=t==null?void 0:t.detail)===null||n===void 0?void 0:n.children))for(let r=0;r<t.detail.children.length;r++){const a=t.detail.children[r];if(e.uuid===a.uuid)return!0}return!1}function sg(e,t,n){let r=t.x-e.x,a=t.y-e.y;const i=[];if(n.forEach(o=>{const{x:s,y:c,w:d,h:u,angle:f=0}=o;i.push({x:s,y:c,w:d,h:u,angle:0-f})}),(n==null?void 0:n.length)>0){const o=Ja(e,i),s=Ja(t,i);r=s.x-o.x,a=s.y-o.y}return{moveX:r,moveY:a}}const Oo="@middleware/text-edit",lg=rn(),ri=e=>{const{eventHub:t,boardContent:n,viewer:r}=e,a=n.boardContext.canvas,i=document.createElement("textarea"),o=document.createElement("div"),s=e.container||document.body,c=document.createElement("div");let d=null;o.appendChild(i),o.style.position="absolute",c.appendChild(o),c.style.position="fixed",c.style.top="0",c.style.bottom="0",c.style.left="0",c.style.right="0",c.style.display="none",s.appendChild(c);const u=b=>{g(),v(b),c.style.display="block"},f=()=>{c.style.display="none",d=null},p=()=>{const b=a.getBoundingClientRect(),{left:y,top:x,width:w,height:C}=b;return{left:y,top:x,width:w,height:C}},h=b=>{const{size:y,parent:x}=b,w=document.createElement("div"),{x:C,y:_,w:A,h:R}=y,S=ht(y.angle||0);return w.style.position="absolute",w.style.left=`${C}px`,w.style.top=`${_}px`,w.style.width=`${A}px`,w.style.height=`${R}px`,w.style.transform=`rotate(${S}deg)`,x.appendChild(w),w},v=b=>{const{viewScaleInfo:y,element:x,groupQueue:w}=b,{scale:C,offsetTop:_,offsetLeft:A}=y;o.children&&Array.from(o.children).forEach(T=>{T.remove()});let R=o;for(let T=0;T<w.length;T++){const N=w[T],{x:F,y:B,w:H,h:E}=N,k=ht(N.angle||0),Y={x:F*C,y:B*C,w:H*C,h:E*C,angle:k};T===0&&(Y.x+=A,Y.y+=_),R=h({size:Y,parent:R})}const S=Object.assign(Object.assign({},lg),x.detail);let P=x.x*C+A,j=x.y*C+_,I=x.w*C,M=x.h*C;w.length>0&&(P=x.x*C,j=x.y*C,I=x.w*C,M=x.h*C),i.style.position="absolute",i.style.left=`${P-1}px`,i.style.top=`${j-1}px`,i.style.width=`${I+2}px`,i.style.height=`${M+2}px`,i.style.transform=`rotate(${ht(x.angle||0)}deg)`,i.style.boxSizing="border-box",i.style.border="1px solid #1973ba",i.style.resize="none",i.style.overflow="hidden",i.style.wordBreak="break-all",i.style.background="#FFFFFF",i.style.color="#333333",i.style.fontSize=`${S.fontSize*C}px`,i.style.lineHeight=`${S.lineHeight*C}px`,i.style.fontFamily=S.fontFamily,i.style.fontWeight=`${S.fontWeight}`,i.style.padding="0",i.style.margin="0",i.style.outline="none",i.value=S.text||"",R.appendChild(i)},g=()=>{const{left:b,top:y,width:x,height:w}=p();o.style.position="absolute",o.style.overflow="hidden",o.style.top=`${y}px`,o.style.left=`${b}px`,o.style.width=`${x}px`,o.style.height=`${w}px`};c.addEventListener("click",()=>{f()}),i.addEventListener("click",b=>{b.stopPropagation()}),i.addEventListener("input",b=>{d&&(d.detail.text=b.target.value||"",r.drawFrame())}),i.addEventListener("blur",()=>{f()});const m=b=>{var y;b!=null&&b.element&&((y=b==null?void 0:b.element)===null||y===void 0?void 0:y.type)==="text"&&(d=b.element),u(b)};return{name:"@middleware/text-editor",use(){t.on(Oo,m)},disuse(){t.off(Oo,m)}}},kt="@middleware/select",ft="@middleware/select-clear",To=e=>{const{viewer:t,sharer:n,boardContent:r,calculator:a,eventHub:i}=e,{helperContext:o}=r;let s=null,c=null;n.setSharedStorage(Se,null);const d=()=>n.getSharedStorage(br),u=b=>{let y=n.getSharedStorage(Be);Array.isArray(y)||(y=[]),y.length>0?og(b,y[y.length-1])?y.push(b):y=[]:y.length===0&&y.push(b);const x=rs(y);return n.setSharedStorage(Be,y),n.setSharedStorage(qi,x),y.length>0},f=b=>{n.setSharedStorage(mr,b);let y=null;b&&(y=qa(b,{groupQueue:n.getSharedStorage(Be)})),n.setSharedStorage(Ji,y)},p=(b,y)=>{if(n.setSharedStorage(br,b),b.length===1){const x=da(b[0],{groupQueue:n.getSharedStorage(Be),controllerSize:Du,viewScaleInfo:n.getActiveViewScaleInfo()});n.setSharedStorage(pn,x)}else n.setSharedStorage(pn,null);(y==null?void 0:y.triggerEvent)===!0&&i.trigger(kt,{uuids:b.map(x=>x.uuid)})},h=()=>({ctx:o,calculator:a,data:n.getActiveStorage("data"),selectedElements:d(),viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo(),groupQueue:n.getSharedStorage(Be),areaSize:null,selectedElementController:n.getSharedStorage(pn)}),v=()=>{n.setSharedStorage(Se,null),n.setSharedStorage(Gt,null),n.setSharedStorage(fa,null),n.setSharedStorage(ha,null),n.setSharedStorage(Be,[]),n.setSharedStorage(qi,[]),n.setSharedStorage(mr,null),n.setSharedStorage(Ji,null),n.setSharedStorage(br,[]),n.setSharedStorage(Kp,null),n.setSharedStorage(pn,null)};v();const g=({uuids:b,positions:y})=>{let x=[];const w=n.getSharedStorage(Se),C=n.getActiveStorage("data");y&&Array.isArray(y)?x=lu(y,(C==null?void 0:C.elements)||[]):x=Aa(b,(C==null?void 0:C.elements)||[]);let _=!1;if(!w&&x.length===1?(n.setSharedStorage(Se,"select"),_=!0):w==="select"&&x.length===1&&(_=!0),_){const A=x[0],R=su(A.uuid,(C==null?void 0:C.elements)||[]);n.setSharedStorage(Be,R),p(x),t.drawFrame()}},m=()=>{v(),t.drawFrame()};return{name:"@middleware/selector",use(){i.on(kt,g),i.on(ft,m)},disuse(){i.off(kt,g),i.off(ft,m)},hover:b=>{var y,x,w,C,_;const A=n.getSharedStorage(Gt),R=n.getSharedStorage(Se),S=n.getSharedStorage(Be),P=N=>{const F=N.type;c===null&&i.trigger("cursor",{type:F,groupQueue:N.groupQueue,element:N.elements[0]})};if((S==null?void 0:S.length)>0){if(!Wl(b.point,{ctx:o,viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo(),groupQueue:n.getSharedStorage(Be)})){f(null),t.drawFrame();return}const F=yr(b.point,h());if(P(F),A||["area","drag","drag-list"].includes(R)){f(null),t.drawFrame();return}if(((y=F==null?void 0:F.elements)===null||y===void 0?void 0:y.length)===1){f(F.elements[0]),t.drawFrame();return}f(null),t.drawFrame();return}if(A||["area","drag","drag-list"].includes(R)){f(null);return}if(R==="drag"){f(null);return}const j=d(),I=n.getActiveViewScaleInfo(),M=n.getActiveViewSizeInfo(),T=yr(b.point,Object.assign(Object.assign({},h()),{areaSize:eo(j,{viewScaleInfo:I,viewSizeInfo:M,calculator:a})}));if(P(T),T.type!==null&&!(T.type==="over-element"&&n.getSharedStorage(Se)==="select"&&T.elements.length===1&&T.elements[0].uuid===((w=(x=d())===null||x===void 0?void 0:x[0])===null||w===void 0?void 0:w.uuid))&&!(T.type==="over-element"&&n.getSharedStorage(Se)===null&&T.elements.length===1&&T.elements[0].uuid===((C=n.getSharedStorage(mr))===null||C===void 0?void 0:C.uuid))){if(T.type==="over-element"&&((_=T==null?void 0:T.elements)===null||_===void 0?void 0:_.length)===1){f(T.elements[0]),t.drawFrame();return}if(n.getSharedStorage(mr)){f(null),t.drawFrame();return}}},pointStart:b=>{var y,x,w,C,_,A,R,S,P,j;s=b.point;const I=n.getSharedStorage(Be);if((I==null?void 0:I.length)>0){if(Wl(b.point,{ctx:o,viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo(),groupQueue:I})){const N=yr(b.point,h());if(((y=N==null?void 0:N.elements)===null||y===void 0?void 0:y.length)===1&&((w=(x=N.elements[0])===null||x===void 0?void 0:x.operations)===null||w===void 0?void 0:w.lock)===!0)return;f(null),N.type==="over-element"&&((C=N==null?void 0:N.elements)===null||C===void 0?void 0:C.length)===1?(p([N.elements[0]],{triggerEvent:!0}),n.setSharedStorage(Se,"drag")):!((_=N.type)===null||_===void 0)&&_.startsWith("resize-")?(n.setSharedStorage(Gt,N.type),n.setSharedStorage(Se,"resize")):p([],{triggerEvent:!0})}else v();t.drawFrame();return}const M=eo(d(),{viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo(),calculator:a}),T=yr(b.point,Object.assign(Object.assign({},h()),{areaSize:M,groupQueue:[]}));((A=T==null?void 0:T.elements)===null||A===void 0?void 0:A.length)===1&&((S=(R=T.elements[0])===null||R===void 0?void 0:R.operations)===null||S===void 0?void 0:S.lock)===!0||(f(null),T.type==="list-area"?n.setSharedStorage(Se,"drag-list"):T.type==="over-element"&&((P=T==null?void 0:T.elements)===null||P===void 0?void 0:P.length)===1?(p([T.elements[0]],{triggerEvent:!0}),n.setSharedStorage(Se,"drag")):!((j=T.type)===null||j===void 0)&&j.startsWith("resize-")?(n.setSharedStorage(Gt,T.type),n.setSharedStorage(Se,"resize")):(v(),n.setSharedStorage(Se,"area"),n.setSharedStorage(fa,b.point),p([],{triggerEvent:!0})),t.drawFrame())},pointMove:b=>{var y,x,w;const C=n.getActiveStorage("data"),_=d(),A=n.getActiveStorage("scale")||1,R=n.getActiveViewScaleInfo(),S=n.getActiveViewSizeInfo(),P=s,j=b.point,I=n.getSharedStorage(Gt),M=n.getSharedStorage(Se),T=n.getSharedStorage(Be);if(M==="drag"){if(c="drag",C&&(_==null?void 0:_.length)===1&&P&&j&&((x=(y=_[0])===null||y===void 0?void 0:y.operations)===null||x===void 0?void 0:x.lock)!==!0){const{moveX:N,moveY:F}=sg(P,j,T);_[0].x+=N/A,_[0].y+=F/A,p([_[0]])}t.drawFrame()}else if(M==="drag-list"){if(c="drag-list",C&&P&&j&&(_==null?void 0:_.length)>1){const N=(j.x-P.x)/A,F=(j.y-P.y)/A;_.forEach(B=>{var H;B&&((H=B==null?void 0:B.operations)===null||H===void 0?void 0:H.lock)!==!0&&(B.x+=N,B.y+=F)}),n.setActiveStorage("data",C)}t.drawFrame()}else if(M==="resize"){if(C&&(_==null?void 0:_.length)===1&&P&&(I!=null&&I.startsWith("resize-"))){c="resize";const N=[];T.forEach(H=>{const{x:E,y:k,w:Y,h:$,angle:U=0}=H;N.push({x:E,y:k,w:Y,h:$,angle:0-U})});let F=P,B=j;if(T.length>0&&(F=Ja(P,N),B=Ja(j,N)),I==="resize-rotate"){const H=n.getSharedStorage(pn),E=[H.topLeft.center,H.topRight.center,H.bottomLeft.center,H.bottomRight.center],k=nu(E),Y=ag(_[0],{center:k,viewScaleInfo:R,viewSizeInfo:S,start:P,end:j,resizeType:I,sharer:n});_[0].angle=Y.angle}else{const H=rg(_[0],{scale:A,start:F,end:B,resizeType:I,sharer:n});_[0].x=H.x,_[0].y=H.y,_[0].type==="group"&&((w=_[0].operations)===null||w===void 0?void 0:w.deepResize)===!0?hu(_[0],{w:H.w,h:H.h}):(_[0].w=H.w,_[0].h=H.h)}p([_[0]]),t.drawFrame()}}else M==="area"&&(c="area",n.setSharedStorage(ha,b.point),t.drawFrame());s=b.point},pointEnd(b){c=null;const y=n.getActiveStorage("data"),x=n.getSharedStorage(Gt),w=n.getSharedStorage(Se),C=n.getActiveViewSizeInfo();let _=!1;if(s=null,w==="resize"&&x)n.setSharedStorage(Gt,null),_=!0;else if(w==="area"){if(n.setSharedStorage(Se,null),y){const R=n.getSharedStorage(fa),S=n.getSharedStorage(ha);if(R&&S){const{elements:P}=ig(y,{start:R,end:S,calculator:a,viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo()});P.length>0&&(n.setSharedStorage(Se,"drag-list"),p(P,{triggerEvent:!0}),_=!0)}}}else w==="drag-list"?(n.setSharedStorage(Se,"drag-list-end"),_=!0):y&&(a.getPointElement(b.point,{data:y,viewScaleInfo:n.getActiveViewScaleInfo(),viewSizeInfo:n.getActiveViewSizeInfo()}).element?(n.setSharedStorage(Se,"select"),_=!0):n.setSharedStorage(Se,null));n.getSharedStorage(Se)===null&&(v(),_=!0),(()=>{if(_){if(y&&Array.isArray(y==null?void 0:y.elements)&&["drag","drag-list"].includes(w)){const R=ep(y.elements,C,{extend:!0});n.setActiveStorage("contextHeight",R.contextSize.contextHeight),n.setActiveStorage("contextWidth",R.contextSize.contextWidth)}y&&["drag","drag-list","drag-list-end","resize"].includes(w)&&i.trigger("change",{data:y,type:"dragElement"}),t.drawFrame()}})()},pointLeave(){s=null,v(),t.drawFrame()},doubleClick(b){var y,x,w,C;const _=yr(b.point,h());if(n.setSharedStorage(pn,null),n.setSharedStorage(br,[]),!(_.elements.length===1&&((x=(y=_.elements[0])===null||y===void 0?void 0:y.operations)===null||x===void 0?void 0:x.lock)===!0)){if(_.elements.length===1&&((w=_.elements[0])===null||w===void 0?void 0:w.type)==="group"){if(u(_.elements[0])===!0){n.setSharedStorage(Se,null),t.drawFrame();return}}else _.elements.length===1&&((C=_.elements[0])===null||C===void 0?void 0:C.type)==="text"&&i.trigger(Oo,{element:_.elements[0],groupQueue:n.getSharedStorage(Be)||[],viewScaleInfo:n.getActiveViewScaleInfo()});n.setSharedStorage(Se,null)}},beforeDrawFrame({snapshot:b}){var y;const{activeStore:x,sharedStore:w}=b,{scale:C,offsetLeft:_,offsetTop:A,offsetRight:R,offsetBottom:S,width:P,height:j,contextHeight:I,contextWidth:M,devicePixelRatio:T}=x,N=e.sharer,F={scale:C,offsetLeft:_,offsetTop:A,offsetRight:R,offsetBottom:S},B={width:P,height:j,contextHeight:I,contextWidth:M,devicePixelRatio:T},E=w[br][0],k=w[mr],Y=w[Ji],$=w[Se],U=w[fa],V=w[ha],z=w[Be],D=w[qi],L={calculator:a,viewScaleInfo:F,viewSizeInfo:B},W=E?da(E,{groupQueue:z,controllerSize:10,viewScaleInfo:F}):null,ee=!!(!((y=k==null?void 0:k.operations)===null||y===void 0)&&y.lock);if((z==null?void 0:z.length)>0)ng(o,D,L),k&&$!=="drag"&&(ee?Fl(o,Y,Object.assign(Object.assign({},L),{controller:da(k,{groupQueue:z,controllerSize:10,viewScaleInfo:F})})):Bl(o,Y,L)),!ee&&E&&["select","drag","resize"].includes($)&&Hl(o,W,Object.assign({},L));else if(k&&$!=="drag"&&(ee?Fl(o,Y,Object.assign(Object.assign({},L),{controller:da(k,{groupQueue:z,controllerSize:10,viewScaleInfo:F})})):Bl(o,Y,L)),!ee&&E&&["select","drag","resize"].includes($))Hl(o,W,Object.assign({},L));else if($==="area"&&U&&V)eg(o,{start:U,end:V});else if(["drag-list","drag-list-end"].includes($)){const hr=eo(d(),{viewScaleInfo:N.getActiveViewScaleInfo(),viewSizeInfo:N.getActiveViewSizeInfo(),calculator:a});hr&&tg(o,{areaSize:hr})}}}},Ur="SCROLL",Wa=Symbol(`${Ur}_xThumbRect`),Ga=Symbol(`${Ur}_yThumbRect`),Mn=Symbol(`${Ur}_prevPoint`),Po=Symbol(`${Ur}_activePoint`),$r=Symbol(`${Ur}_activeThumbType`),cg=12,Gl=16,dg=.36,Vl={width:cg,thumbColor:"#000000AA",scrollBarColor:"#FFFFFF60",showScrollBar:!1};function Ul(e,t,n){const r=e,{x:a,y:i,w:o,h:s}=n;return r.beginPath(),r.rect(a,i,o,s),r.closePath(),!!r.isPointInPath(t.x,t.y)}function ug(e,t,n){let r=null;const{xThumbRect:a,yThumbRect:i}=n;return a&&Ul(e,t,a)?r="X":i&&Ul(e,t,i)&&(r="Y"),r}function fg(e){const{sharedStore:t}=e;return{activePoint:t[Po]||null,prevPoint:t[Mn]||null,activeThumbType:t[$r]||null,xThumbRect:t[Wa]||null,yThumbRect:t[Ga]||null}}function hg(e,t){const{width:n,height:r}=t,{offsetTop:a,offsetBottom:i,offsetLeft:o,offsetRight:s}=e,c=Gl*2.5,d=Gl;let u=0,f=0;u=Math.max(c,n-d*2-(Math.abs(o)+Math.abs(s))),u>=n&&(u=n),f=Math.max(c,r-d*2-(Math.abs(a)+Math.abs(i))),f>=r&&(f=r);const p=d,h=n-u-d;let v=p;o>0?v=p:s>0?v=h:o<=0&&u>0&&!(o===0&&s===0)&&(v=p+(n-u)*Math.abs(o)/(Math.abs(o)+Math.abs(s)),v=Math.min(Math.max(0,v-p),n-u));const g=d,m=r-f-d;let b=g;a>0?b=g:i>0?b=m:a<=0&&f>0&&!(a===0&&i===0)&&(b=g+(r-f)*Math.abs(a)/(Math.abs(a)+Math.abs(i)),b=Math.min(Math.max(0,b-g),r-f));const y={x:v,y:r-d,w:u,h:d},x={x:n-d,y:b,w:d,h:f};return{lineSize:d,xSize:u,ySize:f,translateY:b,translateX:v,thumbColor:Vl.thumbColor,scrollBarColor:Vl.scrollBarColor,xThumbRect:y,yThumbRect:x}}function Yl(e,t){let{x:n,y:r,h:a,w:i}=t;e.save(),e.shadowColor="#FFFFFF",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=1;{const{color:o,axis:s}=t;s==="X"?(r=r+a/4+0,a=a/2):s==="Y"&&(n=n+i/4+0,i=i/2);let c=t.r;c=Math.min(c,i/2,a/2),(i<c*2||a<c*2)&&(c=0),e.globalAlpha=dg,e.beginPath(),e.moveTo(n+c,r),e.arcTo(n+i,r,n+i,r+a,c),e.arcTo(n+i,r+a,n,r+a,c),e.arcTo(n,r+a,n,r,c),e.arcTo(n,r,n+i,r,c),e.closePath(),e.fillStyle=o,e.fill(),e.globalAlpha=1,e.beginPath(),e.lineWidth=1,e.strokeStyle=o,e.setLineDash([]),e.moveTo(n+c,r),e.arcTo(n+i,r,n+i,r+a,c),e.arcTo(n+i,r+a,n,r+a,c),e.arcTo(n,r+a,n,r,c),e.arcTo(n,r,n+i,r,c),e.closePath(),e.stroke()}e.restore()}function pg(e,t){const n=e,{viewScaleInfo:r,viewSizeInfo:a,scrollInfo:i}=t,{activeThumbType:o,prevPoint:s,activePoint:c}=i,d=hg(r,a);let u=Object.assign({},d.xThumbRect),f=Object.assign({},d.yThumbRect);return o&&s&&c&&(o==="X"&&i.xThumbRect?(u=Object.assign({},i.xThumbRect),u.x=u.x+(c.x-s.x)):o==="Y"&&i.yThumbRect&&(f=Object.assign({},i.yThumbRect),f.y=f.y+(c.y-s.y))),Yl(n,Object.assign(Object.assign({axis:"X"},u),{r:d.lineSize/2,color:d.thumbColor})),Yl(n,Object.assign(Object.assign({axis:"Y"},f),{r:d.lineSize/2,color:d.thumbColor})),n.globalAlpha=1,{xThumbRect:u,yThumbRect:f}}function gg(e,t){const{snapshot:n}=t,r=eu(n),a=qd(n),i=fg(n),{xThumbRect:o,yThumbRect:s}=pg(e,{viewSizeInfo:r,viewScaleInfo:a,scrollInfo:i});return{xThumbRect:o,yThumbRect:s}}const $o=e=>{const{viewer:t,boardContent:n,sharer:r}=e,{helperContext:a}=n;r.setSharedStorage(Wa,null),r.setSharedStorage(Ga,null);const i=()=>{r.setSharedStorage(Mn,null),r.setSharedStorage(Po,null),r.setSharedStorage($r,null)};i();const o=d=>{const u=r.getSharedStorage(Mn);if(u){const{offsetLeft:f,offsetRight:p}=r.getActiveViewScaleInfo(),{width:h}=r.getActiveViewSizeInfo(),v=-(d.x-u.x),g=h+Math.abs(f)+Math.abs(p),m=v*g/h;t.scroll({moveX:m}),t.drawFrame()}},s=d=>{const u=r.getSharedStorage(Mn);if(u){const{offsetTop:f,offsetBottom:p}=r.getActiveViewScaleInfo(),{height:h}=r.getActiveViewSizeInfo(),v=-(d.y-u.y),g=h+Math.abs(f)+Math.abs(p),m=v*g/h;t.scroll({moveY:m}),t.drawFrame()}},c=d=>ug(a,d,{xThumbRect:r.getSharedStorage(Wa),yThumbRect:r.getSharedStorage(Ga)});return{name:"@middleware/scroller",wheel:d=>{t.scroll({moveX:0-d.deltaX,moveY:0-d.deltaY}),t.drawFrame()},pointStart:d=>{const{point:u}=d,f=c(u);if(f==="X"||f==="Y")return r.setSharedStorage($r,f),r.setSharedStorage(Mn,u),!1},pointMove:d=>{const{point:u}=d,f=r.getSharedStorage($r);if(f==="X"||f==="Y")return r.setSharedStorage(Po,u),f==="X"?o(u):f==="Y"&&s(u),r.setSharedStorage(Mn,u),!1},pointEnd:()=>{const d=r.getSharedStorage($r);if(i(),d==="X"||d==="Y")return t.scroll({moveX:0,moveY:0}),t.drawFrame(),!1},beforeDrawFrame({snapshot:d}){const{xThumbRect:u,yThumbRect:f}=gg(a,{snapshot:d});r.setSharedStorage(Wa,u),r.setSharedStorage(Ga,f)}}},Io="@middleware/scale",zo=e=>{const{viewer:t,sharer:n,eventHub:r}=e,a=50,i=.05;return{name:"@middleware/scaler",wheelScale(o){const{deltaY:s,point:c}=o,{scale:d}=n.getActiveViewScaleInfo();let u=d;if(s<0?u=d*1.1:s>0&&(u=d*.9),u<i||u>a)return;const{moveX:f,moveY:p}=t.scale({scale:u,point:c});t.scroll({moveX:f,moveY:p}),t.drawFrame();const h=Te(d);r.trigger(Io,{scale:h})}}},De=16,vg="#FFFFFFA8",mg="#00000080",Nu="#000000",ju="#00000080",Lu="monospace",Ro=10,ku=100,Xl="#AAAAAA20",Zl="#AAAAAA40",xi=1;function Bu(e){const{scale:t,viewLength:n,viewOffset:r}=e,a=[];let i=10;i=Te(i/t,{decimalPlaces:0}),i=Math.max(10,Math.min(i,1e3));const o=i*10,s=i*5;let c=0;const d=i*t,u=0-r,f=0,p=u%d,h=(u-p+d)/t,v=f+(d-p);for(;v+c*d<n;){const g=Te(h+c*i,{decimalPlaces:0}),m=Te(v+c*d,{decimalPlaces:0}),b={num:g,position:m,showNum:g%o===0,isKeyNum:g%o===0,isSubKeyNum:g%s===0};a.push(b),c++}return a}function bg(e){const{viewScaleInfo:t,viewSizeInfo:n}=e,{scale:r,offsetLeft:a}=t,{width:i}=n;return Bu({axis:"X",scale:r,viewLength:i,viewOffset:a})}function yg(e){const{viewScaleInfo:t,viewSizeInfo:n}=e,{scale:r,offsetTop:a}=t,{height:i}=n;return Bu({axis:"Y",scale:r,viewLength:i,viewOffset:a})}function wg(e,t){const{scaleList:n}=t,r=De,a=De*4/5,i=De*2/5,o=De*1/5,s=De/5;for(let c=0;c<n.length;c++){const d=n[c];d.position<De||(e.beginPath(),e.moveTo(d.position,r),e.lineTo(d.position,d.isKeyNum?o:d.isSubKeyNum?i:a),e.closePath(),e.lineWidth=xi,e.setLineDash([]),e.fillStyle=Nu,e.stroke(),d.isKeyNum&&(e.fillStyle=ju,e.textBaseline="top",e.$setFont({fontWeight:ku,fontSize:Ro,fontFamily:Lu}),e.fillText(`${d.num}`,d.position+s,s)))}}function xg(e,t){const{scaleList:n}=t,r=De,a=De*4/5,i=De*2/5,o=De*1/5,s=De/5;for(let c=0;c<n.length;c++){const d=n[c];if(!(d.position<De)&&(e.beginPath(),e.moveTo(r,d.position),e.lineTo(d.isKeyNum?o:d.isSubKeyNum?i:a,d.position),e.closePath(),e.fillStyle=Nu,e.lineWidth=xi,e.setLineDash([]),e.stroke(),d.showNum===!0)){const u=s,f=d.position+s,p=`${d.num}`;tu(e,-90,{x:u,y:f},()=>{e.fillStyle=ju,e.textBaseline="top",e.$setFont({fontWeight:ku,fontSize:Ro,fontFamily:Lu}),e.fillText(p,s+Ro,d.position+s)})}}}function Eg(e,t){const{viewSizeInfo:n}=t,{width:r,height:a}=n;e.beginPath(),e.moveTo(0,0),e.lineTo(r+1,0),e.lineTo(r+1,De),e.lineTo(De,De),e.lineTo(De,a+1),e.lineTo(0,a+1),e.lineTo(0,0),e.closePath(),e.fillStyle=vg,e.fill(),e.lineWidth=xi,e.setLineDash([]),e.strokeStyle=mg,e.stroke()}function Sg(e,t){const{xList:n,yList:r,viewSizeInfo:a}=t,{width:i,height:o}=a;for(let s=0;s<n.length;s++){const c=n[s];e.beginPath(),e.moveTo(c.position,0),e.lineTo(c.position,o),c.isKeyNum===!0||c.isSubKeyNum===!0?e.strokeStyle=Zl:e.strokeStyle=Xl,e.closePath(),e.lineWidth=xi,e.setLineDash([]),e.stroke()}for(let s=0;s<r.length;s++){const c=r[s];e.beginPath(),e.moveTo(0,c.position),e.lineTo(i,c.position),c.isKeyNum===!0||c.isSubKeyNum===!0?e.strokeStyle=Zl:e.strokeStyle=Xl,e.lineWidth=1,e.closePath(),e.stroke()}}const Kl="@middleware/show-ruler",Do=e=>{const{boardContent:t,viewer:n,eventHub:r}=e,{helperContext:a,underContext:i}=t;let o=!0,s=!0;const c=d=>{typeof(d==null?void 0:d.show)=="boolean"&&(o=d.show),typeof(d==null?void 0:d.showGrid)=="boolean"&&(s=d.showGrid),(typeof(d==null?void 0:d.show)=="boolean"||typeof(d==null?void 0:d.showGrid)=="boolean")&&n.drawFrame()};return{name:"@middleware/ruler",use(){r.on(Kl,c)},disuse(){r.off(Kl,c)},beforeDrawFrame:({snapshot:d})=>{if(o===!0){const u=qd(d),f=eu(d);Eg(a,{viewScaleInfo:u,viewSizeInfo:f});const p=bg({viewScaleInfo:u,viewSizeInfo:f});wg(a,{scaleList:p});const h=yg({viewScaleInfo:u,viewSizeInfo:f});xg(a,{scaleList:h}),s===!0&&Sg(i,{xList:p,yList:h,viewScaleInfo:u,viewSizeInfo:f})}}}},Cg="DRAG",ga=Symbol(`${Cg}_prevPoint`),Ql=e=>{const{eventHub:t,sharer:n,viewer:r}=e;let a=!1;return{name:"@middleware/dragger",hover(){a!==!0&&t.trigger("cursor",{type:"drag-default"})},pointStart(i){const{point:o}=i;n.setSharedStorage(ga,o),a=!0,t.trigger("cursor",{type:"drag-active"})},pointMove(i){const{point:o}=i,s=n.getSharedStorage(ga);if(o&&s){const c=o.x-s.x,d=o.y-s.y;r.scroll({moveX:c,moveY:d}),r.drawFrame()}n.setSharedStorage(ga,o)},pointEnd(){a=!1,n.setSharedStorage(ga,null),t.trigger("cursor",{type:"drag-default"})}}};var to=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},Me=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},No,Ae,Va,ai,Fu;class _g{constructor(t,n){No.add(this),Ae.set(this,void 0),Va.set(this,void 0),ai.set(this,void 0);const{devicePixelRatio:r=1,width:a,height:i,createCustomContext2D:o}=n;to(this,ai,t,"f");const s=document.createElement("canvas");to(this,Va,s,"f"),Me(this,No,"m",Fu).call(this),t.appendChild(s);const c=Xh(s,{width:a,height:i,devicePixelRatio:r,offscreen:!0,createCustomContext2D:o}),d=new Gp({boardContent:c,container:t}),u=d.getSharer();u.setActiveViewSizeInfo({width:a,height:i,devicePixelRatio:r,contextWidth:a,contextHeight:i}),to(this,Ae,d,"f"),this.resize(u.getActiveViewSizeInfo());const f=d.getEventHub();new Zp(t,{eventHub:f})}isDestroyed(){return Me(this,Ae,"f").isDestroyed()}destroy(){Me(this,Ae,"f").destroy(),Me(this,Va,"f").remove()}use(t){Me(this,Ae,"f").use(t)}disuse(t){Me(this,Ae,"f").disuse(t)}setData(t){au((t==null?void 0:t.elements)||[]),Me(this,Ae,"f").setData(t)}getData(){return Me(this,Ae,"f").getData()}scale(t){Me(this,Ae,"f").scale(t),Me(this,Ae,"f").getViewer().drawFrame()}resize(t){const n=Me(this,Ae,"f"),a=n.getSharer().getActiveViewSizeInfo();n.resize(Object.assign(Object.assign({},a),t))}clear(){Me(this,Ae,"f").clear()}on(t,n){Me(this,Ae,"f").getEventHub().on(t,n)}off(t,n){Me(this,Ae,"f").getEventHub().off(t,n)}trigger(t,n){Me(this,Ae,"f").getEventHub().trigger(t,n)}getViewInfo(){const n=Me(this,Ae,"f").getSharer(),r=n.getActiveViewSizeInfo(),a=n.getActiveViewScaleInfo();return{viewSizeInfo:r,viewScaleInfo:a}}refresh(){Me(this,Ae,"f").getViewer().drawFrame()}setViewScale(t){Me(this,Ae,"f").updateViewScaleInfo(t)}getLoadItemMap(){return Me(this,Ae,"f").getRenderer().getLoadItemMap()}onBoardWatcherEvents(){Me(this,Ae,"f").onWatcherEvents()}offBoardWatcherEvents(){Me(this,Ae,"f").offWatcherEvents()}}Ae=new WeakMap,Va=new WeakMap,ai=new WeakMap,No=new WeakSet,Fu=function(){const t=Me(this,ai,"f");t.style.position="relative"};const Mg={enableScroll:!0,enableSelect:!0,enableScale:!0,enableRuler:!0,enableTextEdit:!0,enableDrag:!1};var Ag=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})};function Og(e){return Ag(this,void 0,void 0,function*(){const{data:t,width:n,height:r,devicePixelRatio:a,viewScaleInfo:i,viewSizeInfo:o,loadItemMap:s}=e;let c=_a({width:n,height:r,devicePixelRatio:a}),d=new Eu({viewContext:c}),u=new xu({viewContext:c,calculator:d});u.setLoadItemMap(s),u.drawData(t,{viewScaleInfo:i,viewSizeInfo:o,forceDrawAll:!0});let f=null,p=c.$getOffscreenCanvas();if(p){const h=yield p.convertToBlob();f=window.URL.createObjectURL(h)}return p=null,c=null,d=null,u=null,{blobURL:f,width:n,height:r,devicePixelRatio:a}})}var Tg=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})},no=function(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n},me=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},jo,be,Yn,Hu;class Pg{constructor(t,n){jo.add(this),be.set(this,void 0),Yn.set(this,void 0);const r=Object.assign(Object.assign({},Mg),n),{width:a,height:i,devicePixelRatio:o,createCustomContext2D:s}=r,c=new _g(t,{width:a,height:i,devicePixelRatio:o,createCustomContext2D:s});no(this,be,c,"f"),no(this,Yn,r,"f"),me(this,jo,"m",Hu).call(this)}reset(t){const n=me(this,be,"f"),{enableRuler:r,enableScale:a,enableScroll:i,enableSelect:o,enableTextEdit:s,enableDrag:c}=t;i===!0?n.use($o):i===!1&&n.disuse($o),o===!0?n.use(To):o===!1&&n.disuse(To),a===!0?n.use(zo):a===!1&&n.disuse(zo),r===!0?n.use(Do):r===!1&&n.disuse(Do),s===!0?n.use(ri):s===!1&&n.disuse(ri),c===!0?n.use(Ql):c===!1&&n.disuse(Ql),n.refresh(),no(this,Yn,Object.assign(Object.assign({},me(this,Yn,"f")),t),"f")}setData(t){const n=me(this,be,"f");n.setData(t),n.trigger("change",{data:t,type:"setData"})}getData(t){const n=me(this,be,"f").getData();return n&&(t==null?void 0:t.compact)===!0?Sh(n,{loadItemMap:me(this,be,"f").getLoadItemMap()}):n}getViewInfo(){return me(this,be,"f").getViewInfo()}scale(t){me(this,be,"f").scale(t)}setViewScale(t){const n=me(this,be,"f");n.setViewScale(t),n.refresh()}centerContent(t){const n=(t==null?void 0:t.data)||me(this,be,"f").getData(),{viewSizeInfo:r}=this.getViewInfo();if(Array.isArray(n==null?void 0:n.elements)&&(n==null?void 0:n.elements.length)>0){const a=xp(n,{viewSizeInfo:r});this.setViewScale(a)}}resize(t){me(this,be,"f").resize(t)}on(t,n){me(this,be,"f").on(t,n)}off(t,n){me(this,be,"f").off(t,n)}trigger(t,n){me(this,be,"f").trigger(t,n)}selectElement(t){this.selectElements([t])}selectElements(t){this.trigger(kt,{uuids:t})}selectElementByPosition(t){this.selectElementsByPositions([t])}selectElementsByPositions(t){this.trigger(kt,{positions:t})}cancelElements(){this.trigger(kt,{uuids:[]})}createElement(t,n){const{viewScaleInfo:r,viewSizeInfo:a}=me(this,be,"f").getViewInfo();return bp(t,(n==null?void 0:n.element)||{},(n==null?void 0:n.viewCenter)===!0?{viewScaleInfo:r,viewSizeInfo:a}:void 0)}updateElement(t){const n=me(this,be,"f"),r=n.getData()||{elements:[]};Hr(t.uuid,t,r.elements),n.setData(r),n.refresh(),n.trigger("change",{data:r,type:"updateElement"})}addElement(t,n){var r;const a=me(this,be,"f"),i=a.getData()||{elements:[]};if(!n||!(!((r=n==null?void 0:n.position)===null||r===void 0)&&r.length))i.elements.push(t);else if(n!=null&&n.position){const o=[...n==null?void 0:n.position];pu(t,o,i.elements)}return a.setData(i),a.refresh(),a.trigger("change",{data:i,type:"addElement"}),i}deleteElement(t){const n=me(this,be,"f"),r=n.getData()||{elements:[]};yp(t,r.elements),n.setData(r),n.refresh(),n.trigger("change",{data:r,type:"deleteElement"})}moveElement(t,n){const r=me(this,be,"f"),a=r.getData()||{elements:[]},i=wi(t,a.elements),{elements:o}=vu(a.elements,{from:i,to:n});a.elements=o,r.setData(a),r.refresh(),r.trigger("change",{data:a,type:"moveElement"})}getImageBlobURL(t){return Tg(this,void 0,void 0,function*(){const n=this.getData()||{elements:[]},{devicePixelRatio:r}=t,a=qh(n.elements),{viewSizeInfo:i}=this.getViewInfo();return yield Og({width:a.w,height:a.h,devicePixelRatio:r,data:n,viewScaleInfo:{scale:1,offsetLeft:-a.x,offsetTop:-a.y,offsetBottom:0,offsetRight:0},viewSizeInfo:Object.assign(Object.assign({},i),{devicePixelRatio:r}),loadItemMap:me(this,be,"f").getLoadItemMap()})})}isDestroyed(){return me(this,be,"f").isDestroyed()}destroy(){me(this,be,"f").destroy()}getViewCenter(){const{viewScaleInfo:t,viewSizeInfo:n}=this.getViewInfo();return Ep({viewScaleInfo:t,viewSizeInfo:n})}$onBoardWatcherEvents(){me(this,be,"f").onBoardWatcherEvents()}$offBoardWatcherEvents(){me(this,be,"f").offBoardWatcherEvents()}}be=new WeakMap,Yn=new WeakMap,jo=new WeakSet,Hu=function(){const{enableRuler:t,enableScale:n,enableScroll:r,enableSelect:a,enableTextEdit:i,enableDrag:o}=me(this,Yn,"f"),s=me(this,be,"f");r===!0&&s.use($o),a===!0&&s.use(To),n===!0&&s.use(zo),t===!0&&s.use(Do),i===!0&&s.use(ri),o===!0&&s.use(ri)};const $g=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}),l.createElement("path",{d:"M921 867L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}))),Ig="base-scale-selector",zg=e=>{const{className:t,style:n,defaultValue:r,value:a,onChange:i}=e,{createPrefixName:o}=O.useContext(le),s=o(Ig),c=s("menu-item"),d=s("input"),[u,f]=O.useState(100);O.useEffect(()=>{const m=Te(parseFloat(a||"1")*100);f(m)},[a]);const p=m=>{const{key:b}=m;i==null||i(b)},h=m=>{m.stopPropagation()},g={items:[{label:l.createElement("span",{className:c},l.createElement(se,{className:d,size:"small",value:u,suffix:"%",onClick:h,step:1,min:10,max:1e4,controls:!1,onChange:m=>{if(m&&m>0){const b=Te(m/100);i==null||i(`${b}`)}}})),key:"custom"},...[.5,1,2,3].map(m=>({key:`${m}`,label:l.createElement("span",{className:c},`${Te(m*100)}%`)}))],onClick:p,selectedKeys:[`${a||r}`]};return O.useMemo(()=>l.createElement(vi,{className:pe(s(),t),menu:g},l.createElement(Ke,{icon:l.createElement($g,null),size:"small"},`${Te(parseFloat(a||"1")*100)}%`)),[t,n,r,a,i,u])};var Lo={exports:{}},Wu={},is={};Object.defineProperty(is,"__esModule",{value:!0});var Rg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};is.default=Rg;var Gu={};const Vu=Z0(F0);var os={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r}});var t=O,n=(0,t.createContext)({}),r=n})(os);var ss={},Ei={},tr={},Uu={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Uu);var Dg=Uu.exports,ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.default=Ng;function Ng(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.default=jg;function jg(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var Yu=Dg.default;Object.defineProperty(tr,"__esModule",{value:!0});tr.clearContainerCache=Gg;tr.injectCSS=ds;tr.removeCSS=Hg;tr.updateCSS=Vg;var Lg=Yu(ls),kg=Yu(cs),Jl="data-rc-order",ql="data-rc-priority",Bg="rc-util-key",ii=new Map;function Xu(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Bg}function Si(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function Fg(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function Zu(e){return Array.from((ii.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function ds(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,Lg.default)())return null;var n=t.csp,r=t.prepend,a=t.priority,i=a===void 0?0:a,o=Fg(r),s=o==="prependQueue",c=document.createElement("style");c.setAttribute(Jl,o),s&&i&&c.setAttribute(ql,"".concat(i)),n!=null&&n.nonce&&(c.nonce=n==null?void 0:n.nonce),c.innerHTML=e;var d=Si(t),u=d.firstChild;if(r){if(s){var f=Zu(d).filter(function(p){if(!["prepend","prependQueue"].includes(p.getAttribute(Jl)))return!1;var h=Number(p.getAttribute(ql)||0);return i>=h});if(f.length)return d.insertBefore(c,f[f.length-1].nextSibling),c}d.insertBefore(c,u)}else d.appendChild(c);return c}function Ku(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Si(t);return Zu(n).find(function(r){return r.getAttribute(Xu(t))===e})}function Hg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Ku(e,t);if(n){var r=Si(t);r.removeChild(n)}}function Wg(e,t){var n=ii.get(e);if(!n||!(0,kg.default)(document,n)){var r=ds("",t),a=r.parentNode;ii.set(e,a),e.removeChild(r)}}function Gg(){ii.clear()}function Vg(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Si(n);Wg(r,n);var a=Ku(t,n);if(a){var i,o;if((i=n.csp)!==null&&i!==void 0&&i.nonce&&a.nonce!==((o=n.csp)===null||o===void 0?void 0:o.nonce)){var s;a.nonce=(s=n.csp)===null||s===void 0?void 0:s.nonce}return a.innerHTML!==e&&(a.innerHTML=e),a}var c=ds(e,n);return c.setAttribute(Xu(n),t),c}var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.getShadowRoot=Ug;Ci.inShadow=Ju;function Qu(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function Ju(e){return Qu(e)instanceof ShadowRoot}function Ug(e){return Ju(e)?Qu(e):null}var qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.call=fs;qe.default=void 0;qe.note=ef;qe.noteOnce=nf;qe.preMessage=void 0;qe.resetWarned=tf;qe.warning=qu;qe.warningOnce=Yr;var ko={},us=[],Yg=qe.preMessage=function(t){us.push(t)};function qu(e,t){if(!e&&console!==void 0){var n=us.reduce(function(r,a){return a(r??"","warning")},t);n&&console.error("Warning: ".concat(n))}}function ef(e,t){if(!e&&console!==void 0){var n=us.reduce(function(r,a){return a(r??"","note")},t);n&&console.warn("Note: ".concat(n))}}function tf(){ko={}}function fs(e,t,n){!t&&!ko[n]&&(e(!1,n),ko[n]=!0)}function Yr(e,t){fs(qu,e,t)}function nf(e,t){fs(ef,e,t)}Yr.preMessage=Yg;Yr.resetWarned=tf;Yr.noteOnce=nf;qe.default=Yr;(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(A,R){for(var S in R)Object.defineProperty(A,S,{enumerable:!0,get:R[S]})}t(e,{generate:function(){return b},getSecondaryColor:function(){return y},iconStyles:function(){return C},isIconDefinition:function(){return g},normalizeAttrs:function(){return m},normalizeTwoToneColors:function(){return x},svgBaseProps:function(){return w},useInsertStyles:function(){return _},warning:function(){return v}});var n=Vu,r=tr,a=Ci,i=d(qe),o=f(O),s=d(os);function c(A,R,S){return R in A?Object.defineProperty(A,R,{value:S,enumerable:!0,configurable:!0,writable:!0}):A[R]=S,A}function d(A){return A&&A.__esModule?A:{default:A}}function u(A){if(typeof WeakMap!="function")return null;var R=new WeakMap,S=new WeakMap;return(u=function(P){return P?S:R})(A)}function f(A,R){if(!R&&A&&A.__esModule)return A;if(A===null||typeof A!="object"&&typeof A!="function")return{default:A};var S=u(R);if(S&&S.has(A))return S.get(A);var P={__proto__:null},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in A)if(I!=="default"&&Object.prototype.hasOwnProperty.call(A,I)){var M=j?Object.getOwnPropertyDescriptor(A,I):null;M&&(M.get||M.set)?Object.defineProperty(P,I,M):P[I]=A[I]}return P.default=A,S&&S.set(A,P),P}function p(A){for(var R=1;R<arguments.length;R++){var S=arguments[R]!=null?arguments[R]:{},P=Object.keys(S);typeof Object.getOwnPropertySymbols=="function"&&(P=P.concat(Object.getOwnPropertySymbols(S).filter(function(j){return Object.getOwnPropertyDescriptor(S,j).enumerable}))),P.forEach(function(j){c(A,j,S[j])})}return A}function h(A){return A.replace(/-(.)/g,function(R,S){return S.toUpperCase()})}function v(A,R){(0,i.default)(A,"[@ant-design/icons] ".concat(R))}function g(A){return typeof A=="object"&&typeof A.name=="string"&&typeof A.theme=="string"&&(typeof A.icon=="object"||typeof A.icon=="function")}function m(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(A).reduce(function(R,S){var P=A[S];switch(S){case"class":R.className=P,delete R.class;break;default:delete R[S],R[h(S)]=P}return R},{})}function b(A,R,S){return S?o.default.createElement(A.tag,p({key:R},m(A.attrs),S),(A.children||[]).map(function(P,j){return b(P,"".concat(R,"-").concat(A.tag,"-").concat(j))})):o.default.createElement(A.tag,p({key:R},m(A.attrs)),(A.children||[]).map(function(P,j){return b(P,"".concat(R,"-").concat(A.tag,"-").concat(j))}))}function y(A){return(0,n.generate)(A)[0]}function x(A){return A?Array.isArray(A)?A:[A]:[]}var w={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},C=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,_=function(A){var R=(0,o.useContext)(s.default),S=R.csp,P=R.prefixCls,j=C;P&&(j=j.replace(/anticon/g,P)),(0,o.useEffect)(function(){var I=A.current,M=(0,a.getShadowRoot)(I);(0,r.updateCSS)(j,"@ant-design-icons",{prepend:!0,csp:S,attachTo:M})},[])}})(Ei);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return g}});var t=i(O),n=Ei;function r(m,b,y){return b in m?Object.defineProperty(m,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[b]=y,m}function a(m){if(typeof WeakMap!="function")return null;var b=new WeakMap,y=new WeakMap;return(a=function(x){return x?y:b})(m)}function i(m,b){if(!b&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var y=a(b);if(y&&y.has(m))return y.get(m);var x={__proto__:null},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in m)if(C!=="default"&&Object.prototype.hasOwnProperty.call(m,C)){var _=w?Object.getOwnPropertyDescriptor(m,C):null;_&&(_.get||_.set)?Object.defineProperty(x,C,_):x[C]=m[C]}return x.default=m,y&&y.set(m,x),x}function o(m){for(var b=1;b<arguments.length;b++){var y=arguments[b]!=null?arguments[b]:{},x=Object.keys(y);typeof Object.getOwnPropertySymbols=="function"&&(x=x.concat(Object.getOwnPropertySymbols(y).filter(function(w){return Object.getOwnPropertyDescriptor(y,w).enumerable}))),x.forEach(function(w){r(m,w,y[w])})}return m}function s(m,b){var y=Object.keys(m);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(m);b&&(x=x.filter(function(w){return Object.getOwnPropertyDescriptor(m,w).enumerable})),y.push.apply(y,x)}return y}function c(m,b){return b=b??{},Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(b)):s(Object(b)).forEach(function(y){Object.defineProperty(m,y,Object.getOwnPropertyDescriptor(b,y))}),m}function d(m,b){if(m==null)return{};var y=u(m,b),x,w;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(m);for(w=0;w<C.length;w++)x=C[w],!(b.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(m,x)&&(y[x]=m[x])}return y}function u(m,b){if(m==null)return{};var y={},x=Object.keys(m),w,C;for(C=0;C<x.length;C++)w=x[C],!(b.indexOf(w)>=0)&&(y[w]=m[w]);return y}var f={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function p(m){var b=m.primaryColor,y=m.secondaryColor;f.primaryColor=b,f.secondaryColor=y||(0,n.getSecondaryColor)(b),f.calculated=!!y}function h(){return o({},f)}var v=function(m){var b=m.icon,y=m.className,x=m.onClick,w=m.style,C=m.primaryColor,_=m.secondaryColor,A=d(m,["icon","className","onClick","style","primaryColor","secondaryColor"]),R=t.useRef(),S=f;if(C&&(S={primaryColor:C,secondaryColor:_||(0,n.getSecondaryColor)(C)}),(0,n.useInsertStyles)(R),(0,n.warning)((0,n.isIconDefinition)(b),"icon should be icon definiton, but got ".concat(b)),!(0,n.isIconDefinition)(b))return null;var P=b;return P&&typeof P.icon=="function"&&(P=c(o({},P),{icon:P.icon(S.primaryColor,S.secondaryColor)})),(0,n.generate)(P.icon,"svg-".concat(P.name),c(o({className:y,onClick:x,style:w,"data-icon":P.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},A),{ref:R}))};v.displayName="IconReact",v.getTwoToneColors=h,v.setTwoToneColors=p;var g=v})(ss);var rf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(h,v){for(var g in v)Object.defineProperty(h,g,{enumerable:!0,get:v[g]})}t(e,{getTwoToneColor:function(){return p},setTwoToneColor:function(){return f}});var n=o(ss),r=Ei;function a(h,v){(v==null||v>h.length)&&(v=h.length);for(var g=0,m=new Array(v);g<v;g++)m[g]=h[g];return m}function i(h){if(Array.isArray(h))return h}function o(h){return h&&h.__esModule?h:{default:h}}function s(h,v){var g=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(g!=null){var m=[],b=!0,y=!1,x,w;try{for(g=g.call(h);!(b=(x=g.next()).done)&&(m.push(x.value),!(v&&m.length===v));b=!0);}catch(C){y=!0,w=C}finally{try{!b&&g.return!=null&&g.return()}finally{if(y)throw w}}return m}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(h,v){return i(h)||s(h,v)||u(h,v)||c()}function u(h,v){if(h){if(typeof h=="string")return a(h,v);var g=Object.prototype.toString.call(h).slice(8,-1);if(g==="Object"&&h.constructor&&(g=h.constructor.name),g==="Map"||g==="Set")return Array.from(g);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return a(h,v)}}function f(h){var v=d((0,r.normalizeTwoToneColors)(h),2),g=v[0],m=v[1];return n.default.setTwoToneColors({primaryColor:g,secondaryColor:m})}function p(){var h=n.default.getTwoToneColors();return h.calculated?[h.primaryColor,h.secondaryColor]:h.primaryColor}})(rf);(function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return R}});var t=h(O),n=f(H0),r=Vu,a=f(os),i=f(ss),o=rf,s=Ei;function c(S,P){(P==null||P>S.length)&&(P=S.length);for(var j=0,I=new Array(P);j<P;j++)I[j]=S[j];return I}function d(S){if(Array.isArray(S))return S}function u(S,P,j){return P in S?Object.defineProperty(S,P,{value:j,enumerable:!0,configurable:!0,writable:!0}):S[P]=j,S}function f(S){return S&&S.__esModule?S:{default:S}}function p(S){if(typeof WeakMap!="function")return null;var P=new WeakMap,j=new WeakMap;return(p=function(I){return I?j:P})(S)}function h(S,P){if(!P&&S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var j=p(P);if(j&&j.has(S))return j.get(S);var I={__proto__:null},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in S)if(T!=="default"&&Object.prototype.hasOwnProperty.call(S,T)){var N=M?Object.getOwnPropertyDescriptor(S,T):null;N&&(N.get||N.set)?Object.defineProperty(I,T,N):I[T]=S[T]}return I.default=S,j&&j.set(S,I),I}function v(S,P){var j=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(j!=null){var I=[],M=!0,T=!1,N,F;try{for(j=j.call(S);!(M=(N=j.next()).done)&&(I.push(N.value),!(P&&I.length===P));M=!0);}catch(B){T=!0,F=B}finally{try{!M&&j.return!=null&&j.return()}finally{if(T)throw F}}return I}}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(S){for(var P=1;P<arguments.length;P++){var j=arguments[P]!=null?arguments[P]:{},I=Object.keys(j);typeof Object.getOwnPropertySymbols=="function"&&(I=I.concat(Object.getOwnPropertySymbols(j).filter(function(M){return Object.getOwnPropertyDescriptor(j,M).enumerable}))),I.forEach(function(M){u(S,M,j[M])})}return S}function b(S,P){var j=Object.keys(S);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(S);P&&(I=I.filter(function(M){return Object.getOwnPropertyDescriptor(S,M).enumerable})),j.push.apply(j,I)}return j}function y(S,P){return P=P??{},Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(P)):b(Object(P)).forEach(function(j){Object.defineProperty(S,j,Object.getOwnPropertyDescriptor(P,j))}),S}function x(S,P){if(S==null)return{};var j=w(S,P),I,M;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(S);for(M=0;M<T.length;M++)I=T[M],!(P.indexOf(I)>=0)&&Object.prototype.propertyIsEnumerable.call(S,I)&&(j[I]=S[I])}return j}function w(S,P){if(S==null)return{};var j={},I=Object.keys(S),M,T;for(T=0;T<I.length;T++)M=I[T],!(P.indexOf(M)>=0)&&(j[M]=S[M]);return j}function C(S,P){return d(S)||v(S,P)||_(S,P)||g()}function _(S,P){if(S){if(typeof S=="string")return c(S,P);var j=Object.prototype.toString.call(S).slice(8,-1);if(j==="Object"&&S.constructor&&(j=S.constructor.name),j==="Map"||j==="Set")return Array.from(j);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return c(S,P)}}(0,o.setTwoToneColor)(r.blue.primary);var A=t.forwardRef(function(S,P){var j=S.className,I=S.icon,M=S.spin,T=S.rotate,N=S.tabIndex,F=S.onClick,B=S.twoToneColor,H=x(S,["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"]),E=t.useContext(a.default),k=E.prefixCls,Y=k===void 0?"anticon":k,$=E.rootClassName,U,V=(0,n.default)($,Y,(U={},u(U,"".concat(Y,"-").concat(I.name),!!I.name),u(U,"".concat(Y,"-spin"),!!M||I.name==="loading"),U),j),z=N;z===void 0&&F&&(z=-1);var D=T?{msTransform:"rotate(".concat(T,"deg)"),transform:"rotate(".concat(T,"deg)")}:void 0,L=C((0,s.normalizeTwoToneColors)(B),2),W=L[0],ee=L[1];return t.createElement("span",y(m({role:"img","aria-label":I.name},H),{ref:P,tabIndex:z,onClick:F,className:V}),t.createElement(i.default,{icon:I,primaryColor:W,secondaryColor:ee,style:D}))});A.displayName="AntdIcon",A.getTwoToneColor=o.getTwoToneColor,A.setTwoToneColor=o.setTwoToneColor;var R=A})(Gu);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return p}});var t=s(O),n=i(is),r=i(Gu);function a(h,v,g){return v in h?Object.defineProperty(h,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[v]=g,h}function i(h){return h&&h.__esModule?h:{default:h}}function o(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,g=new WeakMap;return(o=function(m){return m?g:v})(h)}function s(h,v){if(!v&&h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var g=o(v);if(g&&g.has(h))return g.get(h);var m={__proto__:null},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in h)if(y!=="default"&&Object.prototype.hasOwnProperty.call(h,y)){var x=b?Object.getOwnPropertyDescriptor(h,y):null;x&&(x.get||x.set)?Object.defineProperty(m,y,x):m[y]=h[y]}return m.default=h,g&&g.set(h,m),m}function c(h){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?arguments[v]:{},m=Object.keys(g);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(g).filter(function(b){return Object.getOwnPropertyDescriptor(g,b).enumerable}))),m.forEach(function(b){a(h,b,g[b])})}return h}function d(h,v){var g=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);v&&(m=m.filter(function(b){return Object.getOwnPropertyDescriptor(h,b).enumerable})),g.push.apply(g,m)}return g}function u(h,v){return v=v??{},Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):d(Object(v)).forEach(function(g){Object.defineProperty(h,g,Object.getOwnPropertyDescriptor(v,g))}),h}var f=function(h,v){return t.createElement(r.default,u(c({},h),{ref:v,icon:n.default}))};f.displayName="DownOutlined";var p=t.forwardRef(f)})(Wu);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=r(Wu);function r(i){return i&&i.__esModule?i:{default:i}}const a=n;t.default=a,e.exports=a})(Lo,Lo.exports);var Xg=Lo.exports;const Zg=Vd(Xg),Kg=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M508 512m-112 0a112 112 0 1 0 224 0 112 112 0 1 0-224 0Z"}),l.createElement("path",{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3-7.7 16.2-7.7 35.2 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}))),Qg=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M942.3 486.4l-0.1-0.1-0.1-0.1c-36.4-76.7-80-138.7-130.7-186L760.7 351c43.7 40.2 81.5 93.7 114.1 160.9C791.5 684.2 673.4 766 512 766c-51.3 0-98.3-8.3-141.2-25.1l-54.7 54.7C374.6 823.8 439.8 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0.1-51.3zM878.3 154.2l-42.4-42.4c-3.1-3.1-8.2-3.1-11.3 0L707.8 228.5C649.4 200.2 584.2 186 512 186c-192.2 0-335.4 100.5-430.2 300.3v0.1c-7.7 16.2-7.7 35.2 0 51.5 36.4 76.7 80 138.7 130.7 186.1L111.8 824.5c-3.1 3.1-3.1 8.2 0 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0l712.8-712.8c3.1-3 3.1-8.1 0-11.2zM398.9 537.4c-1.9-8.2-2.9-16.7-2.9-25.4 0-61.9 50.1-112 112-112 8.7 0 17.3 1 25.4 2.9L398.9 537.4z m184.5-184.5C560.5 342.1 535 336 508 336c-97.2 0-176 78.8-176 176 0 27 6.1 52.5 16.9 75.4L263.3 673c-43.7-40.2-81.5-93.7-114.1-160.9C232.6 339.8 350.7 258 512 258c51.3 0 98.3 8.3 141.2 25.1l-69.8 69.8z"}),l.createElement("path",{d:"M508 624c-6.4 0-12.7-0.5-18.8-1.6l-51.1 51.1c21.4 9.3 45.1 14.4 69.9 14.4 97.2 0 176-78.8 176-176 0-24.8-5.1-48.5-14.4-69.9l-51.1 51.1c1 6.1 1.6 12.4 1.6 18.8C620 573.9 569.9 624 508 624z"}))),af=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"}))),of=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}))),sf=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M853.333333 170.666667H170.666667a42.666667 42.666667 0 0 0-42.666667 42.666666v128a42.666667 42.666667 0 0 0 85.333333 0V256h256v554.666667H384a42.666667 42.666667 0 0 0 0 85.333333h256a42.666667 42.666667 0 0 0 0-85.333333h-85.333333V256h256v85.333333a42.666667 42.666667 0 0 0 85.333333 0V213.333333a42.666667 42.666667 0 0 0-42.666667-42.666666z"}))),lf=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M0.00592 521.157814v-103.646801l430.267025 235.101281c36.191582 13.567843 70.207188 15.615819 111.870706 0.191998l440.986902-258.365013v103.614802l-435.386966 258.877007c-42.175512 18.303788-91.326944 18.303788-126.398539 0L0.00592 521.157814z"}),l.createElement("path",{d:"M0.00592 743.651242v-104.798789l406.427301 221.43744c17.2798 9.439891 40.511532 17.599797 65.119247 20.383764h27.999676c32.511624-5.023942 47.103455-10.207882 67.615218-22.943735l415.931191-258.173014v98.974855l-430.875018 268.95689c-42.111513 17.439798-95.806892 18.079791-130.878487 0.575994L0.00592 743.619242zM20.069688 246.024995L399.073306 20.971598c41.279523-26.303696 90.430954-27.967677 133.342458-4.35195l421.083131 198.621703c35.743587 17.599797 37.18357 61.311291 2.655969 81.151062l-414.043212 226.205384a165.758083 165.758083 0 0 1-133.374458 4.415949L22.725657 327.208057C9.157814 318.664155 0.90191 303.56033 0.229917 285.000545c-0.607993-18.911781 10.719876-32.159628 19.807771-38.94355z"})," ")),cf=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3-12.3 12.7-12.1 32.9 0.6 45.3l183.7 179.1-43.4 252.9c-1.2 6.9-0.1 14.1 3.2 20.3 8.2 15.6 27.6 21.7 43.2 13.4L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}))),df=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32z m-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792z m0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z"}),l.createElement("path",{d:"M304 456c48.6 0 88-39.4 88-88s-39.4-88-88-88-88 39.4-88 88 39.4 88 88 88z m0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z"}))),Jg=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M256 682.666667a85.333333 85.333333 0 1 0 0 170.666666 85.333333 85.333333 0 0 0 0-170.666666z m-170.666667 85.333333a170.666667 170.666667 0 1 1 341.333334 0 170.666667 170.666667 0 0 1-341.333334 0zM768 170.666667a85.333333 85.333333 0 1 0 0 170.666666 85.333333 85.333333 0 0 0 0-170.666666z m-170.666667 85.333333a170.666667 170.666667 0 1 1 341.333334 0 170.666667 170.666667 0 0 1-341.333334 0z"}),l.createElement("path",{d:"M707.84 316.16a42.666667 42.666667 0 0 1 0 60.330667l-331.178667 331.178666a42.666667 42.666667 0 0 1-60.330666-60.330666l331.178666-331.178667a42.666667 42.666667 0 0 1 60.330667 0z"}))),uf=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M145 96l66 746.6L511.8 928l299.6-85.4L878.7 96H145z m610.9 700.6l-244.1 69.6-245.2-69.6-56.7-641.2h603.8l-57.8 641.2z"}),l.createElement("path",{d:"M281 249l1.7 24.3 22.7 253.5h206.5v-0.1h112.9l-11.4 118.5L511 672.9v0.2h-0.8l-102.4-27.7-6.5-73.2h-91l11.3 144.7 188.6 52h1.7v-0.4l187.7-51.7 1.7-16.3 21.2-242.2 3.2-24.3H511v0.2H389.9l-8.2-94.2h352.1l1.7-19.5 4.8-47.2L742 249H511z"}))),qg=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-0.7 5.2-2L869 536.2c14.7-12.8 14.7-35.6 0-48.4z"}))),ev=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 0.3L512 465.6l-99.3-118.4-66.1-0.3c-4.4 0-8 3.5-8 8 0 1.9 0.7 3.7 1.9 5.2l130.1 155L340.5 670c-1.2 1.5-1.9 3.3-1.9 5.2 0 4.4 3.6 8 8 8l66.1-0.3L512 564.4l99.3 118.4 66 0.3c4.4 0 8-3.5 8-8 0-1.9-0.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}),l.createElement("path",{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}))),Vt="node",tv=e=>{const{className:t,style:n,type:r,uuid:a,nodeKey:i,title:o,position:s,generateClassName:c,onTitleChange:d,onOperationToggle:u,onDelete:f,onSelect:p,onGoToGroup:h,operations:v,isSelected:g}=e,[m,b]=O.useState(!1),[y,x]=O.useState(!1),w=O.useRef(o),C=c(Vt),_=c(Vt,"icon"),A=c(Vt,"title"),R=c(Vt,"title","input"),S=c(Vt,"title","icon"),P=c(Vt,"action"),j=c(Vt,"selected"),I=O.useRef(0),M=O.useRef(null);O.useEffect(()=>{var V;m===!0&&((V=M.current)===null||V===void 0||V.focus())},[m]);const T=V=>{b(!1),d==null||d({uuid:i,value:V.target.value||""})},N=V=>{w.current=V.target.value||""},F=V=>{var z;V.code==="Enter"&&(b(!1),d==null||d({uuid:i,value:((z=V==null?void 0:V.target)===null||z===void 0?void 0:z.value)||""}))},B=V=>{V.stopPropagation(),V.preventDefault()},H=V=>{V.stopPropagation(),x(!0)},E=V=>{V.stopPropagation(),x(!1)},k=V=>{const z=Date.now(),D=z-I.current;I.current=z,p==null||p({uuids:[a],positions:[s]}),D<=300&&D>0&&(V.stopPropagation(),V.preventDefault(),b(!0))},Y=V=>{V.stopPropagation(),V.preventDefault(),f==null||f({uuid:i})},$=V=>{V.stopPropagation(),V.preventDefault(),u==null||u({uuid:i,operations:{invisible:!v.invisible}})},U=V=>{V.stopPropagation(),V.preventDefault(),h==null||h({uuid:a,position:s})};return O.useMemo(()=>{w.current=o;function V(z){return z==="rect"?l.createElement(af,{className:S}):z==="circle"?l.createElement(of,{className:S}):z==="text"?l.createElement(sf,{className:S}):z==="path"?l.createElement(Jg,{className:S}):z==="image"?l.createElement(df,{className:S}):z==="svg"?l.createElement(cf,{className:S}):z==="group"?l.createElement(lf,{className:S}):z==="html"?l.createElement(uf,{className:S}):l.createElement("span",{className:S})}return l.createElement("span",{key:i,style:n,className:pe(C,t,g?j:null),onClick:k,onMouseOver:H,onMouseLeave:E},l.createElement("span",{className:A},V(r),l.createElement("span",null,o)),y&&l.createElement("span",{className:P},r==="group"&&l.createElement(qg,{className:_,onClick:U}),v.invisible?l.createElement(Qg,{className:_,onClick:$}):l.createElement(Kg,{className:_,onClick:$}),l.createElement(ev,{className:_,onClick:Y})),m&&l.createElement("span",{className:R},l.createElement(Qn,{ref:M,size:"small",defaultValue:o,onBlur:T,onClick:B,onKeyDown:F,onChange:N})))},[i,o,m,r,y,v,g])};function nv(e,t){const n=[],{position:r}=t;if(Array.isArray(e)){const a=[...r];e.forEach((i,o)=>{a.push(o),n.push(ff(i,Object.assign(Object.assign({},t),{position:[...a]}))),a.pop()})}return n}const ff=(e,t)=>{const{onTitleChange:n,onOperationToggle:r,onDelete:a,onSelect:i,onGoToGroup:o,position:s,selectedKeys:c}=t,d={key:e.key,title:l.createElement(tv,{uuid:e.key,title:e.title,position:s,operations:e.operations,nodeKey:e.key,type:e.type,generateClassName:t.generateClassName,onTitleChange:n,onOperationToggle:r,onDelete:a,onSelect:i,onGoToGroup:o,isSelected:c==null?void 0:c.includes(e.key)}),children:[]};if(Array.isArray(e.children)){const u=[...s];e.children.forEach((f,p)=>{u.push(p),d.children.push(ff(f,Object.assign(Object.assign({},t),{position:[...u]}))),u.pop()})}return d},{DirectoryTree:rv}=W0,av="base-element-tree",ro=e=>{const t=e.split("-").map(n=>parseInt(n));return t.shift(),t},iv=l.forwardRef((e,t)=>{const{height:n,className:r,style:a,treeData:i,onTitleChange:o,onOperationToggle:s,onSelect:c,selectedKeys:d,onDrop:u,defaultExpandedKeys:f,expandedKeys:p,onDelete:h,onExpand:v,onGoToGroup:g}=e,{createPrefixName:m}=O.useContext(le),b=m(av),y=(w,C)=>{const A=[ro(C.node.pos)],R=[w[0]];c==null||c({uuids:R,positions:A})},x=({uuid:w})=>{h==null||h({uuid:w})};return O.useMemo(()=>{const w=nv(i||[],{generateClassName:b,onTitleChange:o,onOperationToggle:s,onDelete:x,onGoToGroup:g,position:[],selectedKeys:d||[]});return l.createElement(rv,{ref:t,height:n,style:a,className:pe(b(),r),showLine:!0,blockNode:!0,multiple:!0,selectedKeys:d,switcherIcon:l.createElement(Zg,null),icon:null,onSelect:y,treeData:w,defaultExpandedKeys:f,expandedKeys:p,onExpand:v,draggable:{icon:!1,nodeDraggable:()=>!0},onDrop:C=>{const{dragNode:_,node:A,dropToGap:R,dropPosition:S}=C,P=ro(_.pos),j=ro(A.pos);R===!0&&S>=0?j[j.length-1]=S:A.dragOverGapBottom===!0?j[j.length-1]=j[j.length-1]+1:A.dragOverGapTop===!0?j[j.length-1]=Math.max(0,j[j.length-1]-1):A.dragOver===!0&&j.push(0),u==null||u({from:P,to:j})}})},[r,a,y,i,d])}),ov=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M341.333333 512a42.666667 42.666667 0 0 0 42.666667 42.666667h256a42.666667 42.666667 0 0 0 0-85.333334H384a42.666667 42.666667 0 0 0-42.666667 42.666667z"}),l.createElement("path",{d:"M384 682.666667H307.626667A176.213333 176.213333 0 0 1 128 527.786667 170.666667 170.666667 0 0 1 298.666667 341.333333h85.333333a42.666667 42.666667 0 0 0 0-85.333333H307.626667a262.4 262.4 0 0 0-262.826667 222.293333A256 256 0 0 0 298.666667 768h85.333333a42.666667 42.666667 0 0 0 0-85.333333zM981.333333 479.573333A262.826667 262.826667 0 0 0 715.093333 256h-64.426666C616.106667 256 597.333333 275.2 597.333333 298.666667a42.666667 42.666667 0 0 0 42.666667 42.666666h76.373333A176.213333 176.213333 0 0 1 896 496.213333 170.666667 170.666667 0 0 1 725.333333 682.666667h-85.333333a42.666667 42.666667 0 0 0 0 85.333333h85.333333a256 256 0 0 0 256-288.426667z"}))),sv=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M128 128h64v389.312A384.32 384.32 0 0 1 506.688 832H896v64H192a64 64 0 0 1-64-64V128z m313.6 704A320.384 320.384 0 0 0 192 582.4V832h249.6z"})));var lv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const cv=e=>{const{value:t,onChange:n}=e,r=lv(e,["value","onChange"]),a=o=>{n==null||n(o)},i=()=>{a(!t)};return l.createElement(Ke,Object.assign({},r,{type:t?"primary":"default",onClick:i}))},dv="ElementDetail",an=()=>{const[e]=J0(dv);return e},uv="base-element-basic-attribute",zt=e=>Ct.number(e*1)?Te(e*1):e,ec=e=>{if(Ct.number(e*1)){const t=Te(e*1);return ht(t)}return e},fv=e=>{const{className:t,style:n,element:r,onChange:a,disabled:i}=e,o=O.useRef(null),{createPrefixName:s}=O.useContext(le),c=s(uv),d=c(),u=c("row"),f=c("col"),p=c("input"),h=c("form-item"),v=an(),g=m=>{var b;((b=r==null?void 0:r.operations)===null||b===void 0?void 0:b.limitRatio)===!0&&(m!=null&&m.hasOwnProperty("w")?m.h=Te(m.w/r.w*r.h):m!=null&&m.hasOwnProperty("h")&&(m.w=Te(m.h/r.h*r.w))),a==null||a(m)};return O.useEffect(()=>{var m;const{type:b,x:y,y:x,w,h:C,angle:_=0,operations:A={}}=r||{},R={x:y,y:x,w,h:C,angle:_,operations:{limitRatio:A.limitRatio}};b==="group"&&(R.operations.deepResize=A.deepResize),(m=o.current)===null||m===void 0||m.setFieldsValue(R)},[r]),O.useMemo(()=>l.createElement(J,{ref:o,style:n,className:pe(d,t),onValuesChange:g},l.createElement(he,{className:u},l.createElement(Q,{span:10,className:f},l.createElement(J.Item,{className:h,name:"x"},l.createElement(se,{className:p,size:"small",placeholder:"X",prefix:"X",disabled:i,formatter:zt,parser:zt}))),l.createElement(Q,{span:10,className:f},l.createElement(J.Item,{className:h,name:"y"},l.createElement(se,{className:p,size:"small",placeholder:"Y",prefix:"Y",disabled:i,formatter:zt,parser:zt})))),l.createElement(he,{className:u},l.createElement(Q,{span:10,className:f},l.createElement(J.Item,{className:h,name:"w"},l.createElement(se,{className:p,size:"small",placeholder:"Width",prefix:v.w,disabled:i,formatter:zt,parser:zt}))),l.createElement(Q,{span:10,className:f},l.createElement(J.Item,{className:h,name:"h"},l.createElement(se,{className:p,size:"small",placeholder:"Height",prefix:v.h,disabled:i,formatter:zt,parser:zt}))),l.createElement(Q,{span:4,className:f},l.createElement(J.Item,{className:h,name:["operations","limitRatio"]},l.createElement(cv,{icon:l.createElement(ov,null),size:"small",disabled:i})))),l.createElement(he,{className:u},l.createElement(Q,{span:10,className:f},l.createElement(J.Item,{className:h,name:"angle"},l.createElement(se,{className:p,size:"small",placeholder:"Angle",prefix:l.createElement(sv,{style:{fontSize:14}}),disabled:i,formatter:ec,parser:ec,suffix:"°"})))),(r==null?void 0:r.type)==="group"&&l.createElement(he,{className:u},l.createElement(Q,{span:18,className:f},v.deepResizeInGroup),l.createElement(Q,{span:6,className:f},l.createElement(J.Item,{className:h,name:["operations","deepResize"]},l.createElement(Wd,{size:"small"}))))),[v,i,r])};var Ze={},Xr={},hv=typeof oa=="object"&&oa&&oa.Object===Object&&oa,hf=hv,pv=hf,gv=typeof self=="object"&&self&&self.Object===Object&&self,vv=pv||gv||Function("return this")(),gt=vv,mv=gt,bv=mv.Symbol,Zr=bv,tc=Zr,pf=Object.prototype,yv=pf.hasOwnProperty,wv=pf.toString,wr=tc?tc.toStringTag:void 0;function xv(e){var t=yv.call(e,wr),n=e[wr];try{e[wr]=void 0;var r=!0}catch{}var a=wv.call(e);return r&&(t?e[wr]=n:delete e[wr]),a}var Ev=xv,Sv=Object.prototype,Cv=Sv.toString;function _v(e){return Cv.call(e)}var Mv=_v,nc=Zr,Av=Ev,Ov=Mv,Tv="[object Null]",Pv="[object Undefined]",rc=nc?nc.toStringTag:void 0;function $v(e){return e==null?e===void 0?Pv:Tv:rc&&rc in Object(e)?Av(e):Ov(e)}var on=$v,Iv=Array.isArray,ct=Iv;function zv(e){return e!=null&&typeof e=="object"}var Mt=zv,Rv=on,Dv=ct,Nv=Mt,jv="[object String]";function Lv(e){return typeof e=="string"||!Dv(e)&&Nv(e)&&Rv(e)==jv}var kv=Lv;function Bv(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++a];if(n(i[c],c,i)===!1)break}return t}}var Fv=Bv,Hv=Fv,Wv=Hv(),Gv=Wv;function Vv(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Uv=Vv,Yv=on,Xv=Mt,Zv="[object Arguments]";function Kv(e){return Xv(e)&&Yv(e)==Zv}var Qv=Kv,ac=Qv,Jv=Mt,gf=Object.prototype,qv=gf.hasOwnProperty,e3=gf.propertyIsEnumerable,t3=ac(function(){return arguments}())?ac:function(e){return Jv(e)&&qv.call(e,"callee")&&!e3.call(e,"callee")},vf=t3,oi={exports:{}};function n3(){return!1}var r3=n3;oi.exports;(function(e,t){var n=gt,r=r3,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?n.Buffer:void 0,c=s?s.isBuffer:void 0,d=c||r;e.exports=d})(oi,oi.exports);var hs=oi.exports,a3=9007199254740991,i3=/^(?:0|[1-9]\d*)$/;function o3(e,t){var n=typeof e;return t=t??a3,!!t&&(n=="number"||n!="symbol"&&i3.test(e))&&e>-1&&e%1==0&&e<t}var mf=o3,s3=9007199254740991;function l3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=s3}var ps=l3,c3=on,d3=ps,u3=Mt,f3="[object Arguments]",h3="[object Array]",p3="[object Boolean]",g3="[object Date]",v3="[object Error]",m3="[object Function]",b3="[object Map]",y3="[object Number]",w3="[object Object]",x3="[object RegExp]",E3="[object Set]",S3="[object String]",C3="[object WeakMap]",_3="[object ArrayBuffer]",M3="[object DataView]",A3="[object Float32Array]",O3="[object Float64Array]",T3="[object Int8Array]",P3="[object Int16Array]",$3="[object Int32Array]",I3="[object Uint8Array]",z3="[object Uint8ClampedArray]",R3="[object Uint16Array]",D3="[object Uint32Array]",xe={};xe[A3]=xe[O3]=xe[T3]=xe[P3]=xe[$3]=xe[I3]=xe[z3]=xe[R3]=xe[D3]=!0;xe[f3]=xe[h3]=xe[_3]=xe[p3]=xe[M3]=xe[g3]=xe[v3]=xe[m3]=xe[b3]=xe[y3]=xe[w3]=xe[x3]=xe[E3]=xe[S3]=xe[C3]=!1;function N3(e){return u3(e)&&d3(e.length)&&!!xe[c3(e)]}var j3=N3;function L3(e){return function(t){return e(t)}}var gs=L3,si={exports:{}};si.exports;(function(e,t){var n=hf,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,s=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(si,si.exports);var vs=si.exports,k3=j3,B3=gs,ic=vs,oc=ic&&ic.isTypedArray,F3=oc?B3(oc):k3,bf=F3,H3=Uv,W3=vf,G3=ct,V3=hs,U3=mf,Y3=bf,X3=Object.prototype,Z3=X3.hasOwnProperty;function K3(e,t){var n=G3(e),r=!n&&W3(e),a=!n&&!r&&V3(e),i=!n&&!r&&!a&&Y3(e),o=n||r||a||i,s=o?H3(e.length,String):[],c=s.length;for(var d in e)(t||Z3.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||U3(d,c)))&&s.push(d);return s}var yf=K3,Q3=Object.prototype;function J3(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Q3;return e===n}var ms=J3;function q3(e,t){return function(n){return e(t(n))}}var wf=q3,em=wf,tm=em(Object.keys,Object),nm=tm,rm=ms,am=nm,im=Object.prototype,om=im.hasOwnProperty;function sm(e){if(!rm(e))return am(e);var t=[];for(var n in Object(e))om.call(e,n)&&n!="constructor"&&t.push(n);return t}var lm=sm;function cm(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var nr=cm,dm=on,um=nr,fm="[object AsyncFunction]",hm="[object Function]",pm="[object GeneratorFunction]",gm="[object Proxy]";function vm(e){if(!um(e))return!1;var t=dm(e);return t==hm||t==pm||t==fm||t==gm}var xf=vm,mm=xf,bm=ps;function ym(e){return e!=null&&bm(e.length)&&!mm(e)}var _i=ym,wm=yf,xm=lm,Em=_i;function Sm(e){return Em(e)?wm(e):xm(e)}var Kr=Sm,Cm=Gv,_m=Kr;function Mm(e,t){return e&&Cm(e,t,_m)}var Ef=Mm;function Am(e){return e}var Sf=Am,Om=Sf;function Tm(e){return typeof e=="function"?e:Om}var Pm=Tm,$m=Ef,Im=Pm;function zm(e,t){return e&&$m(e,Im(t))}var bs=zm,Rm=wf,Dm=Rm(Object.getPrototypeOf,Object),ys=Dm,Nm=on,jm=ys,Lm=Mt,km="[object Object]",Bm=Function.prototype,Fm=Object.prototype,Cf=Bm.toString,Hm=Fm.hasOwnProperty,Wm=Cf.call(Object);function Gm(e){if(!Lm(e)||Nm(e)!=km)return!1;var t=jm(e);if(t===null)return!0;var n=Hm.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Cf.call(n)==Wm}var Vm=Gm;function Um(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var _f=Um;function Ym(){this.__data__=[],this.size=0}var Xm=Ym;function Zm(e,t){return e===t||e!==e&&t!==t}var ws=Zm,Km=ws;function Qm(e,t){for(var n=e.length;n--;)if(Km(e[n][0],t))return n;return-1}var Mi=Qm,Jm=Mi,qm=Array.prototype,e6=qm.splice;function t6(e){var t=this.__data__,n=Jm(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():e6.call(t,n,1),--this.size,!0}var n6=t6,r6=Mi;function a6(e){var t=this.__data__,n=r6(t,e);return n<0?void 0:t[n][1]}var i6=a6,o6=Mi;function s6(e){return o6(this.__data__,e)>-1}var l6=s6,c6=Mi;function d6(e,t){var n=this.__data__,r=c6(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var u6=d6,f6=Xm,h6=n6,p6=i6,g6=l6,v6=u6;function rr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}rr.prototype.clear=f6;rr.prototype.delete=h6;rr.prototype.get=p6;rr.prototype.has=g6;rr.prototype.set=v6;var Ai=rr,m6=Ai;function b6(){this.__data__=new m6,this.size=0}var y6=b6;function w6(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var x6=w6;function E6(e){return this.__data__.get(e)}var S6=E6;function C6(e){return this.__data__.has(e)}var _6=C6,M6=gt,A6=M6["__core-js_shared__"],O6=A6,ao=O6,sc=function(){var e=/[^.]+$/.exec(ao&&ao.keys&&ao.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function T6(e){return!!sc&&sc in e}var P6=T6,$6=Function.prototype,I6=$6.toString;function z6(e){if(e!=null){try{return I6.call(e)}catch{}try{return e+""}catch{}}return""}var Mf=z6,R6=xf,D6=P6,N6=nr,j6=Mf,L6=/[\\^$.*+?()[\]{}|]/g,k6=/^\[object .+?Constructor\]$/,B6=Function.prototype,F6=Object.prototype,H6=B6.toString,W6=F6.hasOwnProperty,G6=RegExp("^"+H6.call(W6).replace(L6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V6(e){if(!N6(e)||D6(e))return!1;var t=R6(e)?G6:k6;return t.test(j6(e))}var U6=V6;function Y6(e,t){return e==null?void 0:e[t]}var X6=Y6,Z6=U6,K6=X6;function Q6(e,t){var n=K6(e,t);return Z6(n)?n:void 0}var sn=Q6,J6=sn,q6=gt,e1=J6(q6,"Map"),xs=e1,t1=sn,n1=t1(Object,"create"),Oi=n1,lc=Oi;function r1(){this.__data__=lc?lc(null):{},this.size=0}var a1=r1;function i1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var o1=i1,s1=Oi,l1="__lodash_hash_undefined__",c1=Object.prototype,d1=c1.hasOwnProperty;function u1(e){var t=this.__data__;if(s1){var n=t[e];return n===l1?void 0:n}return d1.call(t,e)?t[e]:void 0}var f1=u1,h1=Oi,p1=Object.prototype,g1=p1.hasOwnProperty;function v1(e){var t=this.__data__;return h1?t[e]!==void 0:g1.call(t,e)}var m1=v1,b1=Oi,y1="__lodash_hash_undefined__";function w1(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=b1&&t===void 0?y1:t,this}var x1=w1,E1=a1,S1=o1,C1=f1,_1=m1,M1=x1;function ar(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ar.prototype.clear=E1;ar.prototype.delete=S1;ar.prototype.get=C1;ar.prototype.has=_1;ar.prototype.set=M1;var A1=ar,cc=A1,O1=Ai,T1=xs;function P1(){this.size=0,this.__data__={hash:new cc,map:new(T1||O1),string:new cc}}var $1=P1;function I1(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var z1=I1,R1=z1;function D1(e,t){var n=e.__data__;return R1(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Ti=D1,N1=Ti;function j1(e){var t=N1(this,e).delete(e);return this.size-=t?1:0,t}var L1=j1,k1=Ti;function B1(e){return k1(this,e).get(e)}var F1=B1,H1=Ti;function W1(e){return H1(this,e).has(e)}var G1=W1,V1=Ti;function U1(e,t){var n=V1(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Y1=U1,X1=$1,Z1=L1,K1=F1,Q1=G1,J1=Y1;function ir(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ir.prototype.clear=X1;ir.prototype.delete=Z1;ir.prototype.get=K1;ir.prototype.has=Q1;ir.prototype.set=J1;var Es=ir,q1=Ai,eb=xs,tb=Es,nb=200;function rb(e,t){var n=this.__data__;if(n instanceof q1){var r=n.__data__;if(!eb||r.length<nb-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new tb(r)}return n.set(e,t),this.size=n.size,this}var ab=rb,ib=Ai,ob=y6,sb=x6,lb=S6,cb=_6,db=ab;function or(e){var t=this.__data__=new ib(e);this.size=t.size}or.prototype.clear=ob;or.prototype.delete=sb;or.prototype.get=lb;or.prototype.has=cb;or.prototype.set=db;var Ss=or,ub="__lodash_hash_undefined__";function fb(e){return this.__data__.set(e,ub),this}var hb=fb;function pb(e){return this.__data__.has(e)}var gb=pb,vb=Es,mb=hb,bb=gb;function li(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new vb;++t<n;)this.add(e[t])}li.prototype.add=li.prototype.push=mb;li.prototype.has=bb;var yb=li;function wb(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var xb=wb;function Eb(e,t){return e.has(t)}var Sb=Eb,Cb=yb,_b=xb,Mb=Sb,Ab=1,Ob=2;function Tb(e,t,n,r,a,i){var o=n&Ab,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,p=!0,h=n&Ob?new Cb:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var v=e[f],g=t[f];if(r)var m=o?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(m!==void 0){if(m)continue;p=!1;break}if(h){if(!_b(t,function(b,y){if(!Mb(h,y)&&(v===b||a(v,b,n,r,i)))return h.push(y)})){p=!1;break}}else if(!(v===g||a(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var Af=Tb,Pb=gt,$b=Pb.Uint8Array,Of=$b;function Ib(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var zb=Ib;function Rb(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Db=Rb,dc=Zr,uc=Of,Nb=ws,jb=Af,Lb=zb,kb=Db,Bb=1,Fb=2,Hb="[object Boolean]",Wb="[object Date]",Gb="[object Error]",Vb="[object Map]",Ub="[object Number]",Yb="[object RegExp]",Xb="[object Set]",Zb="[object String]",Kb="[object Symbol]",Qb="[object ArrayBuffer]",Jb="[object DataView]",fc=dc?dc.prototype:void 0,io=fc?fc.valueOf:void 0;function qb(e,t,n,r,a,i,o){switch(n){case Jb:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Qb:return!(e.byteLength!=t.byteLength||!i(new uc(e),new uc(t)));case Hb:case Wb:case Ub:return Nb(+e,+t);case Gb:return e.name==t.name&&e.message==t.message;case Yb:case Zb:return e==t+"";case Vb:var s=Lb;case Xb:var c=r&Bb;if(s||(s=kb),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;r|=Fb,o.set(e,t);var u=jb(s(e),s(t),r,a,i,o);return o.delete(e),u;case Kb:if(io)return io.call(e)==io.call(t)}return!1}var ey=qb;function ty(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var Tf=ty,ny=Tf,ry=ct;function ay(e,t,n){var r=t(e);return ry(e)?r:ny(r,n(e))}var Pf=ay;function iy(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var oy=iy;function sy(){return[]}var $f=sy,ly=oy,cy=$f,dy=Object.prototype,uy=dy.propertyIsEnumerable,hc=Object.getOwnPropertySymbols,fy=hc?function(e){return e==null?[]:(e=Object(e),ly(hc(e),function(t){return uy.call(e,t)}))}:cy,Cs=fy,hy=Pf,py=Cs,gy=Kr;function vy(e){return hy(e,gy,py)}var If=vy,pc=If,my=1,by=Object.prototype,yy=by.hasOwnProperty;function wy(e,t,n,r,a,i){var o=n&my,s=pc(e),c=s.length,d=pc(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var p=s[f];if(!(o?p in t:yy.call(t,p)))return!1}var h=i.get(e),v=i.get(t);if(h&&v)return h==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var m=o;++f<c;){p=s[f];var b=e[p],y=t[p];if(r)var x=o?r(y,b,p,t,e,i):r(b,y,p,e,t,i);if(!(x===void 0?b===y||a(b,y,n,r,i):x)){g=!1;break}m||(m=p=="constructor")}if(g&&!m){var w=e.constructor,C=t.constructor;w!=C&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof C=="function"&&C instanceof C)&&(g=!1)}return i.delete(e),i.delete(t),g}var xy=wy,Ey=sn,Sy=gt,Cy=Ey(Sy,"DataView"),_y=Cy,My=sn,Ay=gt,Oy=My(Ay,"Promise"),Ty=Oy,Py=sn,$y=gt,Iy=Py($y,"Set"),zy=Iy,Ry=sn,Dy=gt,Ny=Ry(Dy,"WeakMap"),jy=Ny,Bo=_y,Fo=xs,Ho=Ty,Wo=zy,Go=jy,zf=on,sr=Mf,gc="[object Map]",Ly="[object Object]",vc="[object Promise]",mc="[object Set]",bc="[object WeakMap]",yc="[object DataView]",ky=sr(Bo),By=sr(Fo),Fy=sr(Ho),Hy=sr(Wo),Wy=sr(Go),Xt=zf;(Bo&&Xt(new Bo(new ArrayBuffer(1)))!=yc||Fo&&Xt(new Fo)!=gc||Ho&&Xt(Ho.resolve())!=vc||Wo&&Xt(new Wo)!=mc||Go&&Xt(new Go)!=bc)&&(Xt=function(e){var t=zf(e),n=t==Ly?e.constructor:void 0,r=n?sr(n):"";if(r)switch(r){case ky:return yc;case By:return gc;case Fy:return vc;case Hy:return mc;case Wy:return bc}return t});var Pi=Xt,oo=Ss,Gy=Af,Vy=ey,Uy=xy,wc=Pi,xc=ct,Ec=hs,Yy=bf,Xy=1,Sc="[object Arguments]",Cc="[object Array]",va="[object Object]",Zy=Object.prototype,_c=Zy.hasOwnProperty;function Ky(e,t,n,r,a,i){var o=xc(e),s=xc(t),c=o?Cc:wc(e),d=s?Cc:wc(t);c=c==Sc?va:c,d=d==Sc?va:d;var u=c==va,f=d==va,p=c==d;if(p&&Ec(e)){if(!Ec(t))return!1;o=!0,u=!1}if(p&&!u)return i||(i=new oo),o||Yy(e)?Gy(e,t,n,r,a,i):Vy(e,t,c,n,r,a,i);if(!(n&Xy)){var h=u&&_c.call(e,"__wrapped__"),v=f&&_c.call(t,"__wrapped__");if(h||v){var g=h?e.value():e,m=v?t.value():t;return i||(i=new oo),a(g,m,n,r,i)}}return p?(i||(i=new oo),Uy(e,t,n,r,a,i)):!1}var Qy=Ky,Jy=Qy,Mc=Mt;function Rf(e,t,n,r,a){return e===t?!0:e==null||t==null||!Mc(e)&&!Mc(t)?e!==e&&t!==t:Jy(e,t,n,r,Rf,a)}var Df=Rf,qy=Ss,e2=Df,t2=1,n2=2;function r2(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var s=n[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=n[a];var c=s[0],d=e[c],u=s[1];if(o&&s[2]){if(d===void 0&&!(c in e))return!1}else{var f=new qy;if(r)var p=r(d,u,c,e,t,f);if(!(p===void 0?e2(u,d,t2|n2,r,f):p))return!1}}return!0}var a2=r2,i2=nr;function o2(e){return e===e&&!i2(e)}var Nf=o2,s2=Nf,l2=Kr;function c2(e){for(var t=l2(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,s2(a)]}return t}var d2=c2;function u2(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var jf=u2,f2=a2,h2=d2,p2=jf;function g2(e){var t=h2(e);return t.length==1&&t[0][2]?p2(t[0][0],t[0][1]):function(n){return n===e||f2(n,e,t)}}var v2=g2,m2=on,b2=Mt,y2="[object Symbol]";function w2(e){return typeof e=="symbol"||b2(e)&&m2(e)==y2}var _s=w2,x2=ct,E2=_s,S2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C2=/^\w*$/;function _2(e,t){if(x2(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||E2(e)?!0:C2.test(e)||!S2.test(e)||t!=null&&e in Object(t)}var Ms=_2,Lf=Es,M2="Expected a function";function As(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(M2);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(As.Cache||Lf),n}As.Cache=Lf;var A2=As,O2=A2,T2=500;function P2(e){var t=O2(e,function(r){return n.size===T2&&n.clear(),r}),n=t.cache;return t}var $2=P2,I2=$2,z2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R2=/\\(\\)?/g,D2=I2(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(z2,function(n,r,a,i){t.push(a?i.replace(R2,"$1"):r||n)}),t}),N2=D2,Ac=Zr,j2=_f,L2=ct,k2=_s,B2=1/0,Oc=Ac?Ac.prototype:void 0,Tc=Oc?Oc.toString:void 0;function kf(e){if(typeof e=="string")return e;if(L2(e))return j2(e,kf)+"";if(k2(e))return Tc?Tc.call(e):"";var t=e+"";return t=="0"&&1/e==-B2?"-0":t}var F2=kf,H2=F2;function W2(e){return e==null?"":H2(e)}var G2=W2,V2=ct,U2=Ms,Y2=N2,X2=G2;function Z2(e,t){return V2(e)?e:U2(e,t)?[e]:Y2(X2(e))}var Bf=Z2,K2=_s,Q2=1/0;function J2(e){if(typeof e=="string"||K2(e))return e;var t=e+"";return t=="0"&&1/e==-Q2?"-0":t}var $i=J2,q2=Bf,ew=$i;function tw(e,t){t=q2(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ew(t[n++])];return n&&n==r?e:void 0}var Ff=tw,nw=Ff;function rw(e,t,n){var r=e==null?void 0:nw(e,t);return r===void 0?n:r}var aw=rw;function iw(e,t){return e!=null&&t in Object(e)}var ow=iw,sw=Bf,lw=vf,cw=ct,dw=mf,uw=ps,fw=$i;function hw(e,t,n){t=sw(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=fw(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&uw(a)&&dw(o,a)&&(cw(e)||lw(e)))}var pw=hw,gw=ow,vw=pw;function mw(e,t){return e!=null&&vw(e,t,gw)}var bw=mw,yw=Df,ww=aw,xw=bw,Ew=Ms,Sw=Nf,Cw=jf,_w=$i,Mw=1,Aw=2;function Ow(e,t){return Ew(e)&&Sw(t)?Cw(_w(e),t):function(n){var r=ww(n,e);return r===void 0&&r===t?xw(n,e):yw(t,r,Mw|Aw)}}var Tw=Ow;function Pw(e){return function(t){return t==null?void 0:t[e]}}var $w=Pw,Iw=Ff;function zw(e){return function(t){return Iw(t,e)}}var Rw=zw,Dw=$w,Nw=Rw,jw=Ms,Lw=$i;function kw(e){return jw(e)?Dw(Lw(e)):Nw(e)}var Bw=kw,Fw=v2,Hw=Tw,Ww=Sf,Gw=ct,Vw=Bw;function Uw(e){return typeof e=="function"?e:e==null?Ww:typeof e=="object"?Gw(e)?Hw(e[0],e[1]):Fw(e):Vw(e)}var Yw=Uw,Xw=_i;function Zw(e,t){return function(n,r){if(n==null)return n;if(!Xw(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var Kw=Zw,Qw=Ef,Jw=Kw,qw=Jw(Qw),e4=qw,t4=e4,n4=_i;function r4(e,t){var n=-1,r=n4(e)?Array(e.length):[];return t4(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var a4=r4,i4=_f,o4=Yw,s4=a4,l4=ct;function c4(e,t){var n=l4(e)?i4:s4;return n(e,o4(t))}var d4=c4;Object.defineProperty(Xr,"__esModule",{value:!0});Xr.flattenNames=void 0;var u4=kv,f4=Ii(u4),h4=bs,p4=Ii(h4),g4=Vm,v4=Ii(g4),m4=d4,b4=Ii(m4);function Ii(e){return e&&e.__esModule?e:{default:e}}var y4=Xr.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,b4.default)(t,function(r){Array.isArray(r)?e(r).map(function(a){return n.push(a)}):(0,v4.default)(r)?(0,p4.default)(r,function(a,i){a===!0&&n.push(i),n.push(i+"-"+a)}):(0,f4.default)(r)&&n.push(r)}),n};Xr.default=y4;var Qr={};function w4(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var x4=w4,E4=sn,S4=function(){try{var e=E4(Object,"defineProperty");return e({},"",{}),e}catch{}}(),C4=S4,Pc=C4;function _4(e,t,n){t=="__proto__"&&Pc?Pc(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Hf=_4,M4=Hf,A4=ws,O4=Object.prototype,T4=O4.hasOwnProperty;function P4(e,t,n){var r=e[t];(!(T4.call(e,t)&&A4(r,n))||n===void 0&&!(t in e))&&M4(e,t,n)}var Wf=P4,$4=Wf,I4=Hf;function z4(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;c===void 0&&(c=e[s]),a?I4(n,s,c):$4(n,s,c)}return n}var zi=z4,R4=zi,D4=Kr;function N4(e,t){return e&&R4(t,D4(t),e)}var j4=N4;function L4(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var k4=L4,B4=nr,F4=ms,H4=k4,W4=Object.prototype,G4=W4.hasOwnProperty;function V4(e){if(!B4(e))return H4(e);var t=F4(e),n=[];for(var r in e)r=="constructor"&&(t||!G4.call(e,r))||n.push(r);return n}var U4=V4,Y4=yf,X4=U4,Z4=_i;function K4(e){return Z4(e)?Y4(e,!0):X4(e)}var Os=K4,Q4=zi,J4=Os;function q4(e,t){return e&&Q4(t,J4(t),e)}var e8=q4,ci={exports:{}};ci.exports;(function(e,t){var n=gt,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(d,u){if(u)return d.slice();var f=d.length,p=s?s(f):new d.constructor(f);return d.copy(p),p}e.exports=c})(ci,ci.exports);var t8=ci.exports;function n8(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var r8=n8,a8=zi,i8=Cs;function o8(e,t){return a8(e,i8(e),t)}var s8=o8,l8=Tf,c8=ys,d8=Cs,u8=$f,f8=Object.getOwnPropertySymbols,h8=f8?function(e){for(var t=[];e;)l8(t,d8(e)),e=c8(e);return t}:u8,Gf=h8,p8=zi,g8=Gf;function v8(e,t){return p8(e,g8(e),t)}var m8=v8,b8=Pf,y8=Gf,w8=Os;function x8(e){return b8(e,w8,y8)}var E8=x8,S8=Object.prototype,C8=S8.hasOwnProperty;function _8(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&C8.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var M8=_8,$c=Of;function A8(e){var t=new e.constructor(e.byteLength);return new $c(t).set(new $c(e)),t}var Ts=A8,O8=Ts;function T8(e,t){var n=t?O8(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var P8=T8,$8=/\w*$/;function I8(e){var t=new e.constructor(e.source,$8.exec(e));return t.lastIndex=e.lastIndex,t}var z8=I8,Ic=Zr,zc=Ic?Ic.prototype:void 0,Rc=zc?zc.valueOf:void 0;function R8(e){return Rc?Object(Rc.call(e)):{}}var D8=R8,N8=Ts;function j8(e,t){var n=t?N8(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var L8=j8,k8=Ts,B8=P8,F8=z8,H8=D8,W8=L8,G8="[object Boolean]",V8="[object Date]",U8="[object Map]",Y8="[object Number]",X8="[object RegExp]",Z8="[object Set]",K8="[object String]",Q8="[object Symbol]",J8="[object ArrayBuffer]",q8="[object DataView]",ex="[object Float32Array]",tx="[object Float64Array]",nx="[object Int8Array]",rx="[object Int16Array]",ax="[object Int32Array]",ix="[object Uint8Array]",ox="[object Uint8ClampedArray]",sx="[object Uint16Array]",lx="[object Uint32Array]";function cx(e,t,n){var r=e.constructor;switch(t){case J8:return k8(e);case G8:case V8:return new r(+e);case q8:return B8(e,n);case ex:case tx:case nx:case rx:case ax:case ix:case ox:case sx:case lx:return W8(e,n);case U8:return new r;case Y8:case K8:return new r(e);case X8:return F8(e);case Z8:return new r;case Q8:return H8(e)}}var dx=cx,ux=nr,Dc=Object.create,fx=function(){function e(){}return function(t){if(!ux(t))return{};if(Dc)return Dc(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),hx=fx,px=hx,gx=ys,vx=ms;function mx(e){return typeof e.constructor=="function"&&!vx(e)?px(gx(e)):{}}var bx=mx,yx=Pi,wx=Mt,xx="[object Map]";function Ex(e){return wx(e)&&yx(e)==xx}var Sx=Ex,Cx=Sx,_x=gs,Nc=vs,jc=Nc&&Nc.isMap,Mx=jc?_x(jc):Cx,Ax=Mx,Ox=Pi,Tx=Mt,Px="[object Set]";function $x(e){return Tx(e)&&Ox(e)==Px}var Ix=$x,zx=Ix,Rx=gs,Lc=vs,kc=Lc&&Lc.isSet,Dx=kc?Rx(kc):zx,Nx=Dx,jx=Ss,Lx=x4,kx=Wf,Bx=j4,Fx=e8,Hx=t8,Wx=r8,Gx=s8,Vx=m8,Ux=If,Yx=E8,Xx=Pi,Zx=M8,Kx=dx,Qx=bx,Jx=ct,qx=hs,e5=Ax,t5=nr,n5=Nx,r5=Kr,a5=Os,i5=1,o5=2,s5=4,Vf="[object Arguments]",l5="[object Array]",c5="[object Boolean]",d5="[object Date]",u5="[object Error]",Uf="[object Function]",f5="[object GeneratorFunction]",h5="[object Map]",p5="[object Number]",Yf="[object Object]",g5="[object RegExp]",v5="[object Set]",m5="[object String]",b5="[object Symbol]",y5="[object WeakMap]",w5="[object ArrayBuffer]",x5="[object DataView]",E5="[object Float32Array]",S5="[object Float64Array]",C5="[object Int8Array]",_5="[object Int16Array]",M5="[object Int32Array]",A5="[object Uint8Array]",O5="[object Uint8ClampedArray]",T5="[object Uint16Array]",P5="[object Uint32Array]",ye={};ye[Vf]=ye[l5]=ye[w5]=ye[x5]=ye[c5]=ye[d5]=ye[E5]=ye[S5]=ye[C5]=ye[_5]=ye[M5]=ye[h5]=ye[p5]=ye[Yf]=ye[g5]=ye[v5]=ye[m5]=ye[b5]=ye[A5]=ye[O5]=ye[T5]=ye[P5]=!0;ye[u5]=ye[Uf]=ye[y5]=!1;function Ua(e,t,n,r,a,i){var o,s=t&i5,c=t&o5,d=t&s5;if(n&&(o=a?n(e,r,a,i):n(e)),o!==void 0)return o;if(!t5(e))return e;var u=Jx(e);if(u){if(o=Zx(e),!s)return Wx(e,o)}else{var f=Xx(e),p=f==Uf||f==f5;if(qx(e))return Hx(e,s);if(f==Yf||f==Vf||p&&!a){if(o=c||p?{}:Qx(e),!s)return c?Vx(e,Fx(o,e)):Gx(e,Bx(o,e))}else{if(!ye[f])return a?e:{};o=Kx(e,f,s)}}i||(i=new jx);var h=i.get(e);if(h)return h;i.set(e,o),n5(e)?e.forEach(function(m){o.add(Ua(m,t,n,m,e,i))}):e5(e)&&e.forEach(function(m,b){o.set(b,Ua(m,t,n,b,e,i))});var v=d?c?Yx:Ux:c?a5:r5,g=u?void 0:v(e);return Lx(g||e,function(m,b){g&&(b=m,m=e[b]),kx(o,b,Ua(m,t,n,b,e,i))}),o}var $5=Ua,I5=$5,z5=1,R5=4;function D5(e){return I5(e,z5|R5)}var N5=D5;Object.defineProperty(Qr,"__esModule",{value:!0});Qr.mergeClasses=void 0;var j5=bs,L5=Xf(j5),k5=N5,B5=Xf(k5),F5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Xf(e){return e&&e.__esModule?e:{default:e}}var H5=Qr.mergeClasses=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.default&&(0,B5.default)(t.default)||{};return n.map(function(a){var i=t[a];return i&&(0,L5.default)(i,function(o,s){r[s]||(r[s]={}),r[s]=F5({},r[s],i[s])}),a}),r};Qr.default=H5;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.autoprefix=void 0;var W5=bs,Bc=V5(W5),G5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function V5(e){return e&&e.__esModule?e:{default:e}}var U5={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var n=t&&t.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(t,n){var r=n[t];return r||{extend:t}}},Y5=Jr.autoprefix=function(t){var n={};return(0,Bc.default)(t,function(r,a){var i={};(0,Bc.default)(r,function(o,s){var c=U5[s];c?i=G5({},i,c(o)):i[s]=o}),n[a]=i}),n};Jr.default=Y5;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.hover=void 0;var X5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z5=O,so=K5(Z5);function K5(e){return e&&e.__esModule?e:{default:e}}function Q5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function J5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var q5=qr.hover=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){J5(a,r);function a(){var i,o,s,c;Q5(this,a);for(var d=arguments.length,u=Array(d),f=0;f<d;f++)u[f]=arguments[f];return c=(o=(s=Fc(this,(i=a.__proto__||Object.getPrototypeOf(a)).call.apply(i,[this].concat(u))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return so.default.createElement(n,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},so.default.createElement(t,X5({},s.props,s.state)))},o),Fc(s,c)}return a}(so.default.Component)};qr.default=q5;var ea={};Object.defineProperty(ea,"__esModule",{value:!0});ea.active=void 0;var eE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tE=O,lo=nE(tE);function nE(e){return e&&e.__esModule?e:{default:e}}function rE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function aE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var iE=ea.active=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){aE(a,r);function a(){var i,o,s,c;rE(this,a);for(var d=arguments.length,u=Array(d),f=0;f<d;f++)u[f]=arguments[f];return c=(o=(s=Hc(this,(i=a.__proto__||Object.getPrototypeOf(a)).call.apply(i,[this].concat(u))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return lo.default.createElement(n,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},lo.default.createElement(t,eE({},s.props,s.state)))},o),Hc(s,c)}return a}(lo.default.Component)};ea.default=iE;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});var oE=function(t,n){var r={},a=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=s};return t===0&&a("first-child"),t===n-1&&a("last-child"),(t===0||t%2===0)&&a("even"),Math.abs(t%2)===1&&a("odd"),a("nth-child",t),r};Ps.default=oE;Object.defineProperty(Ze,"__esModule",{value:!0});Ze.ReactCSS=Ze.loop=Ze.handleActive=$s=Ze.handleHover=Ze.hover=void 0;var sE=Xr,lE=lr(sE),cE=Qr,dE=lr(cE),uE=Jr,fE=lr(uE),hE=qr,Zf=lr(hE),pE=ea,gE=lr(pE),vE=Ps,mE=lr(vE);function lr(e){return e&&e.__esModule?e:{default:e}}Ze.hover=Zf.default;var $s=Ze.handleHover=Zf.default;Ze.handleActive=gE.default;Ze.loop=mE.default;var bE=Ze.ReactCSS=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=(0,lE.default)(r),o=(0,dE.default)(t,i);return(0,fE.default)(o)},ie=Ze.default=bE,yE=function(t,n,r,a,i){var o=i.clientWidth,s=i.clientHeight,c=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,d=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,u=c-(i.getBoundingClientRect().left+window.pageXOffset),f=d-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(f<0?p=0:f>s?p=1:p=Math.round(f*100/s)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var h=void 0;if(u<0?h=0:u>o?h=1:h=Math.round(u*100/o)/100,a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}return null},co={},wE=function(t,n,r,a){if(typeof document>"u"&&!a)return null;var i=a?new a:document.createElement("canvas");i.width=r*2,i.height=r*2;var o=i.getContext("2d");return o?(o.fillStyle=t,o.fillRect(0,0,i.width,i.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),i.toDataURL()):null},xE=function(t,n,r,a){var i=t+"-"+n+"-"+r+(a?"-server":"");if(co[i])return co[i];var o=wE(t,n,r,a);return co[i]=o,o},Wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cr=function(t){var n=t.white,r=t.grey,a=t.size,i=t.renderers,o=t.borderRadius,s=t.boxShadow,c=t.children,d=ie({default:{grid:{borderRadius:o,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+xE(n,r,a,i.canvas)+") center left"}}});return O.isValidElement(c)?l.cloneElement(c,Wc({},c.props,{style:Wc({},c.props.style,d.grid)})):l.createElement("div",{style:d.grid})};cr.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var EE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SE=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function CE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _E(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Is=function(e){_E(t,e);function t(){var n,r,a,i;CE(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return i=(r=(a=Gc(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),a),a.handleChange=function(d){var u=yE(d,a.props.hsl,a.props.direction,a.props.a,a.container);u&&typeof a.props.onChange=="function"&&a.props.onChange(u,d)},a.handleMouseDown=function(d){a.handleChange(d),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},a.unbindEventListeners=function(){window.removeEventListener("mousemove",a.handleChange),window.removeEventListener("mouseup",a.handleMouseUp)},r),Gc(a,i)}return SE(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,a=this.props.rgb,i=ie({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+a.r+","+a.g+","+a.b+`, 0) 0%,
           rgba(`+a.r+","+a.g+","+a.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:a.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+a.r+","+a.g+","+a.b+`, 0) 0%,
           rgba(`+a.r+","+a.g+","+a.b+", 1) 100%)"},pointer:{left:0,top:a.a*100+"%"}},overwrite:EE({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return l.createElement("div",{style:i.alpha},l.createElement("div",{style:i.checkboard},l.createElement(cr,{renderers:this.props.renderers})),l.createElement("div",{style:i.gradient}),l.createElement("div",{style:i.container,ref:function(s){return r.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.createElement("div",{style:i.pointer},this.props.pointer?l.createElement(this.props.pointer,this.props):l.createElement("div",{style:i.slider}))))}}]),t}(O.PureComponent||O.Component),ME=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function AE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function PE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $E=1,Kf=38,IE=40,zE=[Kf,IE],RE=function(t){return zE.indexOf(t)>-1},DE=function(t){return Number(String(t).replace(/%/g,""))},NE=1,oe=function(e){PE(t,e);function t(n){OE(this,t);var r=TE(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(a){r.setUpdatedValue(a.target.value,a)},r.handleKeyDown=function(a){var i=DE(a.target.value);if(!isNaN(i)&&RE(a.keyCode)){var o=r.getArrowOffset(),s=a.keyCode===Kf?i+o:i-o;r.setUpdatedValue(s,a)}},r.handleDrag=function(a){if(r.props.dragLabel){var i=Math.round(r.props.value+a.movementX);i>=0&&i<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(i),a)}},r.handleMouseDown=function(a){r.props.dragLabel&&(a.preventDefault(),r.handleDrag(a),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+NE++,r}return ME(t,[{key:"componentDidUpdate",value:function(r,a){this.props.value!==this.state.value&&(r.value!==this.props.value||a.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return AE({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||$E}},{key:"setUpdatedValue",value:function(r,a){var i=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(i,a),this.setState({value:r})}},{key:"render",value:function(){var r=this,a=ie({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return l.createElement("div",{style:a.wrap},l.createElement("input",{id:this.inputId,style:a.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?l.createElement("label",{htmlFor:this.inputId,style:a.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(O.PureComponent||O.Component),jE=function(t,n,r,a){var i=a.clientWidth,o=a.clientHeight,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,c=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,d=s-(a.getBoundingClientRect().left+window.pageXOffset),u=c-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(u<0)f=359;else if(u>o)f=0;else{var p=-(u*100/o)+100;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var h=void 0;if(d<0)h=0;else if(d>i)h=359;else{var v=d*100/i;h=360*v/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},LE=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function kE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function BE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dr=function(e){BE(t,e);function t(){var n,r,a,i;kE(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return i=(r=(a=Vc(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(s))),a),a.handleChange=function(d){var u=jE(d,a.props.direction,a.props.hsl,a.container);u&&typeof a.props.onChange=="function"&&a.props.onChange(u,d)},a.handleMouseDown=function(d){a.handleChange(d),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},r),Vc(a,i)}return LE(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,a=this.props.direction,i=a===void 0?"horizontal":a,o=ie({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:i==="vertical"});return l.createElement("div",{style:o.hue},l.createElement("div",{className:"hue-"+i,style:o.container,ref:function(c){return r.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),l.createElement("div",{style:o.pointer},this.props.pointer?l.createElement(this.props.pointer,this.props):l.createElement("div",{style:o.slider}))))}}]),t}(O.PureComponent||O.Component),Qf={exports:{}},Jf={exports:{}},ue={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,m=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function x(te){return typeof te=="string"||typeof te=="function"||te===r||te===d||te===i||te===a||te===f||te===p||typeof te=="object"&&te!==null&&(te.$$typeof===v||te.$$typeof===h||te.$$typeof===o||te.$$typeof===s||te.$$typeof===u||te.$$typeof===m||te.$$typeof===b||te.$$typeof===y||te.$$typeof===g)}function w(te){if(typeof te=="object"&&te!==null){var Gi=te.$$typeof;switch(Gi){case t:var ra=te.type;switch(ra){case c:case d:case r:case i:case a:case f:return ra;default:var ll=ra&&ra.$$typeof;switch(ll){case s:case u:case v:case h:case o:return ll;default:return Gi}}case n:return Gi}}}var C=c,_=d,A=s,R=o,S=t,P=u,j=r,I=v,M=h,T=n,N=i,F=a,B=f,H=!1;function E(te){return H||(H=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),k(te)||w(te)===c}function k(te){return w(te)===d}function Y(te){return w(te)===s}function $(te){return w(te)===o}function U(te){return typeof te=="object"&&te!==null&&te.$$typeof===t}function V(te){return w(te)===u}function z(te){return w(te)===r}function D(te){return w(te)===v}function L(te){return w(te)===h}function W(te){return w(te)===n}function ee(te){return w(te)===i}function hr(te){return w(te)===a}function Wi(te){return w(te)===f}ue.AsyncMode=C,ue.ConcurrentMode=_,ue.ContextConsumer=A,ue.ContextProvider=R,ue.Element=S,ue.ForwardRef=P,ue.Fragment=j,ue.Lazy=I,ue.Memo=M,ue.Portal=T,ue.Profiler=N,ue.StrictMode=F,ue.Suspense=B,ue.isAsyncMode=E,ue.isConcurrentMode=k,ue.isContextConsumer=Y,ue.isContextProvider=$,ue.isElement=U,ue.isForwardRef=V,ue.isFragment=z,ue.isLazy=D,ue.isMemo=L,ue.isPortal=W,ue.isProfiler=ee,ue.isStrictMode=hr,ue.isSuspense=Wi,ue.isValidElementType=x,ue.typeOf=w})();Jf.exports=ue;var qf=Jf.exports;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Uc=Object.getOwnPropertySymbols,FE=Object.prototype.hasOwnProperty,HE=Object.prototype.propertyIsEnumerable;function WE(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function GE(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var VE=GE()?Object.assign:function(e,t){for(var n,r=WE(e),a,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)FE.call(n,o)&&(r[o]=n[o]);if(Uc){a=Uc(n);for(var s=0;s<a.length;s++)HE.call(n,a[s])&&(r[a[s]]=n[a[s]])}}return r},UE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",e0=UE,t0=Function.call.bind(Object.prototype.hasOwnProperty),Vo=function(){};{var YE=e0,Uo={},XE=t0;Vo=function(e){var t="Warning: "+e;typeof console<"u"&&console.error(t);try{throw new Error(t)}catch{}}}function n0(e,t,n,r,a){for(var i in e)if(XE(e,i)){var o;try{if(typeof e[i]!="function"){var s=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw s.name="Invariant Violation",s}o=e[i](t,i,r,n,null,YE)}catch(d){o=d}if(o&&!(o instanceof Error)&&Vo((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof o+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),o instanceof Error&&!(o.message in Uo)){Uo[o.message]=!0;var c=a?a():"";Vo("Failed "+n+" type: "+o.message+(c??""))}}}n0.resetWarningCache=function(){Uo={}};var ZE=n0,KE=qf,QE=VE,gn=e0,uo=t0,Yc=ZE,An=function(){};An=function(e){var t="Warning: "+e;typeof console<"u"&&console.error(t);try{throw new Error(t)}catch{}};function ma(){return null}var JE=function(e,t){var n=typeof Symbol=="function"&&Symbol.iterator,r="@@iterator";function a(M){var T=M&&(n&&M[n]||M[r]);if(typeof T=="function")return T}var i="<<anonymous>>",o={array:u("array"),bigint:u("bigint"),bool:u("boolean"),func:u("function"),number:u("number"),object:u("object"),string:u("string"),symbol:u("symbol"),any:f(),arrayOf:p,element:h(),elementType:v(),instanceOf:g,node:x(),objectOf:b,oneOf:m,oneOfType:y,shape:C,exact:_};function s(M,T){return M===T?M!==0||1/M===1/T:M!==M&&T!==T}function c(M,T){this.message=M,this.data=T&&typeof T=="object"?T:{},this.stack=""}c.prototype=Error.prototype;function d(M){var T={},N=0;function F(H,E,k,Y,$,U,V){if(Y=Y||i,U=U||k,V!==gn){if(t){var z=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw z.name="Invariant Violation",z}else if(typeof console<"u"){var D=Y+":"+k;!T[D]&&N<3&&(An("You are manually calling a React.PropTypes validation function for the `"+U+"` prop on `"+Y+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),T[D]=!0,N++)}}return E[k]==null?H?E[k]===null?new c("The "+$+" `"+U+"` is marked as required "+("in `"+Y+"`, but its value is `null`.")):new c("The "+$+" `"+U+"` is marked as required in "+("`"+Y+"`, but its value is `undefined`.")):null:M(E,k,Y,$,U)}var B=F.bind(null,!1);return B.isRequired=F.bind(null,!0),B}function u(M){function T(N,F,B,H,E,k){var Y=N[F],$=S(Y);if($!==M){var U=P(Y);return new c("Invalid "+H+" `"+E+"` of type "+("`"+U+"` supplied to `"+B+"`, expected ")+("`"+M+"`."),{expectedType:M})}return null}return d(T)}function f(){return d(ma)}function p(M){function T(N,F,B,H,E){if(typeof M!="function")return new c("Property `"+E+"` of component `"+B+"` has invalid PropType notation inside arrayOf.");var k=N[F];if(!Array.isArray(k)){var Y=S(k);return new c("Invalid "+H+" `"+E+"` of type "+("`"+Y+"` supplied to `"+B+"`, expected an array."))}for(var $=0;$<k.length;$++){var U=M(k,$,B,H,E+"["+$+"]",gn);if(U instanceof Error)return U}return null}return d(T)}function h(){function M(T,N,F,B,H){var E=T[N];if(!e(E)){var k=S(E);return new c("Invalid "+B+" `"+H+"` of type "+("`"+k+"` supplied to `"+F+"`, expected a single ReactElement."))}return null}return d(M)}function v(){function M(T,N,F,B,H){var E=T[N];if(!KE.isValidElementType(E)){var k=S(E);return new c("Invalid "+B+" `"+H+"` of type "+("`"+k+"` supplied to `"+F+"`, expected a single ReactElement type."))}return null}return d(M)}function g(M){function T(N,F,B,H,E){if(!(N[F]instanceof M)){var k=M.name||i,Y=I(N[F]);return new c("Invalid "+H+" `"+E+"` of type "+("`"+Y+"` supplied to `"+B+"`, expected ")+("instance of `"+k+"`."))}return null}return d(T)}function m(M){if(!Array.isArray(M))return arguments.length>1?An("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):An("Invalid argument supplied to oneOf, expected an array."),ma;function T(N,F,B,H,E){for(var k=N[F],Y=0;Y<M.length;Y++)if(s(k,M[Y]))return null;var $=JSON.stringify(M,function(V,z){var D=P(z);return D==="symbol"?String(z):z});return new c("Invalid "+H+" `"+E+"` of value `"+String(k)+"` "+("supplied to `"+B+"`, expected one of "+$+"."))}return d(T)}function b(M){function T(N,F,B,H,E){if(typeof M!="function")return new c("Property `"+E+"` of component `"+B+"` has invalid PropType notation inside objectOf.");var k=N[F],Y=S(k);if(Y!=="object")return new c("Invalid "+H+" `"+E+"` of type "+("`"+Y+"` supplied to `"+B+"`, expected an object."));for(var $ in k)if(uo(k,$)){var U=M(k,$,B,H,E+"."+$,gn);if(U instanceof Error)return U}return null}return d(T)}function y(M){if(!Array.isArray(M))return An("Invalid argument supplied to oneOfType, expected an instance of array."),ma;for(var T=0;T<M.length;T++){var N=M[T];if(typeof N!="function")return An("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+j(N)+" at index "+T+"."),ma}function F(B,H,E,k,Y){for(var $=[],U=0;U<M.length;U++){var V=M[U],z=V(B,H,E,k,Y,gn);if(z==null)return null;z.data&&uo(z.data,"expectedType")&&$.push(z.data.expectedType)}var D=$.length>0?", expected one of type ["+$.join(", ")+"]":"";return new c("Invalid "+k+" `"+Y+"` supplied to "+("`"+E+"`"+D+"."))}return d(F)}function x(){function M(T,N,F,B,H){return A(T[N])?null:new c("Invalid "+B+" `"+H+"` supplied to "+("`"+F+"`, expected a ReactNode."))}return d(M)}function w(M,T,N,F,B){return new c((M||"React class")+": "+T+" type `"+N+"."+F+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+B+"`.")}function C(M){function T(N,F,B,H,E){var k=N[F],Y=S(k);if(Y!=="object")return new c("Invalid "+H+" `"+E+"` of type `"+Y+"` "+("supplied to `"+B+"`, expected `object`."));for(var $ in M){var U=M[$];if(typeof U!="function")return w(B,H,E,$,P(U));var V=U(k,$,B,H,E+"."+$,gn);if(V)return V}return null}return d(T)}function _(M){function T(N,F,B,H,E){var k=N[F],Y=S(k);if(Y!=="object")return new c("Invalid "+H+" `"+E+"` of type `"+Y+"` "+("supplied to `"+B+"`, expected `object`."));var $=QE({},N[F],M);for(var U in $){var V=M[U];if(uo(M,U)&&typeof V!="function")return w(B,H,E,U,P(V));if(!V)return new c("Invalid "+H+" `"+E+"` key `"+U+"` supplied to `"+B+"`.\nBad object: "+JSON.stringify(N[F],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(M),null,"  "));var z=V(k,U,B,H,E+"."+U,gn);if(z)return z}return null}return d(T)}function A(M){switch(typeof M){case"number":case"string":case"undefined":return!0;case"boolean":return!M;case"object":if(Array.isArray(M))return M.every(A);if(M===null||e(M))return!0;var T=a(M);if(T){var N=T.call(M),F;if(T!==M.entries){for(;!(F=N.next()).done;)if(!A(F.value))return!1}else for(;!(F=N.next()).done;){var B=F.value;if(B&&!A(B[1]))return!1}}else return!1;return!0;default:return!1}}function R(M,T){return M==="symbol"?!0:T?T["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&T instanceof Symbol:!1}function S(M){var T=typeof M;return Array.isArray(M)?"array":M instanceof RegExp?"object":R(T,M)?"symbol":T}function P(M){if(typeof M>"u"||M===null)return""+M;var T=S(M);if(T==="object"){if(M instanceof Date)return"date";if(M instanceof RegExp)return"regexp"}return T}function j(M){var T=P(M);switch(T){case"array":case"object":return"an "+T;case"boolean":case"date":case"regexp":return"a "+T;default:return T}}function I(M){return!M.constructor||!M.constructor.name?i:M.constructor.name}return o.checkPropTypes=Yc,o.resetWarningCache=Yc.resetWarningCache,o.PropTypes=o,o};{var qE=qf,eS=!0;Qf.exports=JE(qE.isElement,eS)}var tS=Qf.exports;const X=Vd(tS);function nS(){this.__data__=[],this.size=0}function ta(e,t){return e===t||e!==e&&t!==t}function Ri(e,t){for(var n=e.length;n--;)if(ta(e[n][0],t))return n;return-1}var rS=Array.prototype,aS=rS.splice;function iS(e){var t=this.__data__,n=Ri(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():aS.call(t,n,1),--this.size,!0}function oS(e){var t=this.__data__,n=Ri(t,e);return n<0?void 0:t[n][1]}function sS(e){return Ri(this.__data__,e)>-1}function lS(e,t){var n=this.__data__,r=Ri(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function At(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}At.prototype.clear=nS;At.prototype.delete=iS;At.prototype.get=oS;At.prototype.has=sS;At.prototype.set=lS;function cS(){this.__data__=new At,this.size=0}function dS(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function uS(e){return this.__data__.get(e)}function fS(e){return this.__data__.has(e)}var r0=typeof global=="object"&&global&&global.Object===Object&&global,hS=typeof self=="object"&&self&&self.Object===Object&&self,dt=r0||hS||Function("return this")(),Bt=dt.Symbol,a0=Object.prototype,pS=a0.hasOwnProperty,gS=a0.toString,xr=Bt?Bt.toStringTag:void 0;function vS(e){var t=pS.call(e,xr),n=e[xr];try{e[xr]=void 0;var r=!0}catch{}var a=gS.call(e);return r&&(t?e[xr]=n:delete e[xr]),a}var mS=Object.prototype,bS=mS.toString;function yS(e){return bS.call(e)}var wS="[object Null]",xS="[object Undefined]",Xc=Bt?Bt.toStringTag:void 0;function ln(e){return e==null?e===void 0?xS:wS:Xc&&Xc in Object(e)?vS(e):yS(e)}function Je(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ES="[object AsyncFunction]",SS="[object Function]",CS="[object GeneratorFunction]",_S="[object Proxy]";function zs(e){if(!Je(e))return!1;var t=ln(e);return t==SS||t==CS||t==ES||t==_S}var fo=dt["__core-js_shared__"],Zc=function(){var e=/[^.]+$/.exec(fo&&fo.keys&&fo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function MS(e){return!!Zc&&Zc in e}var AS=Function.prototype,OS=AS.toString;function cn(e){if(e!=null){try{return OS.call(e)}catch{}try{return e+""}catch{}}return""}var TS=/[\\^$.*+?()[\]{}|]/g,PS=/^\[object .+?Constructor\]$/,$S=Function.prototype,IS=Object.prototype,zS=$S.toString,RS=IS.hasOwnProperty,DS=RegExp("^"+zS.call(RS).replace(TS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NS(e){if(!Je(e)||MS(e))return!1;var t=zs(e)?DS:PS;return t.test(cn(e))}function jS(e,t){return e==null?void 0:e[t]}function dn(e,t){var n=jS(e,t);return NS(n)?n:void 0}var Wr=dn(dt,"Map"),Gr=dn(Object,"create");function LS(){this.__data__=Gr?Gr(null):{},this.size=0}function kS(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var BS="__lodash_hash_undefined__",FS=Object.prototype,HS=FS.hasOwnProperty;function WS(e){var t=this.__data__;if(Gr){var n=t[e];return n===BS?void 0:n}return HS.call(t,e)?t[e]:void 0}var GS=Object.prototype,VS=GS.hasOwnProperty;function US(e){var t=this.__data__;return Gr?t[e]!==void 0:VS.call(t,e)}var YS="__lodash_hash_undefined__";function XS(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Gr&&t===void 0?YS:t,this}function en(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}en.prototype.clear=LS;en.prototype.delete=kS;en.prototype.get=WS;en.prototype.has=US;en.prototype.set=XS;function ZS(){this.size=0,this.__data__={hash:new en,map:new(Wr||At),string:new en}}function KS(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Di(e,t){var n=e.__data__;return KS(t)?n[typeof t=="string"?"string":"hash"]:n.map}function QS(e){var t=Di(this,e).delete(e);return this.size-=t?1:0,t}function JS(e){return Di(this,e).get(e)}function qS(e){return Di(this,e).has(e)}function e7(e,t){var n=Di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Ot(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ot.prototype.clear=ZS;Ot.prototype.delete=QS;Ot.prototype.get=JS;Ot.prototype.has=qS;Ot.prototype.set=e7;var t7=200;function n7(e,t){var n=this.__data__;if(n instanceof At){var r=n.__data__;if(!Wr||r.length<t7-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ot(r)}return n.set(e,t),this.size=n.size,this}function pt(e){var t=this.__data__=new At(e);this.size=t.size}pt.prototype.clear=cS;pt.prototype.delete=dS;pt.prototype.get=uS;pt.prototype.has=fS;pt.prototype.set=n7;var di=function(){try{var e=dn(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Rs(e,t,n){t=="__proto__"&&di?di(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Yo(e,t,n){(n!==void 0&&!ta(e[t],n)||n===void 0&&!(t in e))&&Rs(e,t,n)}function r7(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++a];if(n(i[c],c,i)===!1)break}return t}}var i0=r7(),o0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Kc=o0&&typeof module=="object"&&module&&!module.nodeType&&module,a7=Kc&&Kc.exports===o0,Qc=a7?dt.Buffer:void 0,Jc=Qc?Qc.allocUnsafe:void 0;function i7(e,t){if(t)return e.slice();var n=e.length,r=Jc?Jc(n):new e.constructor(n);return e.copy(r),r}var ui=dt.Uint8Array;function o7(e){var t=new e.constructor(e.byteLength);return new ui(t).set(new ui(e)),t}function s7(e,t){var n=t?o7(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function l7(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var qc=Object.create,c7=function(){function e(){}return function(t){if(!Je(t))return{};if(qc)return qc(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function s0(e,t){return function(n){return e(t(n))}}var d7=s0(Object.getPrototypeOf,Object);const l0=d7;var u7=Object.prototype;function Ds(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||u7;return e===n}function f7(e){return typeof e.constructor=="function"&&!Ds(e)?c7(l0(e)):{}}function Ft(e){return e!=null&&typeof e=="object"}var h7="[object Arguments]";function ed(e){return Ft(e)&&ln(e)==h7}var c0=Object.prototype,p7=c0.hasOwnProperty,g7=c0.propertyIsEnumerable,v7=ed(function(){return arguments}())?ed:function(e){return Ft(e)&&p7.call(e,"callee")&&!g7.call(e,"callee")};const fi=v7;var Ge=Array.isArray,m7=9007199254740991;function Ns(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=m7}function ur(e){return e!=null&&Ns(e.length)&&!zs(e)}function b7(e){return Ft(e)&&ur(e)}function y7(){return!1}var d0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,td=d0&&typeof module=="object"&&module&&!module.nodeType&&module,w7=td&&td.exports===d0,nd=w7?dt.Buffer:void 0,x7=nd?nd.isBuffer:void 0,hi=x7||y7,E7="[object Object]",S7=Function.prototype,C7=Object.prototype,u0=S7.toString,_7=C7.hasOwnProperty,M7=u0.call(Object);function A7(e){if(!Ft(e)||ln(e)!=E7)return!1;var t=l0(e);if(t===null)return!0;var n=_7.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&u0.call(n)==M7}var O7="[object Arguments]",T7="[object Array]",P7="[object Boolean]",$7="[object Date]",I7="[object Error]",z7="[object Function]",R7="[object Map]",D7="[object Number]",N7="[object Object]",j7="[object RegExp]",L7="[object Set]",k7="[object String]",B7="[object WeakMap]",F7="[object ArrayBuffer]",H7="[object DataView]",W7="[object Float32Array]",G7="[object Float64Array]",V7="[object Int8Array]",U7="[object Int16Array]",Y7="[object Int32Array]",X7="[object Uint8Array]",Z7="[object Uint8ClampedArray]",K7="[object Uint16Array]",Q7="[object Uint32Array]",Ee={};Ee[W7]=Ee[G7]=Ee[V7]=Ee[U7]=Ee[Y7]=Ee[X7]=Ee[Z7]=Ee[K7]=Ee[Q7]=!0;Ee[O7]=Ee[T7]=Ee[F7]=Ee[P7]=Ee[H7]=Ee[$7]=Ee[I7]=Ee[z7]=Ee[R7]=Ee[D7]=Ee[N7]=Ee[j7]=Ee[L7]=Ee[k7]=Ee[B7]=!1;function J7(e){return Ft(e)&&Ns(e.length)&&!!Ee[ln(e)]}function q7(e){return function(t){return e(t)}}var f0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Br=f0&&typeof module=="object"&&module&&!module.nodeType&&module,eC=Br&&Br.exports===f0,ho=eC&&r0.process,rd=function(){try{var e=Br&&Br.require&&Br.require("util").types;return e||ho&&ho.binding&&ho.binding("util")}catch{}}(),ad=rd&&rd.isTypedArray,js=ad?q7(ad):J7;function Xo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var tC=Object.prototype,nC=tC.hasOwnProperty;function rC(e,t,n){var r=e[t];(!(nC.call(e,t)&&ta(r,n))||n===void 0&&!(t in e))&&Rs(e,t,n)}function aC(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;c===void 0&&(c=e[s]),a?Rs(n,s,c):rC(n,s,c)}return n}function iC(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var oC=9007199254740991,sC=/^(?:0|[1-9]\d*)$/;function Ls(e,t){var n=typeof e;return t=t??oC,!!t&&(n=="number"||n!="symbol"&&sC.test(e))&&e>-1&&e%1==0&&e<t}var lC=Object.prototype,cC=lC.hasOwnProperty;function h0(e,t){var n=Ge(e),r=!n&&fi(e),a=!n&&!r&&hi(e),i=!n&&!r&&!a&&js(e),o=n||r||a||i,s=o?iC(e.length,String):[],c=s.length;for(var d in e)(t||cC.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Ls(d,c)))&&s.push(d);return s}function dC(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var uC=Object.prototype,fC=uC.hasOwnProperty;function hC(e){if(!Je(e))return dC(e);var t=Ds(e),n=[];for(var r in e)r=="constructor"&&(t||!fC.call(e,r))||n.push(r);return n}function p0(e){return ur(e)?h0(e,!0):hC(e)}function pC(e){return aC(e,p0(e))}function gC(e,t,n,r,a,i,o){var s=Xo(e,n),c=Xo(t,n),d=o.get(c);if(d){Yo(e,n,d);return}var u=i?i(s,c,n+"",e,t,o):void 0,f=u===void 0;if(f){var p=Ge(c),h=!p&&hi(c),v=!p&&!h&&js(c);u=c,p||h||v?Ge(s)?u=s:b7(s)?u=l7(s):h?(f=!1,u=i7(c,!0)):v?(f=!1,u=s7(c,!0)):u=[]:A7(c)||fi(c)?(u=s,fi(s)?u=pC(s):(!Je(s)||zs(s))&&(u=f7(c))):f=!1}f&&(o.set(c,u),a(u,c,r,i,o),o.delete(c)),Yo(e,n,u)}function g0(e,t,n,r,a){e!==t&&i0(t,function(i,o){if(a||(a=new pt),Je(i))gC(e,t,o,n,g0,r,a);else{var s=r?r(Xo(e,o),i,o+"",e,t,a):void 0;s===void 0&&(s=i),Yo(e,o,s)}},p0)}function Ni(e){return e}function vC(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var id=Math.max;function mC(e,t,n){return t=id(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=id(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(o),vC(e,this,s)}}function bC(e){return function(){return e}}var yC=di?function(e,t){return di(e,"toString",{configurable:!0,enumerable:!1,value:bC(t),writable:!0})}:Ni;const wC=yC;var xC=800,EC=16,SC=Date.now;function CC(e){var t=0,n=0;return function(){var r=SC(),a=EC-(r-n);if(n=r,a>0){if(++t>=xC)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _C=CC(wC);function MC(e,t){return _C(mC(e,t,Ni),e+"")}function AC(e,t,n){if(!Je(n))return!1;var r=typeof t;return(r=="number"?ur(n)&&Ls(t,n.length):r=="string"&&t in n)?ta(n[t],e):!1}function OC(e){return MC(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&AC(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var s=n[r];s&&e(t,s,r,i)}return t})}var Le=OC(function(e,t,n){g0(e,t,n)}),na=function(t){var n=t.zDepth,r=t.radius,a=t.background,i=t.children,o=t.styles,s=o===void 0?{}:o,c=ie(Le({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:a}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":n===1});return l.createElement("div",{style:c.wrap},l.createElement("div",{style:c.bg}),l.createElement("div",{style:c.content},i))};na.propTypes={background:X.string,zDepth:X.oneOf([0,1,2,3,4,5]),radius:X.number,styles:X.object};na.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var po=function(){return dt.Date.now()},TC=/\s/;function PC(e){for(var t=e.length;t--&&TC.test(e.charAt(t)););return t}var $C=/^\s+/;function IC(e){return e&&e.slice(0,PC(e)+1).replace($C,"")}var zC="[object Symbol]";function ji(e){return typeof e=="symbol"||Ft(e)&&ln(e)==zC}var od=NaN,RC=/^[-+]0x[0-9a-f]+$/i,DC=/^0b[01]+$/i,NC=/^0o[0-7]+$/i,jC=parseInt;function sd(e){if(typeof e=="number")return e;if(ji(e))return od;if(Je(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Je(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=IC(e);var n=DC.test(e);return n||NC.test(e)?jC(e.slice(2),n?2:8):RC.test(e)?od:+e}var LC="Expected a function",kC=Math.max,BC=Math.min;function v0(e,t,n){var r,a,i,o,s,c,d=0,u=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(LC);t=sd(t)||0,Je(n)&&(u=!!n.leading,f="maxWait"in n,i=f?kC(sd(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function h(_){var A=r,R=a;return r=a=void 0,d=_,o=e.apply(R,A),o}function v(_){return d=_,s=setTimeout(b,t),u?h(_):o}function g(_){var A=_-c,R=_-d,S=t-A;return f?BC(S,i-R):S}function m(_){var A=_-c,R=_-d;return c===void 0||A>=t||A<0||f&&R>=i}function b(){var _=po();if(m(_))return y(_);s=setTimeout(b,g(_))}function y(_){return s=void 0,p&&r?h(_):(r=a=void 0,o)}function x(){s!==void 0&&clearTimeout(s),d=0,r=c=a=s=void 0}function w(){return s===void 0?o:y(po())}function C(){var _=po(),A=m(_);if(r=arguments,a=this,c=_,A){if(s===void 0)return v(c);if(f)return clearTimeout(s),s=setTimeout(b,t),h(c)}return s===void 0&&(s=setTimeout(b,t)),o}return C.cancel=x,C.flush=w,C}var FC="Expected a function";function HC(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(FC);return Je(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),v0(e,t,{leading:r,maxWait:t,trailing:a})}var WC=function(t,n,r){var a=r.getBoundingClientRect(),i=a.width,o=a.height,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,c=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,d=s-(r.getBoundingClientRect().left+window.pageXOffset),u=c-(r.getBoundingClientRect().top+window.pageYOffset);d<0?d=0:d>i&&(d=i),u<0?u=0:u>o&&(u=o);var f=d/i,p=1-u/o;return{h:n.h,s:f,v:p,a:n.a,source:"hsv"}},GC=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function VC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function YC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Li=function(e){YC(t,e);function t(n){VC(this,t);var r=UC(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.handleChange=function(a){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,WC(a,r.props.hsl,r.container),a)},r.handleMouseDown=function(a){r.handleChange(a);var i=r.getContainerRenderWindow();i.addEventListener("mousemove",r.handleChange),i.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=HC(function(a,i,o){a(i,o)},50),r}return GC(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,a=window;!a.document.contains(r)&&a.parent!==a;)a=a.parent;return a}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,a=this.props.style||{},i=a.color,o=a.white,s=a.black,c=a.pointer,d=a.circle,u=ie({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:i,white:o,black:s,pointer:c,circle:d}},{custom:!!this.props.style});return l.createElement("div",{style:u.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),l.createElement("div",{style:u.white,className:"saturation-white"},l.createElement("div",{style:u.black,className:"saturation-black"}),l.createElement("div",{style:u.pointer},this.props.pointer?l.createElement(this.props.pointer,this.props):l.createElement("div",{style:u.circle}))))}}]),t}(O.PureComponent||O.Component);function XC(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var ZC=s0(Object.keys,Object),KC=Object.prototype,QC=KC.hasOwnProperty;function JC(e){if(!Ds(e))return ZC(e);var t=[];for(var n in Object(e))QC.call(e,n)&&n!="constructor"&&t.push(n);return t}function ks(e){return ur(e)?h0(e):JC(e)}function qC(e,t){return e&&i0(e,t,ks)}function e_(e,t){return function(n,r){if(n==null)return n;if(!ur(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var t_=e_(qC);const m0=t_;function n_(e){return typeof e=="function"?e:Ni}function r_(e,t){var n=Ge(e)?XC:m0;return n(e,n_(t))}function pi(e){"@babel/helpers - typeof";return pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pi(e)}var a_=/^\s+/,i_=/\s+$/;function q(e,t){if(e=e||"",t=t||{},e instanceof q)return e;if(!(this instanceof q))return new q(e,t);var n=o_(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}q.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,a,i,o,s;return n=t.r/255,r=t.g/255,a=t.b/255,n<=.03928?i=n/12.92:i=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*i+.7152*o+.0722*s},setAlpha:function(t){return this._a=b0(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=cd(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=cd(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+a+"%)":"hsva("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=ld(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=ld(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+a+"%)":"hsla("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return dd(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return d_(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ce(this._r,255)*100)+"%",g:Math.round(Ce(this._g,255)*100)+"%",b:Math.round(Ce(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ce(this._r,255)*100)+"%, "+Math.round(Ce(this._g,255)*100)+"%, "+Math.round(Ce(this._b,255)*100)+"%)":"rgba("+Math.round(Ce(this._r,255)*100)+"%, "+Math.round(Ce(this._g,255)*100)+"%, "+Math.round(Ce(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:E_[dd(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+ud(this._r,this._g,this._b,this._a),r=n,a=this._gradientType?"GradientType = 1, ":"";if(t){var i=q(t);r="#"+ud(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,a=this._a<1&&this._a>=0,i=!n&&a&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return q(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(p_,arguments)},brighten:function(){return this._applyModification(g_,arguments)},darken:function(){return this._applyModification(v_,arguments)},desaturate:function(){return this._applyModification(u_,arguments)},saturate:function(){return this._applyModification(f_,arguments)},greyscale:function(){return this._applyModification(h_,arguments)},spin:function(){return this._applyModification(m_,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(w_,arguments)},complement:function(){return this._applyCombination(b_,arguments)},monochromatic:function(){return this._applyCombination(x_,arguments)},splitcomplement:function(){return this._applyCombination(y_,arguments)},triad:function(){return this._applyCombination(fd,[3])},tetrad:function(){return this._applyCombination(fd,[4])}};q.fromRatio=function(e,t){if(pi(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Ir(e[r]));e=n}return q(e,t)};function o_(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,i=null,o=!1,s=!1;return typeof e=="string"&&(e=M_(e)),pi(e)=="object"&&(mt(e.r)&&mt(e.g)&&mt(e.b)?(t=s_(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):mt(e.h)&&mt(e.s)&&mt(e.v)?(r=Ir(e.s),a=Ir(e.v),t=c_(e.h,r,a),o=!0,s="hsv"):mt(e.h)&&mt(e.s)&&mt(e.l)&&(r=Ir(e.s),i=Ir(e.l),t=l_(e.h,r,i),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=b0(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function s_(e,t,n){return{r:Ce(e,255)*255,g:Ce(t,255)*255,b:Ce(n,255)*255}}function ld(e,t,n){e=Ce(e,255),t=Ce(t,255),n=Ce(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i,o,s=(r+a)/2;if(r==a)i=o=0;else{var c=r-a;switch(o=s>.5?c/(2-r-a):c/(r+a),r){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i/=6}return{h:i,s:o,l:s}}function l_(e,t,n){var r,a,i;e=Ce(e,360),t=Ce(t,100),n=Ce(n,100);function o(d,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?d+(u-d)*6*f:f<1/2?u:f<2/3?d+(u-d)*(2/3-f)*6:d}if(t===0)r=a=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;r=o(c,s,e+1/3),a=o(c,s,e),i=o(c,s,e-1/3)}return{r:r*255,g:a*255,b:i*255}}function cd(e,t,n){e=Ce(e,255),t=Ce(t,255),n=Ce(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i,o,s=r,c=r-a;if(o=r===0?0:c/r,r==a)i=0;else{switch(r){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i/=6}return{h:i,s:o,v:s}}function c_(e,t,n){e=Ce(e,360)*6,t=Ce(t,100),n=Ce(n,100);var r=Math.floor(e),a=e-r,i=n*(1-t),o=n*(1-a*t),s=n*(1-(1-a)*t),c=r%6,d=[n,o,i,i,s,n][c],u=[s,n,n,o,i,i][c],f=[i,i,s,n,n,o][c];return{r:d*255,g:u*255,b:f*255}}function dd(e,t,n,r){var a=[st(Math.round(e).toString(16)),st(Math.round(t).toString(16)),st(Math.round(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function d_(e,t,n,r,a){var i=[st(Math.round(e).toString(16)),st(Math.round(t).toString(16)),st(Math.round(n).toString(16)),st(y0(r))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function ud(e,t,n,r){var a=[st(y0(r)),st(Math.round(e).toString(16)),st(Math.round(t).toString(16)),st(Math.round(n).toString(16))];return a.join("")}q.equals=function(e,t){return!e||!t?!1:q(e).toRgbString()==q(t).toRgbString()};q.random=function(){return q.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function u_(e,t){t=t===0?0:t||10;var n=q(e).toHsl();return n.s-=t/100,n.s=ki(n.s),q(n)}function f_(e,t){t=t===0?0:t||10;var n=q(e).toHsl();return n.s+=t/100,n.s=ki(n.s),q(n)}function h_(e){return q(e).desaturate(100)}function p_(e,t){t=t===0?0:t||10;var n=q(e).toHsl();return n.l+=t/100,n.l=ki(n.l),q(n)}function g_(e,t){t=t===0?0:t||10;var n=q(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),q(n)}function v_(e,t){t=t===0?0:t||10;var n=q(e).toHsl();return n.l-=t/100,n.l=ki(n.l),q(n)}function m_(e,t){var n=q(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,q(n)}function b_(e){var t=q(e).toHsl();return t.h=(t.h+180)%360,q(t)}function fd(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=q(e).toHsl(),r=[q(e)],a=360/t,i=1;i<t;i++)r.push(q({h:(n.h+i*a)%360,s:n.s,l:n.l}));return r}function y_(e){var t=q(e).toHsl(),n=t.h;return[q(e),q({h:(n+72)%360,s:t.s,l:t.l}),q({h:(n+216)%360,s:t.s,l:t.l})]}function w_(e,t,n){t=t||6,n=n||30;var r=q(e).toHsl(),a=360/n,i=[q(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(q(r));return i}function x_(e,t){t=t||6;for(var n=q(e).toHsv(),r=n.h,a=n.s,i=n.v,o=[],s=1/t;t--;)o.push(q({h:r,s:a,v:i})),i=(i+s)%1;return o}q.mix=function(e,t,n){n=n===0?0:n||50;var r=q(e).toRgb(),a=q(t).toRgb(),i=n/100,o={r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a};return q(o)};q.readability=function(e,t){var n=q(e),r=q(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};q.isReadable=function(e,t,n){var r=q.readability(e,t),a,i;switch(i=!1,a=A_(n),a.level+a.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7;break}return i};q.mostReadable=function(e,t,n){var r=null,a=0,i,o,s,c;n=n||{},o=n.includeFallbackColors,s=n.level,c=n.size;for(var d=0;d<t.length;d++)i=q.readability(e,t[d]),i>a&&(a=i,r=q(t[d]));return q.isReadable(e,r,{level:s,size:c})||!o?r:(n.includeFallbackColors=!1,q.mostReadable(e,["#fff","#000"],n))};var Zo=q.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E_=q.hexNames=S_(Zo);function S_(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function b0(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ce(e,t){C_(e)&&(e="100%");var n=__(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function ki(e){return Math.min(1,Math.max(0,e))}function Fe(e){return parseInt(e,16)}function C_(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function __(e){return typeof e=="string"&&e.indexOf("%")!=-1}function st(e){return e.length==1?"0"+e:""+e}function Ir(e){return e<=1&&(e=e*100+"%"),e}function y0(e){return Math.round(parseFloat(e)*255).toString(16)}function hd(e){return Fe(e)/255}var at=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function mt(e){return!!at.CSS_UNIT.exec(e)}function M_(e){e=e.replace(a_,"").replace(i_,"").toLowerCase();var t=!1;if(Zo[e])e=Zo[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=at.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=at.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=at.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=at.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=at.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=at.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=at.hex8.exec(e))?{r:Fe(n[1]),g:Fe(n[2]),b:Fe(n[3]),a:hd(n[4]),format:t?"name":"hex8"}:(n=at.hex6.exec(e))?{r:Fe(n[1]),g:Fe(n[2]),b:Fe(n[3]),format:t?"name":"hex"}:(n=at.hex4.exec(e))?{r:Fe(n[1]+""+n[1]),g:Fe(n[2]+""+n[2]),b:Fe(n[3]+""+n[3]),a:hd(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=at.hex3.exec(e))?{r:Fe(n[1]+""+n[1]),g:Fe(n[2]+""+n[2]),b:Fe(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function A_(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}var pd=function(t){var n=["r","g","b","a","h","s","l","v"],r=0,a=0;return r_(n,function(i){if(t[i]&&(r+=1,isNaN(t[i])||(a+=1),i==="s"||i==="l")){var o=/^\d+%$/;o.test(t[i])&&(a+=1)}}),r===a?t:!1},zr=function(t,n){var r=t.hex?q(t.hex):q(t),a=r.toHsl(),i=r.toHsv(),o=r.toRgb(),s=r.toHex();a.s===0&&(a.h=n||0,i.h=n||0);var c=s==="000000"&&o.a===0;return{hsl:a,hex:c?"transparent":"#"+s,rgb:o,hsv:i,oldHue:t.h||n||a.h,source:t.source}},Wt=function(t){if(t==="transparent")return!0;var n=String(t).charAt(0)==="#"?1:0;return t.length!==4+n&&t.length<7+n&&q(t).isValid()},Bs=function(t){if(!t)return"#fff";var n=zr(t);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},go=function(t,n){var r=t.replace("°","");return q(n+" ("+r+")")._ok},Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O_=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function T_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P_(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ke=function(t){var n=function(r){$_(a,r);function a(i){T_(this,a);var o=P_(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return o.handleChange=function(s,c){var d=pd(s);if(d){var u=zr(s,s.h||o.state.oldHue);o.setState(u),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,u,c),o.props.onChange&&o.props.onChange(u,c)}},o.handleSwatchHover=function(s,c){var d=pd(s);if(d){var u=zr(s,s.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(u,c)}},o.state=Er({},zr(i.color,0)),o.debounce=v0(function(s,c,d){s(c,d)},100),o}return O_(a,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),l.createElement(t,Er({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,s){return Er({},zr(o.color,s.oldHue))}}]),a}(O.PureComponent||O.Component);return n.propTypes=Er({},t.propTypes),n.defaultProps=Er({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},I_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z_=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function R_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function D_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){D_(a,r);function a(){var i,o,s,c;R_(this,a);for(var d=arguments.length,u=Array(d),f=0;f<d;f++)u[f]=arguments[f];return c=(o=(s=gd(this,(i=a.__proto__||Object.getPrototypeOf(a)).call.apply(i,[this].concat(u))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},o),gd(s,c)}return z_(a,[{key:"render",value:function(){return l.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},l.createElement(t,I_({},this.props,this.state)))}}]),a}(l.Component)},vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j_=13,L_=function(t){var n=t.color,r=t.style,a=t.onClick,i=a===void 0?function(){}:a,o=t.onHover,s=t.title,c=s===void 0?n:s,d=t.children,u=t.focus,f=t.focusStyle,p=f===void 0?{}:f,h=n==="transparent",v=ie({default:{swatch:vd({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?p:{})}}),g=function(w){return i(n,w)},m=function(w){return w.keyCode===j_&&i(n,w)},b=function(w){return o(n,w)},y={};return o&&(y.onMouseOver=b),l.createElement("div",vd({style:v.swatch,onClick:g,title:c,tabIndex:0,onKeyDown:m},y),d,h&&l.createElement(cr,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const un=N_(L_);var k_=function(t){var n=t.direction,r=ie({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return l.createElement("div",{style:r.picker})},B_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0=function(t){var n=t.rgb,r=t.hsl,a=t.width,i=t.height,o=t.onChange,s=t.direction,c=t.style,d=t.renderers,u=t.pointer,f=t.className,p=f===void 0?"":f,h=ie({default:{picker:{position:"relative",width:a,height:i},alpha:{radius:"2px",style:c}}});return l.createElement("div",{style:h.picker,className:"alpha-picker "+p},l.createElement(Is,B_({},h.alpha,{rgb:n,hsl:r,pointer:u,renderers:d,onChange:o,direction:s})))};w0.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:k_};ke(w0);function x0(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var F_="__lodash_hash_undefined__";function H_(e){return this.__data__.set(e,F_),this}function W_(e){return this.__data__.has(e)}function gi(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ot;++t<n;)this.add(e[t])}gi.prototype.add=gi.prototype.push=H_;gi.prototype.has=W_;function G_(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function V_(e,t){return e.has(t)}var U_=1,Y_=2;function E0(e,t,n,r,a,i){var o=n&U_,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,p=!0,h=n&Y_?new gi:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var v=e[f],g=t[f];if(r)var m=o?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(m!==void 0){if(m)continue;p=!1;break}if(h){if(!G_(t,function(b,y){if(!V_(h,y)&&(v===b||a(v,b,n,r,i)))return h.push(y)})){p=!1;break}}else if(!(v===g||a(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}function X_(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}function Z_(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var K_=1,Q_=2,J_="[object Boolean]",q_="[object Date]",eM="[object Error]",tM="[object Map]",nM="[object Number]",rM="[object RegExp]",aM="[object Set]",iM="[object String]",oM="[object Symbol]",sM="[object ArrayBuffer]",lM="[object DataView]",md=Bt?Bt.prototype:void 0,vo=md?md.valueOf:void 0;function cM(e,t,n,r,a,i,o){switch(n){case lM:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sM:return!(e.byteLength!=t.byteLength||!i(new ui(e),new ui(t)));case J_:case q_:case nM:return ta(+e,+t);case eM:return e.name==t.name&&e.message==t.message;case rM:case iM:return e==t+"";case tM:var s=X_;case aM:var c=r&K_;if(s||(s=Z_),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;r|=Q_,o.set(e,t);var u=E0(s(e),s(t),r,a,i,o);return o.delete(e),u;case oM:if(vo)return vo.call(e)==vo.call(t)}return!1}function dM(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function uM(e,t,n){var r=t(e);return Ge(e)?r:dM(r,n(e))}function fM(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function hM(){return[]}var pM=Object.prototype,gM=pM.propertyIsEnumerable,bd=Object.getOwnPropertySymbols,vM=bd?function(e){return e==null?[]:(e=Object(e),fM(bd(e),function(t){return gM.call(e,t)}))}:hM;const mM=vM;function yd(e){return uM(e,ks,mM)}var bM=1,yM=Object.prototype,wM=yM.hasOwnProperty;function xM(e,t,n,r,a,i){var o=n&bM,s=yd(e),c=s.length,d=yd(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var p=s[f];if(!(o?p in t:wM.call(t,p)))return!1}var h=i.get(e),v=i.get(t);if(h&&v)return h==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var m=o;++f<c;){p=s[f];var b=e[p],y=t[p];if(r)var x=o?r(y,b,p,t,e,i):r(b,y,p,e,t,i);if(!(x===void 0?b===y||a(b,y,n,r,i):x)){g=!1;break}m||(m=p=="constructor")}if(g&&!m){var w=e.constructor,C=t.constructor;w!=C&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof C=="function"&&C instanceof C)&&(g=!1)}return i.delete(e),i.delete(t),g}var Ko=dn(dt,"DataView"),Qo=dn(dt,"Promise"),Jo=dn(dt,"Set"),qo=dn(dt,"WeakMap"),wd="[object Map]",EM="[object Object]",xd="[object Promise]",Ed="[object Set]",Sd="[object WeakMap]",Cd="[object DataView]",SM=cn(Ko),CM=cn(Wr),_M=cn(Qo),MM=cn(Jo),AM=cn(qo),Zt=ln;(Ko&&Zt(new Ko(new ArrayBuffer(1)))!=Cd||Wr&&Zt(new Wr)!=wd||Qo&&Zt(Qo.resolve())!=xd||Jo&&Zt(new Jo)!=Ed||qo&&Zt(new qo)!=Sd)&&(Zt=function(e){var t=ln(e),n=t==EM?e.constructor:void 0,r=n?cn(n):"";if(r)switch(r){case SM:return Cd;case CM:return wd;case _M:return xd;case MM:return Ed;case AM:return Sd}return t});const _d=Zt;var OM=1,Md="[object Arguments]",Ad="[object Array]",ba="[object Object]",TM=Object.prototype,Od=TM.hasOwnProperty;function PM(e,t,n,r,a,i){var o=Ge(e),s=Ge(t),c=o?Ad:_d(e),d=s?Ad:_d(t);c=c==Md?ba:c,d=d==Md?ba:d;var u=c==ba,f=d==ba,p=c==d;if(p&&hi(e)){if(!hi(t))return!1;o=!0,u=!1}if(p&&!u)return i||(i=new pt),o||js(e)?E0(e,t,n,r,a,i):cM(e,t,c,n,r,a,i);if(!(n&OM)){var h=u&&Od.call(e,"__wrapped__"),v=f&&Od.call(t,"__wrapped__");if(h||v){var g=h?e.value():e,m=v?t.value():t;return i||(i=new pt),a(g,m,n,r,i)}}return p?(i||(i=new pt),xM(e,t,n,r,a,i)):!1}function Fs(e,t,n,r,a){return e===t?!0:e==null||t==null||!Ft(e)&&!Ft(t)?e!==e&&t!==t:PM(e,t,n,r,Fs,a)}var $M=1,IM=2;function zM(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var s=n[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=n[a];var c=s[0],d=e[c],u=s[1];if(o&&s[2]){if(d===void 0&&!(c in e))return!1}else{var f=new pt;if(r)var p=r(d,u,c,e,t,f);if(!(p===void 0?Fs(u,d,$M|IM,r,f):p))return!1}}return!0}function S0(e){return e===e&&!Je(e)}function RM(e){for(var t=ks(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,S0(a)]}return t}function C0(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function DM(e){var t=RM(e);return t.length==1&&t[0][2]?C0(t[0][0],t[0][1]):function(n){return n===e||zM(n,e,t)}}var NM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jM=/^\w*$/;function Hs(e,t){if(Ge(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ji(e)?!0:jM.test(e)||!NM.test(e)||t!=null&&e in Object(t)}var LM="Expected a function";function Ws(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(LM);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Ws.Cache||Ot),n}Ws.Cache=Ot;var kM=500;function BM(e){var t=Ws(e,function(r){return n.size===kM&&n.clear(),r}),n=t.cache;return t}var FM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,HM=/\\(\\)?/g,WM=BM(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(FM,function(n,r,a,i){t.push(a?i.replace(HM,"$1"):r||n)}),t}),GM=1/0,Td=Bt?Bt.prototype:void 0,Pd=Td?Td.toString:void 0;function _0(e){if(typeof e=="string")return e;if(Ge(e))return x0(e,_0)+"";if(ji(e))return Pd?Pd.call(e):"";var t=e+"";return t=="0"&&1/e==-GM?"-0":t}function VM(e){return e==null?"":_0(e)}function M0(e,t){return Ge(e)?e:Hs(e,t)?[e]:WM(VM(e))}var UM=1/0;function Bi(e){if(typeof e=="string"||ji(e))return e;var t=e+"";return t=="0"&&1/e==-UM?"-0":t}function A0(e,t){t=M0(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Bi(t[n++])];return n&&n==r?e:void 0}function YM(e,t,n){var r=e==null?void 0:A0(e,t);return r===void 0?n:r}function XM(e,t){return e!=null&&t in Object(e)}function ZM(e,t,n){t=M0(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=Bi(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&Ns(a)&&Ls(o,a)&&(Ge(e)||fi(e)))}function KM(e,t){return e!=null&&ZM(e,t,XM)}var QM=1,JM=2;function qM(e,t){return Hs(e)&&S0(t)?C0(Bi(e),t):function(n){var r=YM(n,e);return r===void 0&&r===t?KM(n,e):Fs(t,r,QM|JM)}}function eA(e){return function(t){return t==null?void 0:t[e]}}function tA(e){return function(t){return A0(t,e)}}function nA(e){return Hs(e)?eA(Bi(e)):tA(e)}function rA(e){return typeof e=="function"?e:e==null?Ni:typeof e=="object"?Ge(e)?qM(e[0],e[1]):DM(e):nA(e)}function aA(e,t){var n=-1,r=ur(e)?Array(e.length):[];return m0(e,function(a,i,o){r[++n]=t(a,i,o)}),r}function fn(e,t){var n=Ge(e)?x0:aA;return n(e,rA(t))}var iA=function(t){var n=t.colors,r=t.onClick,a=t.onSwatchHover,i=ie({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return l.createElement("div",{style:i.swatches},fn(n,function(o){return l.createElement(un,{key:o,color:o,style:i.swatch,onClick:r,onHover:a,focusStyle:{boxShadow:"0 0 4px "+o}})}),l.createElement("div",{style:i.clear}))},Gs=function(t){var n=t.onChange,r=t.onSwatchHover,a=t.hex,i=t.colors,o=t.width,s=t.triangle,c=t.styles,d=c===void 0?{}:c,u=t.className,f=u===void 0?"":u,p=a==="transparent",h=function(m,b){Wt(m)&&n({hex:m,source:"hex"},b)},v=ie(Le({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:a,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Bs(a),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+a+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},d),{"hide-triangle":s==="hide"});return l.createElement("div",{style:v.card,className:"block-picker "+f},l.createElement("div",{style:v.triangle}),l.createElement("div",{style:v.head},p&&l.createElement(cr,{borderRadius:"6px 6px 0 0"}),l.createElement("div",{style:v.label},a)),l.createElement("div",{style:v.body},l.createElement(iA,{colors:i,onClick:h,onSwatchHover:r}),l.createElement(oe,{style:{input:v.input},value:a,onChange:h})))};Gs.propTypes={width:X.oneOfType([X.string,X.number]),colors:X.arrayOf(X.string),triangle:X.oneOf(["top","hide"]),styles:X.object};Gs.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};ke(Gs);var On={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Tn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Pn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},$n={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},In={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},zn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Rn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Dn={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Nn={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Rr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},jn={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Ln={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},kn={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Bn={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Fn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Hn={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Wn={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Gn={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},O0=function(t){var n=t.color,r=t.onClick,a=t.onSwatchHover,i=t.hover,o=t.active,s=t.circleSize,c=t.circleSpacing,d=ie({default:{swatch:{width:s,height:s,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:i,active:o});return l.createElement("div",{style:d.swatch},l.createElement(un,{style:d.Swatch,color:n,onClick:r,onHover:a,focusStyle:{boxShadow:d.Swatch.boxShadow+", 0 0 5px "+n}}))};O0.defaultProps={circleSize:28,circleSpacing:14};const oA=$s(O0);var Vs=function(t){var n=t.width,r=t.onChange,a=t.onSwatchHover,i=t.colors,o=t.hex,s=t.circleSize,c=t.styles,d=c===void 0?{}:c,u=t.circleSpacing,f=t.className,p=f===void 0?"":f,h=ie(Le({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},d)),v=function(m,b){return r({hex:m,source:"hex"},b)};return l.createElement("div",{style:h.card,className:"circle-picker "+p},fn(i,function(g){return l.createElement(oA,{key:g,color:g,onClick:v,onSwatchHover:a,active:o===g.toLowerCase(),circleSize:s,circleSpacing:u})}))};Vs.propTypes={width:X.oneOfType([X.string,X.number]),circleSize:X.number,circleSpacing:X.number,styles:X.object};Vs.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[On[500],Tn[500],Pn[500],$n[500],In[500],zn[500],Rn[500],Dn[500],Nn[500],Rr[500],jn[500],Ln[500],kn[500],Bn[500],Fn[500],Hn[500],Wn[500],Gn[500]],styles:{}};ke(Vs);function $d(e){return e===void 0}var T0={};Object.defineProperty(T0,"__esModule",{value:!0});var Id=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sA=O,zd=lA(sA);function lA(e){return e&&e.__esModule?e:{default:e}}function cA(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var ya=24,dA=T0.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,a=r===void 0?ya:r,i=e.height,o=i===void 0?ya:i,s=e.style,c=s===void 0?{}:s,d=cA(e,["fill","width","height","style"]);return zd.default.createElement("svg",Id({viewBox:"0 0 "+ya+" "+ya,style:Id({fill:n,width:a,height:o},c)},d),zd.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},uA=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function fA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function pA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P0=function(e){pA(t,e);function t(n){fA(this,t);var r=hA(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(a,i){a.hex?Wt(a.hex)&&r.props.onChange({hex:a.hex,source:"hex"},i):a.r||a.g||a.b?r.props.onChange({r:a.r||r.props.rgb.r,g:a.g||r.props.rgb.g,b:a.b||r.props.rgb.b,source:"rgb"},i):a.a?(a.a<0?a.a=0:a.a>1&&(a.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(a.a*100)/100,source:"rgb"},i)):(a.h||a.s||a.l)&&(typeof a.s=="string"&&a.s.includes("%")&&(a.s=a.s.replace("%","")),typeof a.l=="string"&&a.l.includes("%")&&(a.l=a.l.replace("%","")),a.s==1?a.s=.01:a.l==1&&(a.l=.01),r.props.onChange({h:a.h||r.props.hsl.h,s:Number($d(a.s)?r.props.hsl.s:a.s),l:Number($d(a.l)?r.props.hsl.l:a.l),source:"hsl"},i))},r.showHighlight=function(a){a.currentTarget.style.background="#eee"},r.hideHighlight=function(a){a.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return uA(t,[{key:"render",value:function(){var r=this,a=ie({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),i=void 0;return this.state.view==="hex"?i=l.createElement("div",{style:a.fields,className:"flexbox-fix"},l.createElement("div",{style:a.field},l.createElement(oe,{style:{input:a.input,label:a.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?i=l.createElement("div",{style:a.fields,className:"flexbox-fix"},l.createElement("div",{style:a.field},l.createElement(oe,{style:{input:a.input,label:a.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),l.createElement("div",{style:a.field},l.createElement(oe,{style:{input:a.input,label:a.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),l.createElement("div",{style:a.field},l.createElement(oe,{style:{input:a.input,label:a.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),l.createElement("div",{style:a.alpha},l.createElement(oe,{style:{input:a.input,label:a.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(i=l.createElement("div",{style:a.fields,className:"flexbox-fix"},l.createElement("div",{style:a.field},l.createElement(oe,{style:{input:a.input,label:a.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),l.createElement("div",{style:a.field},l.createElement(oe,{style:{input:a.input,label:a.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),l.createElement("div",{style:a.field},l.createElement(oe,{style:{input:a.input,label:a.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),l.createElement("div",{style:a.alpha},l.createElement(oe,{style:{input:a.input,label:a.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),l.createElement("div",{style:a.wrap,className:"flexbox-fix"},i,l.createElement("div",{style:a.toggle},l.createElement("div",{style:a.icon,onClick:this.toggleViews,ref:function(s){return r.icon=s}},l.createElement(dA,{style:a.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.hsl.a!==1&&a.view==="hex"?{view:"rgb"}:null}}]),t}(l.Component);P0.defaultProps={view:"hex"};var Rd=function(){var t=ie({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return l.createElement("div",{style:t.picker})},gA=function(){var t=ie({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return l.createElement("div",{style:t.picker})},Us=function(t){var n=t.width,r=t.onChange,a=t.disableAlpha,i=t.rgb,o=t.hsl,s=t.hsv,c=t.hex,d=t.renderers,u=t.styles,f=u===void 0?{}:u,p=t.className,h=p===void 0?"":p,v=t.defaultView,g=ie(Le({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:a});return l.createElement("div",{style:g.picker,className:"chrome-picker "+h},l.createElement("div",{style:g.saturation},l.createElement(Li,{style:g.Saturation,hsl:o,hsv:s,pointer:gA,onChange:r})),l.createElement("div",{style:g.body},l.createElement("div",{style:g.controls,className:"flexbox-fix"},l.createElement("div",{style:g.color},l.createElement("div",{style:g.swatch},l.createElement("div",{style:g.active}),l.createElement(cr,{renderers:d}))),l.createElement("div",{style:g.toggles},l.createElement("div",{style:g.hue},l.createElement(dr,{style:g.Hue,hsl:o,pointer:Rd,onChange:r})),l.createElement("div",{style:g.alpha},l.createElement(Is,{style:g.Alpha,rgb:i,hsl:o,pointer:Rd,renderers:d,onChange:r})))),l.createElement(P0,{rgb:i,hsl:o,hex:c,view:v,onChange:r,disableAlpha:a})))};Us.propTypes={width:X.oneOfType([X.string,X.number]),disableAlpha:X.bool,styles:X.object,defaultView:X.oneOf(["hex","rgb","hsl"])};Us.defaultProps={width:225,disableAlpha:!1,styles:{}};const vA=ke(Us);var mA=function(t){var n=t.color,r=t.onClick,a=r===void 0?function(){}:r,i=t.onSwatchHover,o=t.active,s=ie({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Bs(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return l.createElement(un,{style:s.color,color:n,onClick:a,onHover:i,focusStyle:{boxShadow:"0 0 4px "+n}},l.createElement("div",{style:s.dot}))},bA=function(t){var n=t.hex,r=t.rgb,a=t.onChange,i=ie({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(c,d){c.r||c.g||c.b?a({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},d):a({hex:c.hex,source:"hex"},d)};return l.createElement("div",{style:i.fields,className:"flexbox-fix"},l.createElement("div",{style:i.active}),l.createElement(oe,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:n,onChange:o}),l.createElement(oe,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:o}),l.createElement(oe,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:o}),l.createElement(oe,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:o}))},Ys=function(t){var n=t.onChange,r=t.onSwatchHover,a=t.colors,i=t.hex,o=t.rgb,s=t.styles,c=s===void 0?{}:s,d=t.className,u=d===void 0?"":d,f=ie(Le({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},c)),p=function(v,g){v.hex?Wt(v.hex)&&n({hex:v.hex,source:"hex"},g):n(v,g)};return l.createElement(na,{style:f.Compact,styles:c},l.createElement("div",{style:f.compact,className:"compact-picker "+u},l.createElement("div",null,fn(a,function(h){return l.createElement(mA,{key:h,color:h,active:h.toLowerCase()===i,onClick:p,onSwatchHover:r})}),l.createElement("div",{style:f.clear})),l.createElement(bA,{hex:i,rgb:o,onChange:p})))};Ys.propTypes={colors:X.arrayOf(X.string),styles:X.object};Ys.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};ke(Ys);var yA=function(t){var n=t.hover,r=t.color,a=t.onClick,i=t.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=ie({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return l.createElement("div",{style:s.swatch},l.createElement(un,{color:r,onClick:a,onHover:i,focusStyle:o}))};const wA=$s(yA);var Xs=function(t){var n=t.width,r=t.colors,a=t.onChange,i=t.onSwatchHover,o=t.triangle,s=t.styles,c=s===void 0?{}:s,d=t.className,u=d===void 0?"":d,f=ie(Le({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},c),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),p=function(v,g){return a({hex:v,source:"hex"},g)};return l.createElement("div",{style:f.card,className:"github-picker "+u},l.createElement("div",{style:f.triangleShadow}),l.createElement("div",{style:f.triangle}),fn(r,function(h){return l.createElement(wA,{color:h,key:h,onClick:p,onSwatchHover:i})}))};Xs.propTypes={width:X.oneOfType([X.string,X.number]),colors:X.arrayOf(X.string),triangle:X.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:X.object};Xs.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};ke(Xs);var xA=function(t){var n=t.direction,r=ie({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return l.createElement("div",{style:r.picker})},EA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zs=function(t){var n=t.width,r=t.height,a=t.onChange,i=t.hsl,o=t.direction,s=t.pointer,c=t.styles,d=c===void 0?{}:c,u=t.className,f=u===void 0?"":u,p=ie(Le({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},d)),h=function(g){return a({a:1,h:g.h,l:.5,s:1})};return l.createElement("div",{style:p.picker,className:"hue-picker "+f},l.createElement(dr,EA({},p.hue,{hsl:i,pointer:s,onChange:h,direction:o})))};Zs.propTypes={styles:X.object};Zs.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:xA,styles:{}};ke(Zs);var SA=function(t){var n=t.onChange,r=t.hex,a=t.rgb,i=t.styles,o=i===void 0?{}:i,s=t.className,c=s===void 0?"":s,d=ie(Le({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),u=function(p,h){p.hex?Wt(p.hex)&&n({hex:p.hex,source:"hex"},h):(p.r||p.g||p.b)&&n({r:p.r||a.r,g:p.g||a.g,b:p.b||a.b,source:"rgb"},h)};return l.createElement(na,{styles:o},l.createElement("div",{style:d.material,className:"material-picker "+c},l.createElement(oe,{style:{wrap:d.HEXwrap,input:d.HEXinput,label:d.HEXlabel},label:"hex",value:r,onChange:u}),l.createElement("div",{style:d.split,className:"flexbox-fix"},l.createElement("div",{style:d.third},l.createElement(oe,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"r",value:a.r,onChange:u})),l.createElement("div",{style:d.third},l.createElement(oe,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"g",value:a.g,onChange:u})),l.createElement("div",{style:d.third},l.createElement(oe,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"b",value:a.b,onChange:u})))))};ke(SA);var CA=function(t){var n=t.onChange,r=t.rgb,a=t.hsv,i=t.hex,o=ie({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(d,u){d["#"]?Wt(d["#"])&&n({hex:d["#"],source:"hex"},u):d.r||d.g||d.b?n({r:d.r||r.r,g:d.g||r.g,b:d.b||r.b,source:"rgb"},u):(d.h||d.s||d.v)&&n({h:d.h||a.h,s:d.s||a.s,v:d.v||a.v,source:"hsv"},u)};return l.createElement("div",{style:o.fields},l.createElement(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(a.h),onChange:s}),l.createElement(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(a.s*100),onChange:s}),l.createElement(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(a.v*100),onChange:s}),l.createElement("div",{style:o.divider}),l.createElement(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),l.createElement(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),l.createElement(oe,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}),l.createElement("div",{style:o.divider}),l.createElement(oe,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:i.replace("#",""),onChange:s}),l.createElement("div",{style:o.fieldSymbols},l.createElement("div",{style:o.symbol},"°"),l.createElement("div",{style:o.symbol},"%"),l.createElement("div",{style:o.symbol},"%")))},_A=function(t){var n=t.hsl,r=ie({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return l.createElement("div",{style:r.picker})},MA=function(){var t=ie({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return l.createElement("div",{style:t.pointer},l.createElement("div",{style:t.left},l.createElement("div",{style:t.leftInside})),l.createElement("div",{style:t.right},l.createElement("div",{style:t.rightInside})))},Dd=function(t){var n=t.onClick,r=t.label,a=t.children,i=t.active,o=ie({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return l.createElement("div",{style:o.button,onClick:n},r||a)},AA=function(t){var n=t.rgb,r=t.currentColor,a=ie({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return l.createElement("div",null,l.createElement("div",{style:a.label},"new"),l.createElement("div",{style:a.swatches},l.createElement("div",{style:a.new}),l.createElement("div",{style:a.current})),l.createElement("div",{style:a.label},"current"))},OA=function(){function e(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function TA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $A(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ks=function(e){$A(t,e);function t(n){TA(this,t);var r=PA(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={currentColor:n.hex},r}return OA(t,[{key:"render",value:function(){var r=this.props,a=r.styles,i=a===void 0?{}:a,o=r.className,s=o===void 0?"":o,c=ie(Le({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},i));return l.createElement("div",{style:c.picker,className:"photoshop-picker "+s},l.createElement("div",{style:c.head},this.props.header),l.createElement("div",{style:c.body,className:"flexbox-fix"},l.createElement("div",{style:c.saturation},l.createElement(Li,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:_A,onChange:this.props.onChange})),l.createElement("div",{style:c.hue},l.createElement(dr,{direction:"vertical",hsl:this.props.hsl,pointer:MA,onChange:this.props.onChange})),l.createElement("div",{style:c.controls},l.createElement("div",{style:c.top,className:"flexbox-fix"},l.createElement("div",{style:c.previews},l.createElement(AA,{rgb:this.props.rgb,currentColor:this.state.currentColor})),l.createElement("div",{style:c.actions},l.createElement(Dd,{label:"OK",onClick:this.props.onAccept,active:!0}),l.createElement(Dd,{label:"Cancel",onClick:this.props.onCancel}),l.createElement(CA,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(l.Component);Ks.propTypes={header:X.string,styles:X.object};Ks.defaultProps={header:"Color Picker",styles:{}};ke(Ks);var IA=function(t){var n=t.onChange,r=t.rgb,a=t.hsl,i=t.hex,o=t.disableAlpha,s=ie({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),c=function(u,f){u.hex?Wt(u.hex)&&n({hex:u.hex,source:"hex"},f):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},f):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:a.h,s:a.s,l:a.l,a:u.a,source:"rgb"},f))};return l.createElement("div",{style:s.fields,className:"flexbox-fix"},l.createElement("div",{style:s.double},l.createElement(oe,{style:{input:s.input,label:s.label},label:"hex",value:i.replace("#",""),onChange:c})),l.createElement("div",{style:s.single},l.createElement(oe,{style:{input:s.input,label:s.label},label:"r",value:r.r,onChange:c,dragLabel:"true",dragMax:"255"})),l.createElement("div",{style:s.single},l.createElement(oe,{style:{input:s.input,label:s.label},label:"g",value:r.g,onChange:c,dragLabel:"true",dragMax:"255"})),l.createElement("div",{style:s.single},l.createElement(oe,{style:{input:s.input,label:s.label},label:"b",value:r.b,onChange:c,dragLabel:"true",dragMax:"255"})),l.createElement("div",{style:s.alpha},l.createElement(oe,{style:{input:s.input,label:s.label},label:"a",value:Math.round(r.a*100),onChange:c,dragLabel:"true",dragMax:"100"})))},zA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0=function(t){var n=t.colors,r=t.onClick,a=r===void 0?function(){}:r,i=t.onSwatchHover,o=ie({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),s=function(d,u){a({hex:d,source:"hex"},u)};return l.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(c){var d=typeof c=="string"?{color:c}:c,u=""+d.color+(d.title||"");return l.createElement("div",{key:u,style:o.swatchWrap},l.createElement(un,zA({},d,{style:o.swatch,onClick:s,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+d.color}})))}))};$0.propTypes={colors:X.arrayOf(X.oneOfType([X.string,X.shape({color:X.string,title:X.string})])).isRequired};var RA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qs=function(t){var n=t.width,r=t.rgb,a=t.hex,i=t.hsv,o=t.hsl,s=t.onChange,c=t.onSwatchHover,d=t.disableAlpha,u=t.presetColors,f=t.renderers,p=t.styles,h=p===void 0?{}:p,v=t.className,g=v===void 0?"":v,m=ie(Le({default:RA({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},h),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},h),{disableAlpha:d});return l.createElement("div",{style:m.picker,className:"sketch-picker "+g},l.createElement("div",{style:m.saturation},l.createElement(Li,{style:m.Saturation,hsl:o,hsv:i,onChange:s})),l.createElement("div",{style:m.controls,className:"flexbox-fix"},l.createElement("div",{style:m.sliders},l.createElement("div",{style:m.hue},l.createElement(dr,{style:m.Hue,hsl:o,onChange:s})),l.createElement("div",{style:m.alpha},l.createElement(Is,{style:m.Alpha,rgb:r,hsl:o,renderers:f,onChange:s}))),l.createElement("div",{style:m.color},l.createElement(cr,null),l.createElement("div",{style:m.activeColor}))),l.createElement(IA,{rgb:r,hsl:o,hex:a,onChange:s,disableAlpha:d}),l.createElement($0,{colors:u,onClick:s,onSwatchHover:c}))};Qs.propTypes={disableAlpha:X.bool,width:X.oneOfType([X.string,X.number]),styles:X.object};Qs.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};ke(Qs);var Sr=function(t){var n=t.hsl,r=t.offset,a=t.onClick,i=a===void 0?function(){}:a,o=t.active,s=t.first,c=t.last,d=ie({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:s,last:c}),u=function(p){return i({h:n.h,s:.5,l:r,source:"hsl"},p)};return l.createElement("div",{style:d.swatch,onClick:u})},DA=function(t){var n=t.onClick,r=t.hsl,a=ie({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return l.createElement("div",{style:a.swatches},l.createElement("div",{style:a.swatch},l.createElement(Sr,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<i&&Math.abs(r.s-.5)<i,onClick:n,first:!0})),l.createElement("div",{style:a.swatch},l.createElement(Sr,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<i&&Math.abs(r.s-.5)<i,onClick:n})),l.createElement("div",{style:a.swatch},l.createElement(Sr,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<i&&Math.abs(r.s-.5)<i,onClick:n})),l.createElement("div",{style:a.swatch},l.createElement(Sr,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<i&&Math.abs(r.s-.5)<i,onClick:n})),l.createElement("div",{style:a.swatch},l.createElement(Sr,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<i&&Math.abs(r.s-.5)<i,onClick:n,last:!0})),l.createElement("div",{style:a.clear}))},NA=function(){var t=ie({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return l.createElement("div",{style:t.picker})},Js=function(t){var n=t.hsl,r=t.onChange,a=t.pointer,i=t.styles,o=i===void 0?{}:i,s=t.className,c=s===void 0?"":s,d=ie(Le({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return l.createElement("div",{style:d.wrap||{},className:"slider-picker "+c},l.createElement("div",{style:d.hue},l.createElement(dr,{style:d.Hue,hsl:n,pointer:a,onChange:r})),l.createElement("div",{style:d.swatches},l.createElement(DA,{hsl:n,onClick:r})))};Js.propTypes={styles:X.object};Js.defaultProps={pointer:NA,styles:{}};ke(Js);var I0={};Object.defineProperty(I0,"__esModule",{value:!0});var Nd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jA=O,jd=LA(jA);function LA(e){return e&&e.__esModule?e:{default:e}}function kA(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var wa=24,BA=I0.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,a=r===void 0?wa:r,i=e.height,o=i===void 0?wa:i,s=e.style,c=s===void 0?{}:s,d=kA(e,["fill","width","height","style"]);return jd.default.createElement("svg",Nd({viewBox:"0 0 "+wa+" "+wa,style:Nd({fill:n,width:a,height:o},c)},d),jd.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},FA=function(t){var n=t.color,r=t.onClick,a=r===void 0?function(){}:r,i=t.onSwatchHover,o=t.first,s=t.last,c=t.active,d=ie({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:Bs(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:s,active:c,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return l.createElement(un,{color:n,style:d.color,onClick:a,onHover:i,focusStyle:{boxShadow:"0 0 4px "+n}},l.createElement("div",{style:d.check},l.createElement(BA,null)))},HA=function(t){var n=t.onClick,r=t.onSwatchHover,a=t.group,i=t.active,o=ie({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return l.createElement("div",{style:o.group},fn(a,function(s,c){return l.createElement(FA,{key:s,color:s,active:s.toLowerCase()===i,first:c===0,last:c===a.length-1,onClick:n,onSwatchHover:r})}))},qs=function(t){var n=t.width,r=t.height,a=t.onChange,i=t.onSwatchHover,o=t.colors,s=t.hex,c=t.styles,d=c===void 0?{}:c,u=t.className,f=u===void 0?"":u,p=ie(Le({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},d)),h=function(g,m){return a({hex:g,source:"hex"},m)};return l.createElement("div",{style:p.picker,className:"swatches-picker "+f},l.createElement(na,null,l.createElement("div",{style:p.overflow},l.createElement("div",{style:p.body},fn(o,function(v){return l.createElement(HA,{key:v.toString(),group:v,active:s,onClick:h,onSwatchHover:i})}),l.createElement("div",{style:p.clear})))))};qs.propTypes={width:X.oneOfType([X.string,X.number]),height:X.oneOfType([X.string,X.number]),colors:X.arrayOf(X.arrayOf(X.string)),styles:X.object};qs.defaultProps={width:320,height:240,colors:[[On[900],On[700],On[500],On[300],On[100]],[Tn[900],Tn[700],Tn[500],Tn[300],Tn[100]],[Pn[900],Pn[700],Pn[500],Pn[300],Pn[100]],[$n[900],$n[700],$n[500],$n[300],$n[100]],[In[900],In[700],In[500],In[300],In[100]],[zn[900],zn[700],zn[500],zn[300],zn[100]],[Rn[900],Rn[700],Rn[500],Rn[300],Rn[100]],[Dn[900],Dn[700],Dn[500],Dn[300],Dn[100]],[Nn[900],Nn[700],Nn[500],Nn[300],Nn[100]],["#194D33",Rr[700],Rr[500],Rr[300],Rr[100]],[jn[900],jn[700],jn[500],jn[300],jn[100]],[Ln[900],Ln[700],Ln[500],Ln[300],Ln[100]],[kn[900],kn[700],kn[500],kn[300],kn[100]],[Bn[900],Bn[700],Bn[500],Bn[300],Bn[100]],[Fn[900],Fn[700],Fn[500],Fn[300],Fn[100]],[Hn[900],Hn[700],Hn[500],Hn[300],Hn[100]],[Wn[900],Wn[700],Wn[500],Wn[300],Wn[100]],[Gn[900],Gn[700],Gn[500],Gn[300],Gn[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};ke(qs);var el=function(t){var n=t.onChange,r=t.onSwatchHover,a=t.hex,i=t.colors,o=t.width,s=t.triangle,c=t.styles,d=c===void 0?{}:c,u=t.className,f=u===void 0?"":u,p=ie(Le({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},d),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),h=function(g,m){Wt(g)&&n({hex:g,source:"hex"},m)};return l.createElement("div",{style:p.card,className:"twitter-picker "+f},l.createElement("div",{style:p.triangleShadow}),l.createElement("div",{style:p.triangle}),l.createElement("div",{style:p.body},fn(i,function(v,g){return l.createElement(un,{key:g,color:v,hex:v,style:p.swatch,onClick:h,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),l.createElement("div",{style:p.hash},"#"),l.createElement(oe,{label:null,style:{input:p.input},value:a.replace("#",""),onChange:h}),l.createElement("div",{style:p.clear})))};el.propTypes={width:X.oneOfType([X.string,X.number]),triangle:X.oneOf(["hide","top-left","top-right"]),colors:X.arrayOf(X.string),styles:X.object};el.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};ke(el);var tl=function(t){var n=ie({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return l.createElement("div",{style:n.picker})};tl.propTypes={hsl:X.shape({h:X.number,s:X.number,l:X.number,a:X.number})};tl.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var nl=function(t){var n=ie({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return l.createElement("div",{style:n.picker})};nl.propTypes={hsl:X.shape({h:X.number,s:X.number,l:X.number,a:X.number})};nl.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var WA=function(t){var n=t.onChange,r=t.rgb,a=t.hsl,i=t.hex,o=t.hsv,s=function(h,v){if(h.hex)Wt(h.hex)&&n({hex:h.hex,source:"hex"},v);else if(h.rgb){var g=h.rgb.split(",");go(h.rgb,"rgb")&&n({r:g[0],g:g[1],b:g[2],a:1,source:"rgb"},v)}else if(h.hsv){var m=h.hsv.split(",");go(h.hsv,"hsv")&&(m[2]=m[2].replace("%",""),m[1]=m[1].replace("%",""),m[0]=m[0].replace("°",""),m[1]==1?m[1]=.01:m[2]==1&&(m[2]=.01),n({h:Number(m[0]),s:Number(m[1]),v:Number(m[2]),source:"hsv"},v))}else if(h.hsl){var b=h.hsl.split(",");go(h.hsl,"hsl")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsl"},v))}},c=ie({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),d=r.r+", "+r.g+", "+r.b,u=Math.round(a.h)+"°, "+Math.round(a.s*100)+"%, "+Math.round(a.l*100)+"%",f=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return l.createElement("div",{style:c.wrap,className:"flexbox-fix"},l.createElement("div",{style:c.fields},l.createElement("div",{style:c.double},l.createElement(oe,{style:{input:c.input,label:c.label},label:"hex",value:i,onChange:s})),l.createElement("div",{style:c.column},l.createElement("div",{style:c.single},l.createElement(oe,{style:{input:c.input2,label:c.label2},label:"rgb",value:d,onChange:s})),l.createElement("div",{style:c.single},l.createElement(oe,{style:{input:c.input2,label:c.label2},label:"hsv",value:f,onChange:s})),l.createElement("div",{style:c.single},l.createElement(oe,{style:{input:c.input2,label:c.label2},label:"hsl",value:u,onChange:s})))))},rl=function(t){var n=t.width,r=t.onChange,a=t.rgb,i=t.hsl,o=t.hsv,s=t.hex,c=t.header,d=t.styles,u=d===void 0?{}:d,f=t.className,p=f===void 0?"":f,h=ie(Le({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+a.r+", "+a.g+", "+a.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return l.createElement("div",{style:h.picker,className:"google-picker "+p},l.createElement("div",{style:h.head},c),l.createElement("div",{style:h.swatch}),l.createElement("div",{style:h.saturation},l.createElement(Li,{hsl:i,hsv:o,pointer:tl,onChange:r})),l.createElement("div",{style:h.body},l.createElement("div",{style:h.controls,className:"flexbox-fix"},l.createElement("div",{style:h.hue},l.createElement(dr,{style:h.Hue,hsl:i,radius:"4px",pointer:nl,onChange:r}))),l.createElement(WA,{rgb:a,hsl:i,hex:s,hsv:o,onChange:r})))};rl.propTypes={width:X.oneOfType([X.string,X.number]),styles:X.object,header:X.string};rl.defaultProps={width:652,styles:{},header:"Color picker"};ke(rl);function GA(e){let t=e.toLocaleUpperCase();const n={r:0,g:0,b:0,a:1};return/^\#[0-9a-f]{3,3}$/i.test(t)?t=`#${t[1]}${t[1]}${t[2]}${t[2]}${t[3]}${t[3]}FF`:/^\#[0-9a-f]{6,6}$/i.test(t)&&(t=`${t}FF`),/^\#[0-9a-f]{8,8}$/i.test(t)&&(n.r=parseInt(`${t[1]}${t[2]}`,16),n.g=parseInt(`${t[3]}${t[4]}`,16),n.b=parseInt(`${t[5]}${t[6]}`,16),n.a=parseInt(`${t[7]}${t[8]}`,16)/255),n}function VA(e){const t=[];return t.push(e.r.toString(16).padStart(2,"0").toLocaleUpperCase()),t.push(e.g.toString(16).padStart(2,"0").toLocaleUpperCase()),t.push(e.b.toString(16).padStart(2,"0").toLocaleUpperCase()),e.a<1&&t.push(Math.floor(e.a*255).toString(16).padStart(2,"0").toLocaleUpperCase()),`#${t.join("")}`}const UA=({value:e="",onChange:t,className:n})=>l.createElement(vA,{className:n,color:GA(e),onChangeComplete:r=>{const a=VA(r==null?void 0:r.rgb);t==null||t(a)}}),z0="base-element-field-multiple-color-picker",YA=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72z"}),l.createElement("path",{d:"M864 256H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}))),R0=16,Ld=e=>{var t,n;const r=(t=e.currentTarget.parentElement)===null||t===void 0?void 0:t.getBoundingClientRect(),a=e.currentTarget.getBoundingClientRect(),i=e.clientX-r.x-R0/2;let o=parseFloat((n=i/a.width)===null||n===void 0?void 0:n.toFixed(2));return o=Math.min(Math.max(o,0),1),o};function XA(e){const{mode:t,value:n,internalColor:r,internalLinearGradient:a,internalRadialGradient:i,currentPickedColor:o,onChange:s,onSelectStop:c}=e,[d,u]=O.useState(Ka(n)),[f,p]=O.useState(null),h=O.useRef(!1),{createPrefixName:v}=O.useContext(le),g=v(z0),m=g("gradient-root"),b=g("gradient-delete"),y=g("gradient"),x=g("gradient-bar"),w=g("gradient-point"),C=g("gradient-point-active");O.useEffect(()=>{var I;const M=Ka(n);u(M),["linear-gradient","radial-gradient"].includes(n==null?void 0:n.type)&&(f||p((I=n==null?void 0:n.stops)===null||I===void 0?void 0:I[0]))},[n]),O.useEffect(()=>{f?c==null||c(Object.assign({},f)):c==null||c(f)},[f]);const _=I=>{I.stopPropagation(),h.current=!0;const M=Ld(I);let T=null;if(t==="linear-gradient"?T=a:t==="radial-gradient"&&(T=i),T){const N=[...T.stops];for(let B=0;B<N.length;B++){const H=N[B],E=N[B+1],k={offset:M,color:o};if(H.offset===M)break;if(M<H.offset){N.unshift(k),p(k);break}else if(H.offset<M&&M<(E==null?void 0:E.offset)){N.splice(B+1,0,k),p(k);break}else if(M>H.offset&&!E){N.push(k),p(k);break}if(!E)break}const F=Object.assign(Object.assign({},T),{stops:N});s==null||s(F)}},A=I=>{if(h.current===!0&&f){const M=Ld(I);let T=null;if(t==="linear-gradient"?T=a:t==="radial-gradient"&&(T=i),T){const N=[...T.stops];for(let H=0;H<N.length;H++){const E=N[H];if(E.offset===f.offset){E.offset=M,p(Object.assign({},E));break}}const F=N.sort((H,E)=>H.offset-E.offset),B=Object.assign(Object.assign({},T),{stops:F});s==null||s(B)}}},R=I=>{I.stopPropagation(),h.current=!1},S=(I,M)=>{I.stopPropagation(),p(M),h.current=!0},P=()=>{let I=null;t==="linear-gradient"?I=a:t==="radial-gradient"&&(I=i);let M=-1;if(I&&f){const T=[...I.stops];for(let N=0;N<T.length;N++)if(T[N].offset===f.offset){M=N;break}if(M>=0){T.splice(M,1);const N=Object.assign(Object.assign({},I),{stops:T});s==null||s(N)}}},j=I=>{h.current=!1};return O.useMemo(()=>{var I,M,T;return l.createElement(l.Fragment,null,(t==="linear-gradient"||t==="radial-gradient")&&l.createElement("div",{className:m},l.createElement("div",{className:y,"data-css":d,style:{background:d}},l.createElement("div",{className:x,onMouseDown:_,onMouseUp:R,onMouseMove:A,onMouseLeave:R},(T=(M=(I=t==="linear-gradient"?a:i)===null||I===void 0?void 0:I.stops)===null||M===void 0?void 0:M.map)===null||T===void 0?void 0:T.call(M,(N,F)=>l.createElement("span",{key:F,className:pe({[w]:!0,[C]:(f==null?void 0:f.offset)===N.offset}),style:{left:`calc(${N.offset*100}% - ${R0/2}px)`,background:N.color},onMouseDown:B=>{S(B,N)},onMouseUp:j})))),l.createElement("div",{className:b,onClick:N=>{N.stopPropagation(),P()}},l.createElement(YA,null))))},[t,d,o,r,a,i,f])}const ZA=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M802.742857 777.485714c49.942857 0 90.742857-41.371429 90.742857-92 0-61.142857-90.742857-160.914286-90.742857-160.914285S712 624.342857 712 685.485714c0 50.628571 40.8 92 90.742857 92z m-430.971428-50.4c8.114286 8.114286 21.257143 8.114286 29.257142 0l292.685715-292.571428c8.114286-8.114286 8.114286-21.257143 0-29.257143l-292.571429-292.571429c-0.685714-0.685714-1.485714-1.371429-2.285714-1.942857l-89.371429-89.371428a10.411429 10.411429 0 0 0-14.628571 0l-54.857143 54.857142a10.411429 10.411429 0 0 0 0 14.628572l76.8 76.8-237.485714 237.6c-8.114286 8.114286-8.114286 21.257143 0 29.257143l292.457143 292.571428z m14.742857-512.685714l204.457143 204.457143H182.171429l204.342857-204.457143zM960 859.428571H64c-5.028571 0-9.142857 4.114286-9.142857 9.142858v91.428571c0 5.028571 4.114286 9.142857 9.142857 9.142857h896c5.028571 0 9.142857-4.114286 9.142857-9.142857v-91.428571c0-5.028571-4.114286-9.142857-9.142857-9.142858z"}))),KA=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M935.253333 111.786667a42.666667 42.666667 0 0 0-23.04-23.04A42.666667 42.666667 0 0 0 896 85.333333h-256a42.666667 42.666667 0 0 0 0 85.333334h153.173333L170.666667 793.173333V640a42.666667 42.666667 0 0 0-85.333334 0v256a42.666667 42.666667 0 0 0 3.413334 16.213333 42.666667 42.666667 0 0 0 23.04 23.04A42.666667 42.666667 0 0 0 128 938.666667h256a42.666667 42.666667 0 0 0 0-85.333334H230.826667L853.333333 230.826667V384a42.666667 42.666667 0 0 0 85.333334 0V128a42.666667 42.666667 0 0 0-3.413334-16.213333z"}))),QA=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M510.762667 970.666667A458.666667 458.666667 0 1 1 969.429333 512a459.178667 459.178667 0 0 1-458.666666 458.666667z m0-853.333334a394.666667 394.666667 0 1 0 394.666666 394.666667 395.093333 395.093333 0 0 0-394.666666-394.666667z"}),l.createElement("path",{d:"M512 724.48A212.48 212.48 0 1 1 724.48 512 212.736 212.736 0 0 1 512 724.48z m0-360.96A148.48 148.48 0 1 0 660.48 512 148.608 148.608 0 0 0 512 363.52z"})));function kd(e){let t="solid";return e&&(e!=null&&e.type)&&(t=e.type),t}function JA(e){const{value:t,onChange:n,elementSize:r,disabledLinearGradient:a,disabledRadialGradient:i}=e,[o,s]=O.useState(Ka(t)),[c,d]=O.useState(kd(t)),[u,f]=O.useState("#000000"),[p,h]=O.useState(null),[v,g]=O.useState(null),[m,b]=O.useState(null),y=O.useRef(null),x=O.useRef(null),w=O.useRef(null),{createPrefixName:C}=O.useContext(le),_=C(z0),A=_(),R=_("header"),S=_("internal-picker"),P=_("radio-group"),j=_("row"),I=_("col"),M=_("input"),T=_("form-item");O.useEffect(()=>{s(Ka(t)),d(kd(t)),typeof t=="string"?(h(t),f(t)):(t==null?void 0:t.type)==="linear-gradient"?g(t):(t==null?void 0:t.type)==="radial-gradient"&&b(t)},[t]),O.useEffect(()=>{var E,k;c==="linear-gradient"&&(t==null?void 0:t.type)===c?(E=x.current)===null||E===void 0||E.setFieldsValue(t):c==="radial-gradient"&&(t==null?void 0:t.type)===c&&((k=w.current)===null||k===void 0||k.setFieldsValue(t))},[c,t]);const N=E=>{var k,Y,$,U,V,z;let D;E==="linear-gradient"?(D={type:"linear-gradient",start:{x:0,y:0},end:{x:0,y:(r==null?void 0:r.h)||0},stops:[]},typeof t=="string"?(D.stops=[{offset:0,color:t},{offset:.5,color:t},{offset:1,color:t}],g(D)):(t==null?void 0:t.type)==="radial-gradient"&&(D.stops=[...(t==null?void 0:t.stops)||[]],g(D)),(k=x.current)===null||k===void 0||k.setFieldsValue(D)):E==="radial-gradient"?(D={type:"radial-gradient",inner:{x:((r==null?void 0:r.w)||0)/2,y:((r==null?void 0:r.h)||0)/2,radius:0},outer:{x:((r==null?void 0:r.w)||0)/2,y:((r==null?void 0:r.h)||0)/2,radius:Math.min(((r==null?void 0:r.w)||0)/2,((r==null?void 0:r.h)||0)/2)},stops:[]},typeof t=="string"?(D.stops=[{offset:0,color:t},{offset:.5,color:t},{offset:1,color:t}],b(D)):(t==null?void 0:t.type)==="linear-gradient"&&(D.stops=[...(t==null?void 0:t.stops)||[]],b(D)),(Y=w.current)===null||Y===void 0||Y.setFieldsValue(D)):E==="solid"&&(D=t,(t==null?void 0:t.type)==="linear-gradient"?(D=((U=($=t==null?void 0:t.stops)===null||$===void 0?void 0:$[0])===null||U===void 0?void 0:U.color)||"#000000",h(D)):(t==null?void 0:t.type)==="radial-gradient"&&(D=((z=(V=t==null?void 0:t.stops)===null||V===void 0?void 0:V[0])===null||z===void 0?void 0:z.color)||"#000000",h(D))),D&&(n==null||n(D))},F=E=>{if(c==="solid")n==null||n(E.color);else if(y.current){if(c==="linear-gradient"&&v&&Array.isArray(v==null?void 0:v.stops)){const k=[...v.stops];for(let $=0;$<k.length;$++)if(k[$].offset===y.current.offset){k[$].color=E.color;break}const Y=Object.assign(Object.assign({},v),{stops:k});g(Y),n==null||n(Y)}else if(c==="radial-gradient"&&m&&Array.isArray(m==null?void 0:m.stops)){const k=[...m.stops];for(let $=0;$<k.length;$++)if(k[$].offset===y.current.offset){k[$].color=E.color;break}const Y=Object.assign(Object.assign({},m),{stops:k});b(Y),n==null||n(Y)}}},B=E=>{const k=Object.assign({},v);E!=null&&E.start&&(k.start=Object.assign(Object.assign({},k.start),E.start)),E!=null&&E.end&&(k.end=Object.assign(Object.assign({},k.end),E.end)),n==null||n(k)},H=E=>{const k=Object.assign({},m);E!=null&&E.inner&&(k.inner=Object.assign(Object.assign({},k.inner),E.inner)),E!=null&&E.outer&&(k.outer=Object.assign(Object.assign({},k.outer),E.outer)),n==null||n(k)};return O.useMemo(()=>l.createElement("div",{className:A},!a&&!i&&l.createElement("div",{className:R},l.createElement(Ue.Group,{className:P,size:"small",buttonStyle:"solid",value:c,onChange:({target:{value:E}})=>{N(E)}},l.createElement(Ue.Button,{value:"solid"},l.createElement(ZA,null)),!a&&l.createElement(Ue.Button,{value:"linear-gradient"},l.createElement(KA,null)),!i&&l.createElement(Ue.Button,{value:"radial-gradient"},l.createElement(QA,null)))),!a&&c==="linear-gradient"&&l.createElement("div",{style:{marginBottom:10}},l.createElement(J,{ref:x,onValuesChange:B},l.createElement(he,{className:j},l.createElement(Q,{className:I,span:"4"},"Start"),l.createElement(Q,{className:I,span:"10"},l.createElement(J.Item,{className:T,name:["start","x"]},l.createElement(se,{className:M,size:"small",prefix:"X"}))),l.createElement(Q,{className:I,span:"10"},l.createElement(J.Item,{className:T,name:["start","y"]},l.createElement(se,{className:M,size:"small",prefix:"Y"})))),l.createElement(he,{className:j},l.createElement(Q,{className:I,span:"4"},"End"),l.createElement(Q,{className:I,span:"10"},l.createElement(J.Item,{className:T,name:["end","x"]},l.createElement(se,{className:M,size:"small",prefix:"X"}))),l.createElement(Q,{className:I,span:"10"},l.createElement(J.Item,{className:T,name:["end","y"]},l.createElement(se,{className:M,size:"small",prefix:"Y"})))))),!i&&c==="radial-gradient"&&l.createElement("div",{style:{marginBottom:10}},l.createElement(J,{ref:w,onValuesChange:H},l.createElement(he,{className:j},l.createElement(Q,{className:I,span:"4"},"Inner"),l.createElement(Q,{className:I,span:"10"},l.createElement(J.Item,{className:T,name:["inner","x"]},l.createElement(se,{className:M,size:"small",prefix:"X"}))),l.createElement(Q,{className:I,span:"10"},l.createElement(J.Item,{className:T,name:["inner","y"]},l.createElement(se,{className:M,size:"small",prefix:"Y"})))),l.createElement(he,{className:j},l.createElement(Q,{className:I,span:"4"}),l.createElement(Q,{className:I,span:"10"},l.createElement(J.Item,{className:T,name:["inner","radius"]},l.createElement(se,{className:M,size:"small",prefix:"R"})))),l.createElement(he,{className:j},l.createElement(Q,{className:I,span:"4"},"Outer"),l.createElement(Q,{className:I,span:"10"},l.createElement(J.Item,{className:T,name:["outer","x"]},l.createElement(se,{className:M,size:"small",prefix:"X"}))),l.createElement(Q,{className:I,span:"10"},l.createElement(J.Item,{className:T,name:["outer","y"]},l.createElement(se,{className:M,size:"small",prefix:"Y"})))),l.createElement(he,{className:j},l.createElement(Q,{className:I,span:"4"}),l.createElement(Q,{className:I,span:"10"},l.createElement(J.Item,{className:T,name:["outer","radius"]},l.createElement(se,{className:M,size:"small",prefix:"R"})))))),(!a||!i)&&(c==="linear-gradient"||c==="radial-gradient")&&l.createElement(XA,{mode:c,value:t,currentPickedColor:u,internalColor:p,internalLinearGradient:v,internalRadialGradient:m,onChange:E=>{(E==null?void 0:E.type)==="linear-gradient"?(g(E),n==null||n(E)):(E==null?void 0:E.type)==="radial-gradient"&&(b(E),n==null||n(E))},onSelectStop:E=>{E!=null&&E.color&&f(E.color),y.current=E}}),l.createElement(UA,{value:u,className:S,onChange:E=>{f(E),F({color:E})}})),[c,o,p,v,m,u,a,i])}const qA="base-element-field-multiple-color";function Fi(e){const{value:t,onChange:n,disabled:r,elementSize:a,disabledLinearGradient:i,disabledRadialGradient:o}=e,s=an(),d=(y=>{let x="";return typeof y=="string"?x=y:["linear-gradient","radial-gradient"].includes(y==null?void 0:y.type)&&(x=s.gradient),x})(t),u=typeof t=="string",f=O.useRef(null),{createPrefixName:p,container:h}=O.useContext(le),v=p(qA),g=v(),m=v("preview"),b=()=>h||document.body;return O.useMemo(()=>{const y=xh(t||"transparent");return l.createElement(l.Fragment,null,l.createElement(Qn,{className:g,size:"small",disabled:r,prefix:r?l.createElement("span",null):l.createElement(Gd,{placement:"left",content:l.createElement(JA,{value:t,elementSize:a,disabledLinearGradient:i,disabledRadialGradient:o,onChange:n}),trigger:"click",getPopupContainer:b,getTooltipContainer:b},l.createElement("span",{className:m,style:{background:y}})),readOnly:!u,value:d}),l.createElement("div",{ref:f}))},[t,n,r,a])}const Bd=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M896 810.666667v85.333333h-85.333333v-85.333333h85.333333z m-170.666667 0v85.333333h-85.333333v-85.333333h85.333333z m-170.666666 0v85.333333h-85.333334v-85.333333h85.333334z m-170.666667 0v85.333333H298.666667v-85.333333h85.333333z m-170.666667 0v85.333333H128v-85.333333h85.333333z m682.666667-170.666667v85.333333h-85.333333v-85.333333h85.333333zM213.333333 640v85.333333H128v-85.333333h85.333333z m0-170.666667v85.333334H128v-85.333334h85.333333z m469.333334-341.333333a213.418667 213.418667 0 0 1 213.12 204.074667L896 341.333333v213.333334h-85.333333V341.333333a128.426667 128.426667 0 0 0-120.490667-127.786666L682.666667 213.333333h-213.333334V128h213.333334zM213.333333 298.666667v85.333333H128V298.666667h85.333333z m0-170.666667v85.333333H128V128h85.333333z m170.666667 0v85.333333H298.666667V128h85.333333z"}))),eO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M170.666667 298.666667a42.666667 42.666667 0 1 1-85.333334 0V256a170.666667 170.666667 0 0 1 170.666667-170.666667h42.666667a42.666667 42.666667 0 1 1 0 85.333334H256a85.333333 85.333333 0 0 0-85.333333 85.333333v42.666667z m554.666666-128a42.666667 42.666667 0 0 1 0-85.333334h42.666667a170.666667 170.666667 0 0 1 170.666667 170.666667v42.666667a42.666667 42.666667 0 0 1-85.333334 0V256a85.333333 85.333333 0 0 0-85.333333-85.333333h-42.666667z m128 554.666666a42.666667 42.666667 0 0 1 85.333334 0v42.666667a170.666667 170.666667 0 0 1-170.666667 170.666667h-42.666667a42.666667 42.666667 0 0 1 0-85.333334h42.666667a85.333333 85.333333 0 0 0 85.333333-85.333333v-42.666667zM298.666667 853.333333a42.666667 42.666667 0 0 1 0 85.333334H256a170.666667 170.666667 0 0 1-170.666667-170.666667v-42.666667a42.666667 42.666667 0 0 1 85.333334 0v42.666667a85.333333 85.333333 0 0 0 85.333333 85.333333h42.666667z"}))),mo=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M512 384a42.666667 42.666667 0 1 0-42.666667-42.666667 42.666667 42.666667 0 0 0 42.666667 42.666667z m0 170.666667a42.666667 42.666667 0 1 0-42.666667-42.666667 42.666667 42.666667 0 0 0 42.666667 42.666667z m170.666667 0a42.666667 42.666667 0 1 0-42.666667-42.666667 42.666667 42.666667 0 0 0 42.666667 42.666667z m-170.666667 170.666666a42.666667 42.666667 0 1 0-42.666667-42.666666 42.666667 42.666667 0 0 0 42.666667 42.666666z m341.333333-597.333333H170.666667a42.666667 42.666667 0 0 0-42.666667 42.666667v682.666666a42.666667 42.666667 0 0 0 42.666667 42.666667h682.666666a42.666667 42.666667 0 0 0 42.666667-42.666667V170.666667a42.666667 42.666667 0 0 0-42.666667-42.666667z m-42.666666 682.666667H213.333333V213.333333h597.333334zM341.333333 554.666667a42.666667 42.666667 0 1 0-42.666666-42.666667 42.666667 42.666667 0 0 0 42.666666 42.666667z"}))),tO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M554.666667 469.333333v85.333334h-85.333334v-85.333334z m85.333333 0v85.333334h85.333333v-85.333334z m170.666667 0v85.333334h85.333333v-85.333334z m0 170.666667v85.333333h85.333333v-85.333333z m-512-170.666667v85.333334h85.333333v-85.333334z m170.666666-341.333333v85.333333h85.333334V128z m170.666667 0v85.333333h85.333333V128z m170.666667 0v85.333333h85.333333V128z m0 170.666667v85.333333h85.333333v-85.333333zM469.333333 640v85.333333h85.333334v-85.333333z m0-341.333333v85.333333h85.333334v-85.333333zM128 128v768h85.333333V128z m170.666667 0v85.333333h85.333333V128z m170.666666 682.666667v85.333333h85.333334v-85.333333z m170.666667 0v85.333333h85.333333v-85.333333z m170.666667 0v85.333333h85.333333v-85.333333z m-512 0v85.333333h85.333333v-85.333333z"}))),nO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M298.666667 896h85.333333v-85.333333h-85.333333v85.333333zM128 213.333333h85.333333V128H128v85.333333z m170.666667 0h85.333333V128h-85.333333v85.333333z m0 341.333334h85.333333v-85.333334h-85.333333v85.333334zM128 896h85.333333v-85.333333H128v85.333333z m341.333333 0h85.333334v-85.333333h-85.333334v85.333333zM128 554.666667h85.333333v-85.333334H128v85.333334z m0 170.666666h85.333333v-85.333333H128v85.333333z m0-341.333333h85.333333v-85.333333H128v85.333333z m341.333333 341.333333h85.333334v-85.333333h-85.333334v85.333333z m170.666667-170.666666h85.333333v-85.333334h-85.333333v85.333334z m170.666667-426.666667v768h85.333333V128h-85.333333z m-170.666667 768h85.333333v-85.333333h-85.333333v85.333333z m0-682.666667h85.333333V128h-85.333333v85.333333z m-170.666667 341.333334h85.333334v-85.333334h-85.333334v85.333334z m0-341.333334h85.333334V128h-85.333334v85.333333z m0 170.666667h85.333334v-85.333333h-85.333334v85.333333z"}))),rO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M298.666667 896h85.333333v-85.333333h-85.333333v85.333333z m0-341.333333h85.333333v-85.333334h-85.333333v85.333334z m170.666666 0h85.333334v-85.333334h-85.333334v85.333334z m0 341.333333h85.333334v-85.333333h-85.333334v85.333333zM128 725.333333h85.333333v-85.333333H128v85.333333z m0 170.666667h85.333333v-85.333333H128v85.333333z m0-341.333333h85.333333v-85.333334H128v85.333334z m0-170.666667h85.333333v-85.333333H128v85.333333z m341.333333 341.333333h85.333334v-85.333333h-85.333334v85.333333z m341.333334-341.333333h85.333333v-85.333333h-85.333333v85.333333z m0 170.666667h85.333333v-85.333334h-85.333333v85.333334zM128 128v85.333333h768V128H128z m682.666667 597.333333h85.333333v-85.333333h-85.333333v85.333333z m-170.666667 170.666667h85.333333v-85.333333h-85.333333v85.333333z m-170.666667-512h85.333334v-85.333333h-85.333334v85.333333z m341.333334 512h85.333333v-85.333333h-85.333333v85.333333z m-170.666667-341.333333h85.333333v-85.333334h-85.333333v85.333334z"}))),aO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M554.666667 469.333333v85.333334h-85.333334v-85.333334z m85.333333 0v85.333334h85.333333v-85.333334z m170.666667 0v85.333334h85.333333v-85.333334z m0 170.666667v85.333333h85.333333v-85.333333zM128 469.333333v85.333334h85.333333v-85.333334z m170.666667 0v85.333334h85.333333v-85.333334z m170.666666-341.333333v85.333333h85.333334V128z m170.666667 0v85.333333h85.333333V128z m170.666667 0v85.333333h85.333333V128z m0 170.666667v85.333333h85.333333v-85.333333zM128 640v85.333333h85.333333v-85.333333z m0-341.333333v85.333333h85.333333v-85.333333z m341.333333 341.333333v85.333333h85.333334v-85.333333z m0-341.333333v85.333333h85.333334v-85.333333zM128 128v85.333333h85.333333V128z m170.666667 0v85.333333h85.333333V128zM128 810.666667v85.333333h768v-85.333333z"}))),iO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M656 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM714 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 302h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 476h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM540 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM366 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM540 128H358c-127 0-230 103-230 230v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-87.3 70.7-158 158-158h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}))),oO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M368 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM366 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 302h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 476h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM540 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM714 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM666 128H484c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h182c87.3 0 158 70.7 158 158v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-127-103-230-230-230z"}))),sO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M712 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM714 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM136 374h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM136 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM888 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 476h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 302h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM540 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM310 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM540 824H358c-87.3 0-158-70.7-158-158V484c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v182c0 127 103 230 230 230h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}))),lO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M368 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM310 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM888 302h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM888 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 476h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 302h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM192 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM484 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM658 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM888 476h-56c-4.4 0-8 3.6-8 8v182c0 87.3-70.7 158-158 158H484c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h182c127 0 230-103 230-230V484c0-4.4-3.6-8-8-8z"}))),cO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M592 928H432a48 48 0 1 0 0 96h160a48 48 0 1 0 0-96zM976 0H784a48 48 0 1 0 0 96h144v144.016a48 48 0 1 0 96 0V48a48 48 0 0 0-48-48zM240 928H96v-144a48 48 0 1 0-96 0v192a48 48 0 0 0 48 48h192a48 48 0 1 0 0-96zM48 640a48 48 0 0 0 48-48V432a48 48 0 1 0-96 0v160a48 48 0 0 0 48 48zM240 0H48a48 48 0 0 0-48 48v192a48 48 0 1 0 96 0V96h144a48 48 0 1 0 0-96z m784 592V432a48 48 0 1 0-96 0v160a48 48 0 1 0 96 0zM592 0H432a48 48 0 1 0 0 96h160a48 48 0 1 0 0-96z m384 736a48 48 0 0 0-48 48v144h-144a48 48 0 1 0 0 96h192a48 48 0 0 0 48-48V784a48 48 0 0 0-48-48z"}))),dO="base-element-border-attribute",es=4;function Cr(e){const{borderRadius:t,borderWidth:n,borderColor:r,boxSizing:a,borderDash:i}=(e==null?void 0:e.detail)||{};let o="solid",s=es;Array.isArray(i)&&(i==null?void 0:i.length)>0&&i[0]>=1&&typeof n=="number"&&(o="dash",s=Math.ceil(i[0]));const c={borderRadiusList:[0,0,0,0],borderWidthList:[0,0,0,0],borderColor:r,borderType:o,boxSizing:a,borderDashNum:s};return typeof t=="number"?(c.borderRadius=t,c.borderRadiusList=[t,t,t,t]):Array.isArray(t)?c.borderRadiusList=[t[0]||0,t[1]||0,t[2]||0,t[3]||0]:c.borderRadius=0,typeof n=="number"?(c.borderWidth=n,c.borderWidthList=[n,n,n,n]):Array.isArray(n)?c.borderWidthList=[n[0]||0,n[1]||0,n[2]||0,n[3]||0]:c.borderWidth=0,c}const uO=e=>{var t,n;const{className:r,style:a,element:i,disabled:o,onChange:s}=e,c=O.useRef(null),{createPrefixName:d}=O.useContext(le),u=d(dO),f=u(),p=u("row"),h=u("col"),v=u("input"),g=u("form-item"),[m,b]=O.useState(Array.isArray((t=i==null?void 0:i.detail)===null||t===void 0?void 0:t.borderRadius)),[y,x]=O.useState(Array.isArray((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.borderWidth)),[w,C]=O.useState(y),_=an(),A=R=>{var S,P;const j=Cr(i),{borderColor:I,boxSizing:M,borderType:T,borderDashNum:N}=R,F={};if(I&&(F.borderColor=I),M&&(F.boxSizing=M),y===!0&&R.borderWidthList){const B=[0,0,0,0],H=Array.from((R==null?void 0:R.borderWidthList)||[null,null,null,null]);for(let E=0;E<4;E++){const k=H[E];typeof k=="number"?B[E]=k:B[E]=((S=j==null?void 0:j.borderWidthList)===null||S===void 0?void 0:S[E])||0,F.borderWidth=B}}else typeof R.borderWidth=="number"&&(F.borderWidth=R.borderWidth);if(m===!0&&R.borderRadiusList){const B=[0,0,0,0],H=Array.from((R==null?void 0:R.borderRadiusList)||[null,null,null,null]);for(let E=0;E<4;E++){const k=H[E];typeof k=="number"?B[E]=k:B[E]=((P=j==null?void 0:j.borderRadiusList)===null||P===void 0?void 0:P[E])||0,F.borderRadius=B}}else typeof R.borderRadius=="number"&&(F.borderRadius=R.borderRadius);y===!0?F.borderDash=[]:T==="solid"?F.borderDash=[]:T==="dash"?F.borderDash=[es,es]:N&&N>0&&(F.borderDash=[N,N]),s==null||s({detail:F})};return O.useEffect(()=>{var R,S,P;const j=Array.isArray((R=i==null?void 0:i.detail)===null||R===void 0?void 0:R.borderWidth),I=Array.isArray((S=i==null?void 0:i.detail)===null||S===void 0?void 0:S.borderRadius);x(j),b(I),C(j);const M=Cr(i);(P=c.current)===null||P===void 0||P.setFieldsValue(M)},[i]),O.useMemo(()=>{const R=Cr(i);return l.createElement(J,{ref:c,style:a,className:pe(f,r),onValuesChange:A},l.createElement(l.Fragment,null,l.createElement(he,{className:p},l.createElement(Q,{span:16,className:h},y?l.createElement(Qn,{className:v,size:"small",prefix:l.createElement(mo,{style:{fontSize:14}}),disabled:!0,value:_.mixedBorderWidth}):l.createElement(J.Item,{className:g,name:"borderWidth"},l.createElement(se,{className:v,size:"small",min:0,placeholder:"Border Width",prefix:l.createElement(mo,{style:{fontSize:14}}),disabled:o||y}))),l.createElement(Q,{span:4,className:h},l.createElement(Ke,{icon:l.createElement(mo,null),size:"small",disabled:o,type:y?"primary":"default",onClick:()=>{var S;const P=!y;if(x(P),C(P),!P){const j=Cr(i),I=j.borderWidth||((S=j.borderWidthList)===null||S===void 0?void 0:S[0])||0;A({borderWidth:I})}}}))),y&&l.createElement(l.Fragment,null,l.createElement(he,{className:p},l.createElement(Q,{span:12,className:h},l.createElement(J.Item,{className:g,name:["borderWidthList",0]},l.createElement(se,{className:v,size:"small",prefix:l.createElement(rO,null),disabled:o||!y,min:0}))),l.createElement(Q,{span:12,className:h},l.createElement(J.Item,{className:g,name:["borderWidthList",1]},l.createElement(se,{className:v,size:"small",prefix:l.createElement(nO,null),disabled:o||!y,min:0})))),l.createElement(he,{className:p},l.createElement(Q,{span:12,className:h},l.createElement(J.Item,{className:g,name:["borderWidthList",2]},l.createElement(se,{className:v,size:"small",prefix:l.createElement(aO,null),disabled:o||!y,min:0}))),l.createElement(Q,{span:12,className:h},l.createElement(J.Item,{className:g,name:["borderWidthList",3]},l.createElement(se,{className:v,size:"small",prefix:l.createElement(tO,null),disabled:o||!y,min:0})))))),l.createElement(l.Fragment,null,l.createElement(he,{className:p},l.createElement(Q,{span:16,className:h},m?l.createElement(Qn,{className:v,size:"small",prefix:l.createElement(Bd,{style:{fontSize:14}}),disabled:!0,value:_.mixedBorderRadius}):l.createElement(J.Item,{className:g,name:"borderRadius"},l.createElement(se,{className:v,size:"small",placeholder:"Radius",prefix:l.createElement(Bd,{style:{fontSize:14}}),disabled:o||m||w,min:0}))),l.createElement(Q,{span:4,className:h},l.createElement(Ke,{icon:l.createElement(eO,null),size:"small",disabled:o||w,type:m?"primary":"default",onClick:()=>{var S;const P=!m;if(b(P),!P){const j=Cr(i),I=j.borderRadius||((S=j.borderRadiusList)===null||S===void 0?void 0:S[0])||0;A({borderRadius:I})}}}))),m&&l.createElement(l.Fragment,null,l.createElement(he,{className:p},l.createElement(Q,{span:12,className:h},l.createElement(J.Item,{className:g,name:["borderRadiusList",0]},l.createElement(se,{className:v,size:"small",placeholder:"",prefix:l.createElement(iO,null),disabled:o||!m||w,min:0}))),l.createElement(Q,{span:12,className:h},l.createElement(J.Item,{className:g,name:["borderRadiusList",1]},l.createElement(se,{className:v,size:"small",placeholder:"",prefix:l.createElement(oO,null),disabled:o||!m||w,min:0})))),l.createElement(he,{className:p},l.createElement(Q,{span:12,className:h},l.createElement(J.Item,{className:g,name:["borderRadiusList",2]},l.createElement(se,{className:v,size:"small",placeholder:"",prefix:l.createElement(sO,null),disabled:o||!m||w,min:0}))),l.createElement(Q,{span:12,className:h},l.createElement(J.Item,{className:g,name:["borderRadiusList",3]},l.createElement(se,{className:v,size:"small",placeholder:"",prefix:l.createElement(lO,null),disabled:o||!m||w,min:0})))))),l.createElement(he,{className:p},l.createElement(Q,{className:h,span:"11"},l.createElement(J.Item,{className:g,name:"boxSizing"},l.createElement(We,{size:"small",disabled:o},l.createElement(We.Option,{value:"border-box"},_.inside),l.createElement(We.Option,{value:"content-box"},_.outside),l.createElement(We.Option,{value:"center-line"},_.centerLine)))),l.createElement(Q,{className:h,span:"13"},l.createElement(J.Item,{className:g,name:"borderColor"},l.createElement(Fi,{elementSize:i?yi(i):void 0,disabled:o,disabledLinearGradient:!0,disabledRadialGradient:!0})))),l.createElement(he,{className:p},l.createElement(Q,{className:h,span:"11"},l.createElement(J.Item,{className:g,name:"borderType"},l.createElement(We,{size:"small",disabled:o||y},l.createElement(We.Option,{value:"solid"},_.solid),l.createElement(We.Option,{value:"dash"},_.dash)))),l.createElement(Q,{className:h,span:"13"},R.borderType==="dash"&&l.createElement(J.Item,{className:g,name:"borderDashNum"},l.createElement(se,{disabled:o||y,className:v,size:"small",style:{width:"100%"},prefix:l.createElement(cO,{style:{fontSize:14}})})))))},[_,i,o,m,y,w])},fO="base-element-detail-circle",hO=e=>{const{className:t,style:n}=e,{createPrefixName:r}=O.useContext(le),i=r(fO)();return O.useMemo(()=>l.createElement("div",{style:n,className:pe(i,t)}),[n,t])};var pO=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})};const{TextArea:gO}=Qn,vO="base-element-field-image-picker",{useCallback:Fd}=l,mO=["image/png","image/jpeg","image/jpg","image/png"],bO=({value:e="",onChange:t})=>{const[n,r]=O.useState(e),[a,i]=O.useState("free"),{createPrefixName:o}=O.useContext(le),s=o(vO),c=s(),d=s("box"),u=s("entity"),f=s("action"),p=s("action-text"),h=s("action-upload"),v=Fd(y=>{const x=y||"";let w=3,C=300;return x.length>128&&(w=10),{rows:w,width:C}},[n]),g=y=>{t==null||t(y||e)},m=y=>{r(y),Ct.imageSrc(y)&&g(y)},b=Fd(()=>{a!=="picking"&&(ts({success:y=>pO(void 0,void 0,void 0,function*(){if(mO.includes(y.file.type)!==!0){Ya.error(`File's type "${y.file.type}" is not supported!`);return}try{const x=yield mh(y.file);m(x.toString())}catch{Ya.error(`Failed to parse file ${y.file.name}`)}i("free")}),error:y=>{console.log(y),i("free")}}),i("picking"),setTimeout(()=>{i("free")},500))},[a]);return O.useMemo(()=>l.createElement("div",{className:c},l.createElement("div",{className:d},l.createElement("img",{className:u,src:e||n}),l.createElement("div",{className:f},l.createElement("div",{className:p},l.createElement(Gd,{content:()=>l.createElement("div",null,l.createElement(gO,{value:e||n,style:{width:v(e||n).width},rows:v(e||n).rows,onChange:y=>{m(y.target.value||"")}})),trigger:"click"},l.createElement("span",{style:{display:"inline-block",width:"100%",height:"100%",lineHeight:"50px"}},"URL"))),l.createElement("div",{onClick:b,className:h},l.createElement("span",null,"Upload"))))),[e,n])},yO="base-element-detail-image",wO=e=>{const{className:t,style:n,element:r,onChange:a,getElementAsset:i,createElementAsset:o,disabled:s}=e,{createPrefixName:c}=O.useContext(le),u=c(yO)(),f=O.useRef(null),p=v=>{const{src:g=""}=(v==null?void 0:v.detail)||{};return{src:g,imageResource:(i==null?void 0:i(g))||""}},h=v=>{const g={};if(v!=null&&v.imageResource){const{assetId:m}=o({type:"image",value:v.imageResource});m&&Kt(m)&&(g.src=m)}a==null||a({detail:g})};return O.useEffect(()=>{var v;const g=p(r);(v=f.current)===null||v===void 0||v.setFieldsValue(g)},[r]),O.useMemo(()=>l.createElement("div",{style:n,className:pe(u,t)},l.createElement(J,{ref:f,onValuesChange:h},l.createElement(J.Item,{name:"imageResource"},l.createElement(bO,null)))),[r,s])},xO="base-element-detail-path",EO=e=>{const{className:t,style:n}=e,{createPrefixName:r}=O.useContext(le),i=r(xO)();return O.useMemo(()=>l.createElement("div",{style:n,className:pe(i,t)}),[n,t])},SO="base-element-detail-rect",CO=e=>{const{className:t,style:n}=e,{createPrefixName:r}=O.useContext(le),i=r(SO)();return O.useMemo(()=>l.createElement("div",{style:n,className:pe(i,t)}),[n,t])};var _O=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})};const MO="base-element-field-svg-picker",AO=["image/svg+xml"];function OO(e){const t=document.createElement("div");return t.innerHTML=e,document.querySelector("svg").setAttribute("_t",Date.now()+""),{__html:t.innerHTML}}const TO=({value:e="",onChange:t})=>{const[n,r]=O.useState(e),[a,i]=O.useState("free"),{createPrefixName:o}=O.useContext(le),s=o(MO),c=s(),d=s("box"),u=s("entity"),f=s("action");s("action-text");const p=s("action-upload"),h=m=>{t==null||t(m||e)},v=m=>{r(m),Ct.svg(m)&&h(m)},g=O.useCallback(()=>{a!=="picking"&&(ts({success:m=>_O(void 0,void 0,void 0,function*(){if(AO.includes(m.file.type)!==!0){Ya.error(`File's type "${m.file.type}" is not supported!`);return}try{let b=(yield bh(m.file)).toString();b=b.substring(b.indexOf("<svg")),v(b)}catch{Ya.error(`Failed to parse file ${m.file.name}`)}i("free")}),error:m=>{console.log(m),i("free")}}),i("picking"),setTimeout(()=>{i("free")},500))},[a]);return O.useMemo(()=>l.createElement("div",{className:c},l.createElement("div",{className:d},l.createElement("div",{className:u,dangerouslySetInnerHTML:OO(e||n)}),l.createElement("div",{className:f},l.createElement("div",{onClick:g,className:p},l.createElement("span",null,"Upload"))))),[e,n])},PO="base-element-detail-svg",$O=e=>{const{className:t,style:n,element:r,onChange:a,getElementAsset:i,createElementAsset:o,disabled:s}=e,{createPrefixName:c}=O.useContext(le),u=c(PO)(),f=O.useRef(null),p=v=>{const{svg:g=""}=(v==null?void 0:v.detail)||{};return{svg:g,svgResource:(i==null?void 0:i(g))||""}},h=v=>{const g={};if(v!=null&&v.svgResource){const{assetId:m}=o({type:"svg",value:v.svgResource});m&&Kt(m)&&(g.svg=m)}a==null||a({detail:g})};return O.useEffect(()=>{var v;const g=p(r);(v=f.current)===null||v===void 0||v.setFieldsValue(g)},[r]),O.useMemo(()=>l.createElement("div",{style:n,className:pe(u,t)},l.createElement(J,{ref:f,onValuesChange:h},l.createElement(J.Item,{name:"svgResource"},l.createElement(TO,null)))),[r,s])},IO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355c-3.2-4.1-9.4-4.1-12.6 0l-112 141.7c-4.1 5.2-0.4 12.9 6.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}))),zO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M859.9 474H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM506.3 399.3c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7 0.4-11.7-5.7-11.7H550V104c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v156h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.6zM517.7 624.7c-2.9-3.7-8.5-3.7-11.3 0L405.6 752.3c-3.7 4.7-0.4 11.7 5.7 11.7H474v156c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V764h62.8c6 0 9.4-7 5.7-11.7L517.7 624.7z"}))),RO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669c3.2 4.1 9.4 4.1 12.6 0l112-141.7c4.1-5.2 0.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}))),DO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM120 654h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}))),NO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M264 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM760 654c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}))),jO=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 582H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 794H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM904 370H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}))),LO="base-element-detail-text",vn={fontSize:20},mn=e=>Ct.number(e*1)?Te(e*1):e,kO=e=>{const{color:t,textAlign:n,verticalAlign:r,fontSize:a,fontWeight:i,lineHeight:o}=(e==null?void 0:e.detail)||{};return{color:t,textAlign:n,verticalAlign:r,fontSize:a,fontWeight:i,lineHeight:o}},BO=e=>{const{className:t,style:n,element:r,onChange:a,disabled:i}=e,{createPrefixName:o}=O.useContext(le),s=o(LO),c=s(),d=s("row"),u=s("col"),f=s("switch"),p=s("form-item"),h=O.useRef(null);O.useEffect(()=>{var g;const m=kO(r);(g=h.current)===null||g===void 0||g.setFieldsValue(m)},[r]);const v=g=>{a==null||a({detail:g})};return O.useMemo(()=>l.createElement("div",{style:n,className:pe(c,t)},l.createElement(J,{ref:h,style:n,className:c,onValuesChange:v},l.createElement(he,{className:d},l.createElement(Q,{span:"12",className:u},l.createElement(J.Item,{className:p,name:"verticalAlign"},l.createElement(Ue.Group,{disabled:i,className:f,size:"small"},l.createElement(Ue.Button,{value:"top"},l.createElement(IO,{style:vn})),l.createElement(Ue.Button,{value:"middle"},l.createElement(zO,{style:vn})),l.createElement(Ue.Button,{value:"bottom"},l.createElement(RO,{style:vn}))))),l.createElement(Q,{span:"12",className:u},l.createElement(J.Item,{className:p,name:"textAlign"},l.createElement(Ue.Group,{disabled:i,className:f,size:"small"},l.createElement(Ue.Button,{value:"left"},l.createElement(DO,{style:vn})),l.createElement(Ue.Button,{value:"center"},l.createElement(NO,{style:vn})),l.createElement(Ue.Button,{value:"right"},l.createElement(jO,{style:vn})))))),l.createElement(he,{className:d},l.createElement(Q,{span:"10",className:u},"Text Color"),l.createElement(Q,{span:"14",className:u},l.createElement(J.Item,{className:p,name:"color"},l.createElement(Fi,{elementSize:r?yi(r):void 0,disabled:i,disabledLinearGradient:!0,disabledRadialGradient:!0})))),l.createElement(he,{className:d},l.createElement(Q,{span:"10",className:u},"Font Size"),l.createElement(Q,{span:"14",className:u},l.createElement(J.Item,{className:p,name:"fontSize"},l.createElement(se,{disabled:i,size:"small",style:{width:"100%"},step:1,min:0,formatter:mn,parser:mn})))),l.createElement(he,{className:d},l.createElement(Q,{span:"10",className:u},"Font Weight"),l.createElement(Q,{span:"14",className:u},l.createElement(J.Item,{className:p,name:"fontWeight"},l.createElement(se,{disabled:i,size:"small",style:{width:"100%"},step:100,max:1e3,min:100,formatter:mn,parser:mn})))),l.createElement(he,{className:d},l.createElement(Q,{span:"10",className:u},"Line Height"),l.createElement(Q,{span:"14",className:u},l.createElement(J.Item,{className:p,name:"lineHeight"},l.createElement(se,{disabled:i,size:"small",style:{width:"100%"},step:1,min:0,formatter:mn,parser:mn})))))),[n,t])},FO="base-element-detail-group",HO=e=>{const{overflow:t}=(e==null?void 0:e.detail)||{};return{overflow:t}},WO=e=>{const{className:t,style:n,element:r,onChange:a,disabled:i}=e,{createPrefixName:o}=O.useContext(le),s=o(FO),c=s(),d=s("row"),u=s("col"),f=s("form-item"),p=O.useRef(null),h=an();O.useEffect(()=>{var g;const m=HO(r);(g=p.current)===null||g===void 0||g.setFieldsValue(m)},[r]);const v=g=>{a==null||a({detail:g})};return O.useMemo(()=>l.createElement("div",{style:n,className:pe(c,t)},l.createElement(J,{ref:p,style:n,className:c,onValuesChange:v},l.createElement(he,{className:d},l.createElement(Q,{className:u,span:"10"},h.overflow),l.createElement(Q,{span:"12",className:u},l.createElement(J.Item,{className:f,name:"overflow"},l.createElement(We,{size:"small",disabled:i},l.createElement(We.Option,{value:"visible"},h.visible),l.createElement(We.Option,{value:"hidden"},h.hidden))))))),[n,t,h])},GO="base-element-detail-attribute",VO=e=>{const{element:t,onChange:n,disabled:r,getElementAsset:a,createElementAsset:i}=e,{createPrefixName:o}=O.useContext(le),c=o(GO)();return O.useMemo(()=>l.createElement("div",{className:c},(t==null?void 0:t.type)==="circle"&&l.createElement(hO,{element:t,onChange:n,disabled:r}),(t==null?void 0:t.type)==="image"&&l.createElement(wO,{element:t,onChange:n,disabled:r,getElementAsset:a,createElementAsset:i}),(t==null?void 0:t.type)==="svg"&&l.createElement($O,{element:t,onChange:n,disabled:r,getElementAsset:a,createElementAsset:i}),(t==null?void 0:t.type)==="group"&&l.createElement(WO,{element:t,onChange:n,disabled:r}),(t==null?void 0:t.type)==="path"&&l.createElement(EO,{element:t,onChange:n,disabled:r}),(t==null?void 0:t.type)==="rect"&&l.createElement(CO,{element:t,onChange:n,disabled:r}),(t==null?void 0:t.type)==="text"&&l.createElement(BO,{element:t,onChange:n})),[r,t])},UO="base-element-content-attribute",YO=e=>{let{opacity:t}=(e==null?void 0:e.detail)||{};const{background:n}=(e==null?void 0:e.detail)||{};return typeof t=="number"&&t>=0&&t<=1||(t=1),{background:n,opacity:t}},XO=e=>{const{style:t,element:n,disabled:r,onChange:a,getElementAsset:i,createElementAsset:o}=e,s=O.useRef(null),{createPrefixName:c}=O.useContext(le),d=c(UO),u=d(),f=d("row"),p=d("col"),h=d("form-item"),v=b=>{const y=b;a==null||a({detail:y})},g=b=>{a==null||a(b)},m=an();return O.useEffect(()=>{var b;const y=YO(n);(b=s.current)===null||b===void 0||b.setFieldsValue(y)},[n]),O.useMemo(()=>l.createElement(l.Fragment,null,l.createElement(J,{ref:s,style:t,className:u,onValuesChange:v},["rect","circle","text","group","path"].includes(n==null?void 0:n.type)&&l.createElement(he,{className:f},l.createElement(Q,{className:p,span:"10"},m.background),l.createElement(Q,{className:p,span:"14"},l.createElement(J.Item,{className:h,name:"background"},l.createElement(Fi,{elementSize:n?yi(n):void 0,disabled:r})))),l.createElement(he,{className:f},l.createElement(Q,{className:p,span:"10"},m.opacity),l.createElement(Q,{className:p,span:"14"},l.createElement(J.Item,{className:h,name:"opacity"},l.createElement(se,{disabled:r,size:"small",style:{width:"100%"},step:.1}))))),l.createElement(VO,{element:n,disabled:r,onChange:g,getElementAsset:i,createElementAsset:o})),[m,n,r,a])},ZO="base-element-shadow-attribute",KO=e=>{const{shadowColor:t,shadowBlur:n,shadowOffsetX:r,shadowOffsetY:a}=(e==null?void 0:e.detail)||{};return{shadowColor:t,shadowBlur:n,shadowOffsetX:r,shadowOffsetY:a}},QO=e=>{const{style:t,element:n,disabled:r,onChange:a}=e,i=O.useRef(null),{createPrefixName:o}=O.useContext(le),s=o(ZO),c=s(),d=s("row"),u=s("col"),f=s("form-item"),p=v=>{const g=v;a==null||a({detail:g})},h=an();return O.useEffect(()=>{var v;const g=KO(n);(v=i.current)===null||v===void 0||v.setFieldsValue(g)},[n]),O.useMemo(()=>l.createElement(J,{ref:i,style:t,className:c,onValuesChange:p},l.createElement(he,{className:d},l.createElement(Q,{className:u,span:"14"},l.createElement(J.Item,{className:f,name:"shadowColor"},l.createElement(Fi,{elementSize:n?yi(n):void 0,disabled:r,disabledLinearGradient:!0,disabledRadialGradient:!0}))),l.createElement(Q,{className:u,span:"10"},l.createElement(J.Item,{className:f,name:"shadowBlur"},l.createElement(se,{disabled:r,size:"small",style:{width:"100%"}})))),l.createElement(he,null,l.createElement(Q,{className:u,span:"12"},l.createElement(J.Item,{className:f,name:"shadowOffsetX"},l.createElement(se,{disabled:r,size:"small",style:{width:"100%"},prefix:"X"}))),l.createElement(Q,{className:u,span:"12"},l.createElement(J.Item,{className:f,name:"shadowOffsetY"},l.createElement(se,{disabled:r,size:"small",style:{width:"100%"},prefix:"Y"}))))),[h,n,r])},JO="base-element-detail",qO=rn(),e9=e=>{const{className:t,style:n,element:r,onChange:a,getElementAsset:i,createElementAsset:o}=e,{createPrefixName:s}=O.useContext(le),c=s(JO),d=an();let u=r;r&&(u=Object.assign(Object.assign({},r||{}),{detail:Object.assign(Object.assign({},qO),r==null?void 0:r.detail)}));const f=[{key:"basic-attribute",label:d.basicAttributes,children:l.createElement(fv,{element:u,disabled:!u,onChange:p=>{a==null||a(p)}})},{key:"border-attribute",label:d.borderAttribute,children:["rect","circle","text","image","group"].includes(r==null?void 0:r.type)?l.createElement(uO,{element:u,disabled:!u,onChange:p=>{a==null||a(p)}}):l.createElement(aa,{image:aa.PRESENTED_IMAGE_SIMPLE,description:!1})},{key:"content-attribute",label:d.contentAttribute,children:l.createElement(XO,{element:u,disabled:!u,onChange:p=>{a==null||a(p)},getElementAsset:i,createElementAsset:o})},{key:"shadow-attribute",label:d.shadowAttribute,children:["rect","circle","text","image","group"].includes(r==null?void 0:r.type)?l.createElement(QO,{element:u,disabled:!u,onChange:p=>{a==null||a(p)}}):l.createElement(aa,{image:aa.PRESENTED_IMAGE_SIMPLE,description:!1})}];return O.useMemo(()=>l.createElement("div",{style:n,className:pe(c(),t)},l.createElement(G0,{ghost:!0,items:f,size:"small",defaultActiveKey:f.map(p=>p.key)})),[u,d])},D0=e=>{var t;const n={uuid:e.uuid,key:e.uuid,title:e.name||e.detail.text||e.type||"unamed",type:e.type,children:[],operations:e.operations||{}};return e.type==="group"&&Array.isArray((t=e==null?void 0:e.detail)===null||t===void 0?void 0:t.children)&&e.detail.children.forEach(r=>{n.children.push(D0(r))}),n};function Re(e){const t=[];return e.elements.forEach(n=>{const r=D0(n);t.push(r)}),t}const t9=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16z m-52 268H212V212h200v200zM864 144H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16z m-52 268H612V212h200v200zM864 544H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16z m-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}))),n9=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M272.9 512l265.4-339.1c4.1-5.2 0.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3c-9.1 11.6-9.1 27.9 0 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512z"}),l.createElement("path",{d:"M576.9 512l265.4-339.1c4.1-5.2 0.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3c-9.1 11.6-9.1 27.9 0 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}))),r9=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3 0.1-12.7-6.4-12.7z"}))),a9=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M841.065412 337.317647v352.015059c0 46.802824-23.070118 74.752-39.936 95.111529-14.095059 17.106824-21.443765 26.684235-21.443765 41.803294V933.647059a30.117647 30.117647 0 0 1-60.235294 0v-107.39953c0-37.526588 19.576471-61.199059 35.297882-80.173176 14.576941-17.648941 26.142118-31.563294 26.142118-56.681412V337.317647c0-18.793412-16.143059-36.502588-33.189647-36.502588-19.817412 0-24.033882 3.072-24.214588 3.19247-3.975529 5.360941-3.855059 34.273882-3.794824 57.584942 0.060235 11.384471 0.120471 24.094118-0.12047 38.068705-0.240941 16.504471-12.830118 28.792471-30.358589 29.696a30.117647 30.117647 0 0 1-29.876706-30.117647v-127.698823c0-18.492235-13.372235-32.406588-31.081411-32.406588-16.263529 0-28.190118 12.107294-29.635765 29.394823v120.651294a30.117647 30.117647 0 0 1-60.235294 0V268.047059l-0.120471-0.602353v-46.561882c0-3.975529-0.843294-38.671059-28.551529-38.671059-27.105882 0-31.201882 24.214588-31.201883 38.671059v42.345411c0 1.686588-0.662588 3.252706-0.963764 4.879059v156.250353a30.117647 30.117647 0 0 1-60.235294 0V262.686118c-2.891294-11.685647-11.324235-23.491765-28.069647-23.491765-17.227294 0-31.744 15.721412-31.744 34.334118v201.788235c0 0.421647-0.361412 0.783059-0.361412 1.204706v66.319059a30.117647 30.117647 0 0 1-60.235294 0v-50.236236c-10.601412-3.855059-25.961412-6.987294-34.755765-4.999529-7.107765 1.385412-14.275765 7.649882-18.733176 16.323765a43.309176 43.309176 0 0 0-0.542118 38.369882L345.148235 766.192941a31.563294 31.563294 0 0 1 2.108236 6.505412 32.888471 32.888471 0 0 0 35.418353 25.961412 30.238118 30.238118 0 0 1 33.310117 29.936941V933.647059a30.117647 30.117647 0 0 1-60.235294 0v-77.462588a92.521412 92.521412 0 0 1-66.680471-67.764706L187.934118 567.055059a104.448 104.448 0 0 1 1.927529-90.774588c12.890353-24.877176 35.418353-42.706824 60.295529-47.766589 12.649412-2.590118 29.756235-1.867294 46.682353 1.566118v-43.369412c0-0.602353 0.301176-1.144471 0.361412-1.746823v-111.435294c0-52.163765 41.321412-94.569412 91.979294-94.569412 12.047059 0 23.612235 2.409412 34.093177 6.746353 11.986824-38.791529 44.152471-63.668706 86.317176-63.668706 40.237176 0 71.800471 25.419294 83.666824 63.909647 10.721882-4.517647 22.467765-6.987294 34.876235-6.987294 41.502118 0 75.776 26.744471 87.160471 64.572235 11.023059-2.409412 22.226824-2.951529 32.286117-2.951529 50.718118 0 93.485176 44.272941 93.485177 96.737882z"}))),i9=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M118.979048 637.074286l137.99619 66.243047 255.171048 123.587048 246.076952-119.222857 147.163429-70.485334a73.142857 73.142857 0 0 1-34.230857 97.109334l-327.119239 158.427428a73.142857 73.142857 0 0 1-63.780571 0L153.136762 734.305524A73.142857 73.142857 0 0 1 118.979048 637.074286z m786.090666-153.063619a73.142857 73.142857 0 0 1-33.913904 97.767619L544.01219 740.205714a73.142857 73.142857 0 0 1-63.780571 0L153.136762 581.778286A73.142857 73.142857 0 0 1 117.51619 487.862857l362.300953 170.886095 32.329143 15.652572 327.119238-158.427429 65.80419-31.939047zM544.036571 139.190857l327.094858 158.403048a73.142857 73.142857 0 0 1 0 131.657143l-327.094858 158.427428a73.142857 73.142857 0 0 1-63.780571 0L153.136762 429.251048a73.142857 73.142857 0 0 1 0-131.657143L480.256 139.215238a73.142857 73.142857 0 0 1 63.780571 0z m-31.890285 65.828572L185.027048 363.422476l327.119238 158.427429 327.119238-158.427429L512.146286 205.04381z"}))),o9=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8c-16.4 12.8-16.4 37.5 0 50.3l450.8 352.1c5.3 4.1 12.9 0.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}))),s9=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M512 42.666667a469.333333 469.333333 0 1 0 469.333333 469.333333A469.333333 469.333333 0 0 0 512 42.666667z m0 864a394.666667 394.666667 0 1 1 394.666667-394.666667 395.146667 395.146667 0 0 1-394.666667 394.666667z"}),l.createElement("path",{d:"M304.906667 512m-66.666667 0a66.666667 66.666667 0 1 0 133.333333 0 66.666667 66.666667 0 1 0-133.333333 0Z"}),l.createElement("path",{d:"M512 512m-66.666667 0a66.666667 66.666667 0 1 0 133.333334 0 66.666667 66.666667 0 1 0-133.333334 0Z"}),l.createElement("path",{d:"M719.093333 512m-66.666666 0a66.666667 66.666667 0 1 0 133.333333 0 66.666667 66.666667 0 1 0-133.333333 0Z"}))),l9=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M929.19 352.19c3.12 3.12 3.12 8.19 0 11.31L363.51 929.19c-3.12 3.12-8.19 3.12-11.31 0L94.81 671.81c-3.12-3.12-3.12-8.19 0-11.31L660.49 94.81c3.12-3.12 8.19-3.12 11.31 0l257.39 257.38z m-424.26 5.66l108.89 108.89c3.12 3.12 3.12 8.19 0 11.31l-36.77 36.77c-3.12 3.12-8.19 3.12-11.31 0L456.85 405.93l-50.91 50.91 62.23 62.23c3.12 3.12 3.12 8.19 0 11.31l-36.77 36.77c-3.12 3.12-8.19 3.12-11.31 0l-62.23-62.23-50.91 50.91 62.23 62.23c3.12 3.12 3.12 8.19 0 11.31l-36.77 36.77c-3.12 3.12-8.19 3.12-11.31 0l-62.23-62.23-62.23 62.23 161.22 161.22 469.52-469.52-161.23-161.21-62.23 62.23 62.23 62.23c3.12 3.12 3.12 8.19 0 11.31l-36.77 36.77c-3.12 3.12-8.19 3.12-11.31 0l-62.23-62.23-50.91 50.91z"}))),c9=e=>l.createElement(ae,Object.assign({},e),l.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},l.createElement("path",{d:"M725.333333 341.333333a128 128 0 1 1 128-128 128 128 0 0 1-128 128z m0-170.666666a42.666667 42.666667 0 1 0 42.666667 42.666666 42.666667 42.666667 0 0 0-42.666667-42.666666z"}),l.createElement("path",{d:"M640 256H85.333333a42.666667 42.666667 0 0 1 0-85.333333h554.666667a42.666667 42.666667 0 0 1 0 85.333333zM938.666667 256h-128a42.666667 42.666667 0 0 1 0-85.333333h128a42.666667 42.666667 0 0 1 0 85.333333zM512 640a128 128 0 1 1 128-128 128 128 0 0 1-128 128z m0-170.666667a42.666667 42.666667 0 1 0 42.666667 42.666667 42.666667 42.666667 0 0 0-42.666667-42.666667z"}),l.createElement("path",{d:"M426.666667 554.666667H85.333333a42.666667 42.666667 0 0 1 0-85.333334h341.333334a42.666667 42.666667 0 0 1 0 85.333334zM938.666667 554.666667h-341.333334a42.666667 42.666667 0 0 1 0-85.333334h341.333334a42.666667 42.666667 0 0 1 0 85.333334zM298.666667 938.666667a128 128 0 1 1 128-128 128 128 0 0 1-128 128z m0-170.666667a42.666667 42.666667 0 1 0 42.666666 42.666667 42.666667 42.666667 0 0 0-42.666666-42.666667z"}),l.createElement("path",{d:"M938.666667 853.333333H384a42.666667 42.666667 0 0 1 0-85.333333h554.666667a42.666667 42.666667 0 0 1 0 85.333333zM213.333333 853.333333H85.333333a42.666667 42.666667 0 0 1 0-85.333333h128a42.666667 42.666667 0 0 1 0 85.333333z"})));var d9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Xn(e,t){if(e.length===0)return Qt(t);const n=Jn(e,t.elements),r={elements:[],assets:t.assets};if((n==null?void 0:n.type)==="group"){const{w:a,h:i,detail:o}=n,{children:s}=o,c=d9(o,["children"]),d={type:"rect",x:0,y:0,w:a,h:i,detail:Object.assign({},c)};r.elements=Qt(s||[]),r.underlay=d}return r}function u9(e,t,n){if(e.length>0){const r=Jn(e,n.elements);(r==null?void 0:r.type)==="group"&&(r.detail.children=t.elements)}}const f9="dark",h9="en-US";function p9(e){const t=Object.assign({elements:[]},(e==null?void 0:e.data)||{});let n=[],r=t;e!=null&&e.defaultEditingGroupUUID&&(n=wi(e.defaultEditingGroupUUID,t.elements)),r=Xn(n,t);const a=Re(r);return{localeCode:(e==null?void 0:e.defaultLocale)||h9,themeMode:(e==null?void 0:e.defaultThemeMode)||f9,data:t,editingData:r,editingDataPosition:n,treeData:a,selectedUUIDs:(e==null?void 0:e.defaultSelectedElementUUIDs)||[],scaleInfo:Object.assign({scale:1,from:"init"},(e==null?void 0:e.defaultScaleInfo)||{})}}function g9(e){const t=Object.assign({elements:[]},(e==null?void 0:e.data)||{});return{localeCode:"en-US",themeMode:(e==null?void 0:e.themeMode)||"light",data:Object.assign({elements:[]},(e==null?void 0:e.data)||{}),editingData:Xn([],t),editingDataPosition:[],treeData:[],selectedUUIDs:[],scaleInfo:Object.assign({scale:1,from:"control"},(e==null?void 0:e.scaleInfo)||{})}}function v9(e,t){var n,r;switch(t.type){case"update":return t!=null&&t.payload?Object.assign(Object.assign({},e),t==null?void 0:t.payload):e;case"updateThemeMode":return!((n=t==null?void 0:t.payload)===null||n===void 0)&&n.themeMode?Object.assign(Object.assign({},e),{themeMode:(r=t==null?void 0:t.payload)===null||r===void 0?void 0:r.themeMode}):e;default:return e}}const fr=O.createContext({state:g9(),dispatch:()=>{}}),m9=fr.Provider,b9={locale:"en-US",NavMenu:{about:"About @idraw/studio",file:"File",importJSONFile:"Import JSON file",exportJSONFile:"Export JSON file",exportImage:"Export image",preferences:"Preferences",rect:"Rect",circle:"Circle",text:"Text",image:"Image",html:"HTML",svg:"SVG",group:"Group",devicePixelRatio:"Device pixel ratio"},Toolbar:{layers:"Layers",ruler:"Ruler",attributes:"Attributes",hand:"Hand tool"},contextMenu:{copy:"Copy",paste:"Paste",cut:"Cut",delete:"Delete"}},y9={locale:"zh-CN",NavMenu:{about:"关于 @idraw/studio",file:"文件",importJSONFile:"导入JSON文件",exportJSONFile:"导出JSON文件",exportImage:"导出图片",preferences:"预设",rect:"矩形",circle:"圆形",text:"文本",image:"图片",html:"HTML片段",svg:"SVG片段",group:"群组",devicePixelRatio:"设备像素比例"},Toolbar:{layers:"图层",ruler:"标尺",attributes:"属性",hand:"拖拽工具"},contextMenu:{copy:"复制",paste:"粘贴",cut:"剪切",delete:"删除"}},w9={"en-US":b9,"zh-CN":y9},al=e=>{const{state:t}=O.useContext(fr),n=t.localeCode;return[O.useMemo(()=>{const i=w9[n][e];return Object.assign({},i)},[n,e])]},x9="mod-toolbar",E9=()=>{const[e]=al("Toolbar");return e},S9=e=>{const{className:t,style:n,openLeftSider:r,openRightSider:a,onClickToggleLayer:i,onClickToggleSetting:o,sharedStore:s}=e,c={fontSize:16},{createPrefixName:d}=O.useContext(le),u=d(x9),f=u(),p=u("left"),h=u("right"),v=u("btn"),[g,m]=O.useState(!1),[b,y]=O.useState(!0),x=E9();O.useEffect(()=>{const C=s.get("idraw");C==null||C.reset({enableRuler:b,enableDrag:g,enableSelect:!g})},[g,b]);const w={size:"small",className:v,shape:"default"};return O.useMemo(()=>l.createElement("div",{style:n,className:pe(f,t)},l.createElement("div",{className:p}),l.createElement("div",{className:h},l.createElement(ia,{title:x.layers},l.createElement(Ke,Object.assign({},w,{type:r?"primary":"default",icon:l.createElement(i9,{style:c}),onClick:i}))),l.createElement(ia,{title:x.attributes},l.createElement(Ke,Object.assign({},w,{type:a?"primary":"default",icon:l.createElement(c9,{style:c}),onClick:o}))),l.createElement(ia,{title:x.ruler},l.createElement(Ke,Object.assign({},w,{type:b?"primary":"default",icon:l.createElement(l9,{style:Object.assign(Object.assign({},c),{fontSize:20})}),onClick:()=>{y(!b)}}))),l.createElement(ia,{title:x.hand},l.createElement(Ke,Object.assign({},w,{type:g?"primary":"default",icon:l.createElement(a9,{style:Object.assign(Object.assign({},c),{fontSize:20})}),onClick:()=>{m(!g)}}))))),[r,a,i,o,g,b,x])},C9="mod-panel-layer",_9=e=>{const{className:t,style:n,height:r,defaultSelectedElementUUIDs:a=[],sharedStore:i,sharedEvent:o,useContextMenuOptions:s}=e,{state:c,dispatch:d}=O.useContext(fr),{createPrefixName:u}=O.useContext(le),f=u(C9),{treeData:p,selectedUUIDs:h,editingData:v}=c,g=O.useRef(null),[m,b]=O.useState(a),y=f(),x=f("content"),w=f("header"),C=f("header","title"),_=f("header","btn"),[A]=s({sharedEvent:o,sharedStore:i}),R=()=>{if(c.editingDataPosition.length===0)return"";const I=Jn(c.editingDataPosition,c.data.elements);return(I==null?void 0:I.name)||(I==null?void 0:I.type)||""},S=I=>{const M=i.get("idraw");M==null||M.selectElementsByPositions(I)};O.useEffect(()=>{o.on("scrollToLayer",({uuid:I})=>{var M;I&&((M=g.current)===null||M===void 0||M.scrollTo({key:I,align:"top"}))})},[]),O.useEffect(()=>{if(h[0]&&h.length===1){const M=su(h[0],v.elements).map(N=>N.uuid);h[0]&&M.push(h[0]);const T=[...m];M.forEach(N=>{T.includes(N)||T.push(N)}),b(T)}},[h,v]);const P=()=>{o.trigger("resetEditingView",{type:"back-root",position:null})},j=()=>{o.trigger("resetEditingView",{type:"back-one",position:null})};return O.useMemo(()=>Array.isArray(p)&&p.length>0?l.createElement("div",{style:n,className:pe(y,t),onContextMenu:I=>{I.preventDefault()}},l.createElement("div",{className:w},l.createElement(Ke,{className:_,size:"small",icon:l.createElement(n9,null),disabled:!(c.editingDataPosition.length>0),onClick:P}),l.createElement(Ke,{className:_,size:"small",icon:l.createElement(o9,null),disabled:!(c.editingDataPosition.length>0),onClick:j}),l.createElement("span",{className:C},R())),l.createElement(vi,{menu:{items:A},trigger:["contextMenu"]},l.createElement("div",{className:x},l.createElement(iv,{ref:g,height:r,treeData:p,selectedKeys:h,expandedKeys:m,onTitleChange:({uuid:I,value:M})=>{Hr(I,{name:M},c.editingData.elements);const T=Re(v);d({type:"update",payload:{editingData:Object.assign({},v),treeData:T}})},onOperationToggle:({uuid:I,operations:M})=>{Hr(I,{operations:M},c.editingData.elements);const T=Re(v);d({type:"update",payload:{editingData:Object.assign({},v),treeData:T}})},onSelect:I=>{h!=null&&h.includes(I.uuids[0])||S(I.positions)},onDrop:I=>{const{elements:M}=vu(v.elements,{from:I.from,to:I.to}),T=Re(v);d({type:"update",payload:{editingData:Object.assign(Object.assign({},v),{elements:[...M]}),treeData:T}})},onDelete:({uuid:I})=>{o.trigger("deleteElement",{uuid:I})},onGoToGroup:I=>{o.trigger("resetEditingView",{type:"go-to-group",position:I.position})},onExpand:(I,{node:M})=>{const T=M.key;if(T){let N=[...m];m.includes(T)?N.splice(N.indexOf(T),1):N=[...N,T],b(N)}}})))):l.createElement("div",{style:n,className:pe(y,t),onContextMenu:I=>{I.preventDefault()}},l.createElement("div",{className:w},"..."),l.createElement("div",{className:x},l.createElement("div",{style:{padding:"20px 0",textAlign:"center"}},"Empty"))),[p,h,m,v.elements,c.editingDataPosition,A])},M9="mod-panel-detail",A9=e=>{const{className:t,style:n}=e,{createPrefixName:r}=O.useContext(le),{state:a,dispatch:i}=O.useContext(fr),o=r(M9),{selectedUUIDs:s,editingData:c}=a,d=o(),u=O.useCallback(v=>{if((s==null?void 0:s.length)===1&&s[0]){const g=s[0];Hr(g,v,c.elements),i({type:"update",payload:{editingData:Object.assign({},c)}})}},[c,s]),f=O.useCallback(v=>(s==null?void 0:s.length)>1?null:ou(v,c.elements),[c,s[0]]),p=O.useCallback(v=>{var g,m;let b=null;return v&&Kt(v)&&(b=((m=(g=c.assets)===null||g===void 0?void 0:g[v])===null||m===void 0?void 0:m.value)||null),b},[c,s[0]]),h=O.useCallback(v=>{const g=Kn(v.value);return c.assets||(c.assets={}),c.assets[g]=v,{assetId:g,assetItem:v}},[c,s[0]]);return O.useMemo(()=>{const v=f(s[0]);return l.createElement("div",{style:n,className:pe(d,t),onContextMenu:g=>{g.preventDefault()}},l.createElement(e9,{element:v,onChange:u,getElementAsset:p,createElementAsset:h}))},[s[0]])},O9="mod-export-image-file",il=700,T9=il+48,Dr=500,P9=il-Dr,xa={devicePixelRatio:1,fileName:"download.png"},$9=e=>{const{className:t,style:n,sharedStore:r}=e,{createPrefixName:a}=O.useContext(le),i=a(O9),o=i(),s=i("preview"),c=i("options"),d=i("canvas"),[u,f]=O.useState(null),[p,h]=O.useState(!0),[v,g]=O.useState(null),[m]=J.useForm(),b=O.useCallback(x=>{const w=r.get("idraw");w&&(h(!0),w.getImageBlobURL({devicePixelRatio:x}).then(({blobURL:C,width:_,height:A,devicePixelRatio:R})=>{C&&(g(C),f({width:_,height:A,devicePixelRatio:R}))}).catch(C=>{console.log(C)}).finally(()=>{h(!1)}))},[]);O.useEffect(()=>{m.setFieldsValue({devicePixelRatio:xa.devicePixelRatio,fileName:xa.fileName}),setTimeout(()=>{b(xa.devicePixelRatio)},10)},[]);const y=()=>{if(!v)return;const x=m.getFieldsValue(),w=document.createElement("a");w.href=v,w.download=x.fileName||xa.fileName,document.body.appendChild(w),w.click(),document.body.removeChild(w)};return O.useMemo(()=>l.createElement("div",{style:Object.assign(Object.assign({},n),{width:il}),className:pe(o,t)},l.createElement(V0,{tip:"Loading...",spinning:p},l.createElement("div",{className:s,style:{width:Dr,height:Dr*3/4}},v&&l.createElement("img",{className:d,style:{maxWidth:Dr,maxHeight:Dr*3/4},src:v}))),l.createElement("div",{className:c,style:{width:P9}},l.createElement("div",{style:{marginBottom:6}},"Width: ",u==null?void 0:u.width),l.createElement("div",null,"Height: ",u==null?void 0:u.height),l.createElement(U0,null),l.createElement("div",null,l.createElement(J,{form:m,layout:"vertical",onValuesChange:x=>{x.devicePixelRatio>0&&setTimeout(()=>{b(x.devicePixelRatio)},10)},disabled:p},l.createElement(J.Item,{label:"Device pixel ratio",name:"devicePixelRatio"},l.createElement(We,{size:"small",options:[1,2,3,4].map(x=>({label:`x${x}`,value:x}))})),l.createElement(J.Item,{label:"File name",name:"fileName"},l.createElement(Qn,{size:"small",placeholder:"File name"})),l.createElement(Ke,{type:"primary",onClick:y,disabled:p||!v,loading:p},"Download"))))),[u,p,v,b])};var I9=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(s,c)}d((r=r.apply(e,t||[])).next())})};function z9(e){return new Promise(function(t,n){const r=new FileReader;r.onload=function(){t(r)},r.onerror=n,e.type==="application/json"?r.readAsText(e):r.readAsArrayBuffer(e)})}function R9(e){ts({accept:"application/json",success:t=>I9(this,void 0,void 0,function*(){var n,r,a;const o=(yield z9(t.file)).result;if(typeof o=="string")try{const s=JSON.parse(o);(n=e==null?void 0:e.success)===null||n===void 0||n.call(e,{json:s})}catch(s){(r=e==null?void 0:e.error)===null||r===void 0||r.call(e,s)}else(a=e==null?void 0:e.error)===null||a===void 0||a.call(e,Error("ERROR_PICK_FILE_FAIL"))}),error:e==null?void 0:e.error})}const D9=()=>{const[e]=al("NavMenu");return e},N9="mod-nav-menu",j9=e=>{const{className:t,style:n,sharedStore:r,sharedEvent:a}=e,[i,o]=Y0.useModal(),{createPrefixName:s}=O.useContext(le),c=s(N9),d=c(),u=c("dropdown"),[f,p]=O.useState([]),h=D9(),v=({key:w,domEvent:C})=>{C.preventDefault(),a.trigger("createElement",{type:w,element:{name:w}})},g=w=>{const C=r.get("idraw");C==null||C.resize({devicePixelRatio:w})},m={more:[{key:"about-idraw-stuido",label:h.about,disabled:!0},{key:"line",type:"divider"},{key:"file",label:h.file,children:[{key:"import-json-file",label:h.importJSONFile,onClick:()=>{R9({success:({json:w})=>{a.trigger("resetData",{data:w})},error:()=>{}})}},{key:"export-image",label:h.exportImage,onClick:()=>{i.info({icon:null,title:"Whole image file",width:T9,content:l.createElement($9,{sharedEvent:a,sharedStore:r}),footer:null,closable:!0})}},{key:"export-json-file",label:h.exportJSONFile,onClick:()=>{const w=r.get("idraw"),C=w==null?void 0:w.getData({compact:!0});if(C){const _=JSON.stringify(C);wh(_,{fileName:"downdown.json"})}}}]},{key:"preferences",label:h.preferences,children:[{key:"device-pixel-ratio",label:h.devicePixelRatio,type:"group",children:[{key:"device-pixel-ratio-x1",label:"x1",onClick:()=>{g(1)}},{key:"device-pixel-ratio-x2",label:"x2",onClick:()=>{g(2)}},{key:"device-pixel-ratio-x3",label:"x3",onClick:()=>{g(3)}}]}]}],element:[{key:"rect",label:h.rect,icon:l.createElement(af,null),onClick:v},{key:"circle",label:h.circle,icon:l.createElement(of,null),onClick:v},{key:"text",label:h.text,icon:l.createElement(sf,null),onClick:v},{key:"image",label:h.image,icon:l.createElement(df,null),onClick:v},{key:"svg",label:h.svg,icon:l.createElement(cf,null),onClick:v},{key:"html",label:h.html,disabled:!0,icon:l.createElement(uf,null),onClick:v},{key:"group",label:h.group,icon:l.createElement(lf,null),onClick:v}]},b={size:"small",type:"text"},y=[{key:"more",button:l.createElement(s9,{style:{fontSize:20}})},{key:"element",button:l.createElement(t9,{style:{fontSize:20}})}],x=()=>{const w=r.get("idraw"),C=[];if(w){const{viewSizeInfo:_}=w.getViewInfo(),{devicePixelRatio:A}=_;C.push(`device-pixel-ratio-x${A}`)}p(C)};return O.useMemo(()=>l.createElement("div",{style:n,className:pe(d,t)},y.map((w,C)=>l.createElement(vi,{key:C,trigger:["click","click"],menu:{items:m[w.key]||[],selectedKeys:f},placement:"bottom",overlayClassName:u,onOpenChange:_=>{_===!0&&x()}},l.createElement(Ke,Object.assign({},b,{onClick:_=>_.preventDefault()}),l.createElement(X0.Compact,null,w.button,l.createElement(r9,{style:{fontSize:10,marginLeft:4}}))))),o),[f,h])},L9="mod-header",k9=e=>{const{logo:t,navigationMenu:n,navigationCenter:r,className:a,style:i,openLeftSider:o,openRightSider:s,onClickToggleLayer:c,onClickToggleSetting:d,sharedStore:u,sharedEvent:f}=e,{state:p,dispatch:h}=O.useContext(fr),{createPrefixName:v}=O.useContext(le),g=v(L9),m=g(),b=g("left"),y=g("right"),x=g("center"),w=g("locale"),C=g("scale"),_=g("switch"),{localeCode:A,scaleInfo:R}=p;return O.useMemo(()=>l.createElement("div",{style:i,className:pe(m,a)},l.createElement("div",{className:b},t,n||l.createElement(j9,{sharedStore:u,sharedEvent:f}),l.createElement(S9,{openLeftSider:o,openRightSider:s,onClickToggleLayer:c,onClickToggleSetting:d,sharedStore:u,sharedEvent:f})),r&&l.createElement("div",{className:x},r),l.createElement("div",{className:y},l.createElement(zg,{className:C,value:`${Te(R.scale)}`,onChange:S=>{const P=parseFloat(S);P>0&&(h==null||h({type:"update",payload:{scaleInfo:{scale:Te(P),from:"control"}}}))}}),l.createElement(vh,{className:w,value:A,onChange:S=>{h==null||h({type:"update",payload:{localeCode:S}})}}),l.createElement(ph,{className:_,theme:p==null?void 0:p.themeMode,onChange:({theme:S})=>{h==null||h({type:"updateThemeMode",payload:{themeMode:S}})}}))),[A,R,o,s,c,d])},B9="mod-sketch",F9=e=>{const t=O.useRef(null),n=O.useRef(null),r=O.useRef(!1),{className:a,style:i,width:o,height:s,sharedEvent:c,sharedStore:d,useContextMenuOptions:u}=e,{generateClassName:f}=O.useContext(le),{state:p,dispatch:h}=O.useContext(fr),{editingData:v}=p,g=f(B9),m=O.useRef([]),b=O.useRef(p.editingData),y=O.useRef(p.data),[x]=u({sharedEvent:c,sharedStore:d});return O.useEffect(()=>{m.current=[...p.editingDataPosition],y.current=p.data,b.current=p.editingData},[p.editingDataPosition,p.data,p.editingData]),O.useEffect(()=>{if(!(t!=null&&t.current)||n!=null&&n.current)return;const w={width:o,height:s,devicePixelRatio:window.devicePixelRatio},C=new Pg(t.current,w);n.current=C;const _=N=>{const F=b.current;let{uuids:B}=N;const{positions:H}=N;H&&Array.isArray(H)&&(B=lu(H,F.elements).map(k=>k.uuid)),h({type:"update",payload:{selectedUUIDs:B}})},A=N=>{const{data:F,type:B}=N,H=b.current;if(["addElement","updateElement","deleteElement","moveElement","dragElement","resizeElement"].includes(B)){const E={editingData:Object.assign({},F)};["addElement","deleteElement","moveElement"].includes(B)&&(E.treeData=Re(H)),h({type:"update",payload:E})}},R=N=>{const{scale:F}=N;h({type:"update",payload:{scaleInfo:{scale:F,from:"event"}}})},S=N=>{const{type:F,element:B}=N,H=C.createElement(F,{element:B,viewCenter:!0}),E=C.addElement(H),k=Re(E);h({type:"update",payload:{editingData:Object.assign({},E),treeData:k}}),C.selectElements([H.uuid])},P=N=>{const{element:F,position:B=[]}=N,H=C.getViewCenter(),E=C.addElement(Object.assign(Object.assign({},F),{x:H.x-F.w/2,y:H.y-F.h/2}),{position:B}),k=Re(E);h({type:"update",payload:{editingData:Object.assign({},E),treeData:k}}),C.selectElements([F.uuid])},j=N=>{const{uuid:F}=N;C==null||C.deleteElement(F);const B=C==null?void 0:C.getData();if(B){const H=Re(B);h({type:"update",payload:{editingData:Object.assign({},B),treeData:H}}),C.trigger(ft,{})}},I=N=>{const{type:F,position:B}=N,H=n==null?void 0:n.current;if(!H)return;const E=m.current,k=y.current,Y=b.current;if(E.length>0&&u9(E,Y,k),F==="go-to-group"&&B){const $=[...E,...B],U=Xn($,k),V=Re(U);h({type:"update",payload:{data:Object.assign({},k),editingData:Object.assign({},U),editingDataPosition:$,treeData:V}}),H.centerContent({data:U}),H.trigger(ft,{})}else if(F==="back-one"&&E.length>0){const $=[...E];$.pop();const U=Xn($,k),V=Re(U);h({type:"update",payload:{data:Object.assign({},k),editingData:Object.assign({},U),editingDataPosition:[...$],treeData:V}}),H.centerContent({data:U}),H.trigger(ft,{})}else if(F==="back-root"){const $=[],U=Xn($,k),V=Re(U);h({type:"update",payload:{data:Object.assign({},k),editingData:U,editingDataPosition:$,treeData:V}}),H.centerContent({data:U}),H.trigger(ft,{})}},M=N=>{const{data:F}=N,B=[],H=Xn(B,F),E=Re(H);h({type:"update",payload:{data:Object.assign({},F),editingData:Object.assign({},H),editingDataPosition:B,treeData:E}}),C.setViewScale({scale:1,offsetX:0,offsetY:0}),C.trigger(ft,{})},T=N=>{const{editingData:F}=N,B=Re(F);h({type:"update",payload:{editingData:Object.assign({},F),treeData:B}}),C.trigger(ft,{})};if(C.on(kt,_),C.on("change",A),C.on(Io,R),c.on("createElement",S),c.on("addElement",P),c.on("deleteElement",j),c.on("resetEditingView",I),c.on("resetData",M),c.on("resetEditingData",T),c.on("dispatch",h),!r.current){if(p.scaleInfo){const{scale:N,offsetX:F,offsetY:B}=p.scaleInfo;N&&F&&B&&C.setViewScale({scale:N,offsetX:F,offsetY:B})}r.current=!0}return d.set("idraw",C),()=>{r.current=!1,C.off(kt,_),C.off("change",A),C.off(Io,R),d.set("idraw",null)}},[]),O.useEffect(()=>{n!=null&&n.current&&n.current.setData(v)},[v]),O.useEffect(()=>{if(n!=null&&n.current){const w=n.current;p.scaleInfo.from==="control"&&w.scale({scale:p.scaleInfo.scale,point:{x:o/2,y:s/2}})}},[p.scaleInfo]),O.useEffect(()=>{const w=n.current,C=t.current;w&&w.resize({width:o,height:s}),C&&(C.style.width=`${o}px`,C.style.height=`${s}px`)},[o,s]),O.useMemo(()=>l.createElement(vi,{menu:{items:x},trigger:["contextMenu"]},l.createElement("div",{ref:t,className:pe(g,a),style:Object.assign(Object.assign({},i),{width:o,height:s,padding:0})})),[x])},H9="mod-dashboard",Ea=240,Sa=240,_r=36,W9=O.forwardRef((e,t)=>{const{className:n,style:r,width:a,height:i,logo:o,navigationMenu:s,navigationCenter:c,defaultSelectedElementUUIDs:d,sharedStore:u,sharedEvent:f,useContextMenuOptions:p,handleKeyboard:h}=e,{createPrefixName:v}=O.useContext(le),g=v(H9),[m,b]=O.useState(!0),[y,x]=O.useState(!0);O.useEffect(()=>{const _=A=>{["INPUT","TEXTAREA"].includes(A.target.nodeName)||h(A,{sharedEvent:f,sharedStore:u})};return window.addEventListener("keydown",_),()=>{window.removeEventListener("keydown",_)}},[]);const[w,C]=O.useState({leftWidth:m?Ea:0,rightWidth:y?Sa:0,centerWidth:a-(m?Ea:0)-(y?Sa:0)});return O.useEffect(()=>{const _=m?Ea:0,A=y?Sa:0,R=a-_-A;C({leftWidth:_,rightWidth:A,centerWidth:R})},[i,a,m,y]),O.useMemo(()=>{const{leftWidth:_,rightWidth:A,centerWidth:R}=w;return l.createElement("div",{ref:t,className:pe(g(),n),style:Object.assign(Object.assign({},r),{width:a,height:i,padding:0})},l.createElement("div",{className:g("header"),style:{height:_r}},l.createElement(k9,{sharedEvent:f,sharedStore:u,logo:o,navigationMenu:s,navigationCenter:c,openLeftSider:m,openRightSider:y,onClickToggleLayer:()=>{const S=!m;let P=_;S?P=Ea:P=0,C({leftWidth:P,rightWidth:A,centerWidth:a-P-A}),b(S)},onClickToggleSetting:()=>{const S=!y;let P=A;S?P=Sa:P=0,C({leftWidth:_,rightWidth:P,centerWidth:a-_-P}),x(S)}})),l.createElement("div",{className:g("content"),style:{top:_r}},l.createElement(Xa,{split:"vertical",defaultSize:R+A,allowResize:!0,onChange:S=>{const P=a-S,j=S-A;j<100||C({leftWidth:P,rightWidth:A,centerWidth:j})},pane1Style:{width:_},pane2Style:{width:R+A}},l.createElement("div",null,m&&l.createElement(_9,{height:i-_r,className:g("left"),defaultSelectedElementUUIDs:d,sharedEvent:f,sharedStore:u,useContextMenuOptions:p})),l.createElement("div",{style:{width:w.centerWidth+w.rightWidth,display:"flex",flexDirection:"row"}},l.createElement(F9,{className:g("center"),width:R,height:i-_r,sharedStore:u,sharedEvent:f,useContextMenuOptions:p}),l.createElement("div",{className:g("right"),style:{width:A,height:i-_r}},l.createElement(A9,null))))))},[n,m,y,w,i])});function Hd(){return{idraw:null,clipboard:{type:"default",data:null},selectedUUIDs:[]}}function G9(e){const{sharedEvent:t,sharedStore:n}=e;t.on("copy",()=>{const r=n.get("idraw"),a=n.get("selectedUUIDs"),i=r==null?void 0:r.getData();if(i&&Array.isArray(a)&&a.length>0){const o=Aa(a,i.elements);o.length>0&&n.set("clipboard",{type:"copy-elements",data:o})}}),t.on("paste",()=>{const r=n.get("idraw"),a=n.get("clipboard"),i=n.get("selectedUUIDs");if(r&&["copy-elements","cut-elements"].includes(a==null?void 0:a.type)&&Array.isArray(a.data)){const o=a.data,s=[];if(a.type==="copy-elements"){for(let p=0;p<o.length;p++)if(o[p]){const h=o[p],v=Vi(h);v.name=`${v.name} copy`,s.push(v)}}else if(a.type==="cut-elements"){for(let p=0;p<o.length;p++)if(o[p]){const h=o[p],v=Vi(h);v.name=`${v.name}`,s.push(v)}}const c=r==null?void 0:r.getData(),d=wi(i[0],(c==null?void 0:c.elements)||[]);d.length>0&&d[d.length-1]++,s.forEach(p=>{r.addElement(p,{position:d})});const u=r==null?void 0:r.getData(),f=Re(u);t.trigger("dispatch",{type:"update",payload:{editingData:u,treeData:f}}),r.selectElement(s[0].uuid),setTimeout(()=>{t.trigger("scrollToLayer",{uuid:s[0].uuid})},100)}}),t.on("cut",()=>{const r=n.get("idraw"),a=n.get("selectedUUIDs"),i=r==null?void 0:r.getData();if(i&&Array.isArray(a)&&a.length>0){const c=Aa(a,i.elements);c.length>0&&n.set("clipboard",{type:"cut-elements",data:c.map(d=>Vi(d))}),c.forEach(d=>{r==null||r.deleteElement(d.uuid)})}const o=r==null?void 0:r.getData(),s=Re(o);t.trigger("dispatch",{type:"update",payload:{editingData:o,treeData:s}}),r==null||r.trigger(ft)}),t.on("delete",()=>{const r=n.get("idraw"),a=n.get("selectedUUIDs"),i=r==null?void 0:r.getData();if(i&&Array.isArray(a)&&a.length>0){const o=Aa(a,i.elements);if(o.length>0){for(let d=0;d<o.length;d++)r==null||r.deleteElement(o[d].uuid);const s=r==null?void 0:r.getData(),c=Re(s);t.trigger("dispatch",{type:"update",payload:{editingData:s,treeData:c}}),r==null||r.trigger(ft)}}})}const V9=e=>{const[t]=al("contextMenu"),{sharedEvent:n}=e;return[[{label:t.copy,key:"copy",onClick:()=>{n.trigger("copy")}},{label:t.paste,key:"paste-here",onClick:()=>{n.trigger("paste")}},{label:t.cut,key:"cut",onClick:()=>{n.trigger("cut")}},{label:t.delete,key:"delete",onClick:()=>{n.trigger("delete")}}]]};var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});var U9=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),bo={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},N0={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:U9?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},ol={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Ca=1;Ca<20;Ca++)ol["f"+Ca]=111+Ca;function Hi(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(o){return j0(o,t)}),a=function(s){return r.some(function(c){return L0(c,s)})},i=n==null?a:a(n);return i}function Y9(e,t){return Hi(e,t)}function X9(e,t){return Hi(e,{byKey:!0},t)}function j0(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var a=e.split("+"),i=a.length;for(var o in bo)r[bo[o]]=!1;var s=!0,c=!1,d=void 0;try{for(var u=a[Symbol.iterator](),f;!(s=(f=u.next()).done);s=!0){var p=f.value,h=p.endsWith("?")&&p.length>1;h&&(p=p.slice(0,-1));var v=sl(p),g=bo[v];if(p.length>1&&!g&&!N0[p]&&!ol[v])throw new TypeError('Unknown modifier: "'+p+'"');(i===1||!g)&&(n?r.key=v:r.which=k0(p)),g&&(r[g]=h?null:!0)}}catch(m){c=!0,d=m}finally{try{!s&&u.return&&u.return()}finally{if(c)throw d}}return r}function L0(e,t){for(var n in e){var r=e[n],a=void 0;if(r!=null&&(n==="key"&&t.key!=null?a=t.key.toLowerCase():n==="which"?a=r===91&&t.which===93?91:t.which:a=t[n],!(a==null&&r===!1)&&a!==r))return!1}return!0}function k0(e){e=sl(e);var t=ol[e]||e.toUpperCase().charCodeAt(0);return t}function sl(e){return e=e.toLowerCase(),e=N0[e]||e,e}var bn=Tt.default=Hi;Tt.isHotkey=Hi;Tt.isCodeHotkey=Y9;Tt.isKeyHotkey=X9;Tt.parseHotkey=j0;Tt.compareHotkey=L0;Tt.toKeyCode=k0;Tt.toKeyName=sl;const Z9=(e,t)=>{const{sharedEvent:n}=t;bn("mod+c",e)?n.trigger("copy",void 0):bn("mod+v",e)?n.trigger("paste",void 0):bn("mod+x",e)?n.trigger("cut",void 0):bn("del",e)||bn("backspace",e)?n.trigger("delete",void 0):bn("mod+s",e)&&console.log("Save ... ")},J9=l.forwardRef((e,t)=>{const{width:n=1e3,height:r=600,style:a,className:i,logo:o,navigationMenu:s,navigationCenter:c,defaultSelectedElementUUIDs:d,prefiexName:u,onEditGroupElement:f,useContextMenuOptions:p=V9,handleKeyboard:h=Z9}=e,[v,g]=O.useReducer(v9,p9(e)),m=O.useRef(null),b=O.useRef(new Jt),y=O.useRef(new Fr({defaultStorage:Hd()}));return O.useEffect(()=>{const x=Jn(v.editingDataPosition,v.data.elements);f==null||f({uuid:x==null?void 0:x.uuid,position:[...v.editingDataPosition]})},[v.editingDataPosition]),O.useImperativeHandle(t,()=>({getSharedEvent(){return b.current},getSharedStore(){return y.current},dispatch(w){const{type:C,payload:_}=w;g({type:C,payload:_})}}),[]),O.useEffect(()=>(b.current||(b.current=new Jt),y.current||(y.current=new Fr({defaultStorage:Hd()})),G9({sharedEvent:b.current,sharedStore:y.current}),()=>{var x,w;(x=y.current)===null||x===void 0||x.clear(),(w=b.current)===null||w===void 0||w.destroy(),b.current=null,y.current=null}),[]),O.useEffect(()=>{const x=y.current;x&&x.set("selectedUUIDs",[...v.selectedUUIDs])},[v.selectedUUIDs]),O.useEffect(()=>{const x=b.current;x==null||x.trigger("switchTheme",{theme:v.themeMode})},[v.themeMode]),O.useEffect(()=>{const x=b.current;x==null||x.trigger("changeLocale",{locale:v.localeCode})},[v.localeCode]),O.useEffect(()=>{const x=b.current;x==null||x.trigger("trackDataChange",{data:v.data})},[v.data]),O.useEffect(()=>{const x=b.current;x==null||x.trigger("trackEditingDataChange",{editingData:v.editingData,editingDataPosition:v.editingDataPosition})},[v.editingData,v.editingDataPosition]),O.useMemo(()=>l.createElement(eh,{localeCode:v.localeCode,container:m.current,topPrefix:u,themeMode:v.themeMode},l.createElement(m9,{value:{state:v,dispatch:g}},l.createElement(W9,{logo:o,navigationMenu:s,navigationCenter:c,ref:m,width:n,height:r,style:a,className:i,defaultSelectedElementUUIDs:d,sharedEvent:b.current,sharedStore:y.current,useContextMenuOptions:p,handleKeyboard:h}))),[u,n,r,v,g,m])});export{J9 as S};
